const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-zjj74GHP.js","assets/v4-CtRu48qb.js","assets/index-CyFKL4dj.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function Ra(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function W_(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var a=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return r[i]}})}),t}var D0={exports:{}},tu={};var bb;function px(){if(bb)return tu;bb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:u,ref:a!==void 0?a:null,props:o}}return tu.Fragment=e,tu.jsx=t,tu.jsxs=t,tu}var _b;function mx(){return _b||(_b=1,D0.exports=px()),D0.exports}var ne=mx(),z0={exports:{}},Ke={};var Sb;function yx(){if(Sb)return Ke;Sb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function E(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,k={};function U(T,y,v){this.props=T,this.context=y,this.refs=k,this.updater=v||C}U.prototype.isReactComponent={},U.prototype.setState=function(T,y){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,y,"setState")},U.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function q(){}q.prototype=U.prototype;function L(T,y,v){this.props=T,this.context=y,this.refs=k,this.updater=v||C}var G=L.prototype=new q;G.constructor=L,B(G,U.prototype),G.isPureReactComponent=!0;var te=Array.isArray;function J(){}var se={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function P(T,y,v){var I=v.ref;return{$$typeof:r,type:T,key:y,ref:I!==void 0?I:null,props:v}}function K(T,y){return P(T.type,y,T.props)}function Z(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function Q(T){var y={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(v){return y[v]})}var O=/\/+/g;function m(T,y){return typeof T=="object"&&T!==null&&T.key!=null?Q(""+T.key):y.toString(36)}function b(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(J,J):(T.status="pending",T.then(function(y){T.status==="pending"&&(T.status="fulfilled",T.value=y)},function(y){T.status==="pending"&&(T.status="rejected",T.reason=y)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function A(T,y,v,I,H){var ee=typeof T;(ee==="undefined"||ee==="boolean")&&(T=null);var le=!1;if(T===null)le=!0;else switch(ee){case"bigint":case"string":case"number":le=!0;break;case"object":switch(T.$$typeof){case r:case e:le=!0;break;case w:return le=T._init,A(le(T._payload),y,v,I,H)}}if(le)return H=H(T),le=I===""?"."+m(T,0):I,te(H)?(v="",le!=null&&(v=le.replace(O,"$&/")+"/"),A(H,y,v,"",function(Ge){return Ge})):H!=null&&(Z(H)&&(H=K(H,v+(H.key==null||T&&T.key===H.key?"":(""+H.key).replace(O,"$&/")+"/")+le)),y.push(H)),1;le=0;var be=I===""?".":I+":";if(te(T))for(var Ee=0;Ee<T.length;Ee++)I=T[Ee],ee=be+m(I,Ee),le+=A(I,y,v,ee,H);else if(Ee=E(T),typeof Ee=="function")for(T=Ee.call(T),Ee=0;!(I=T.next()).done;)I=I.value,ee=be+m(I,Ee++),le+=A(I,y,v,ee,H);else if(ee==="object"){if(typeof T.then=="function")return A(b(T),y,v,I,H);throw y=String(T),Error("Objects are not valid as a React child (found: "+(y==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":y)+"). If you meant to render a collection of children, use an array instead.")}return le}function N(T,y,v){if(T==null)return T;var I=[],H=0;return A(T,I,"","",function(ee){return y.call(v,ee,H++)}),I}function D(T){if(T._status===-1){var y=T._result;y=y(),y.then(function(v){(T._status===0||T._status===-1)&&(T._status=1,T._result=v)},function(v){(T._status===0||T._status===-1)&&(T._status=2,T._result=v)}),T._status===-1&&(T._status=0,T._result=y)}if(T._status===1)return T._result.default;throw T._result}var $=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},F={map:N,forEach:function(T,y,v){N(T,function(){y.apply(this,arguments)},v)},count:function(T){var y=0;return N(T,function(){y++}),y},toArray:function(T){return N(T,function(y){return y})||[]},only:function(T){if(!Z(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ke.Activity=_,Ke.Children=F,Ke.Component=U,Ke.Fragment=t,Ke.Profiler=a,Ke.PureComponent=L,Ke.StrictMode=i,Ke.Suspense=h,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(T){return se.H.useMemoCache(T)}},Ke.cache=function(T){return function(){return T.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(T,y,v){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var I=B({},T.props),H=T.key;if(y!=null)for(ee in y.key!==void 0&&(H=""+y.key),y)!oe.call(y,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&y.ref===void 0||(I[ee]=y[ee]);var ee=arguments.length-2;if(ee===1)I.children=v;else if(1<ee){for(var le=Array(ee),be=0;be<ee;be++)le[be]=arguments[be+2];I.children=le}return P(T.type,H,I)},Ke.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:o,_context:T},T},Ke.createElement=function(T,y,v){var I,H={},ee=null;if(y!=null)for(I in y.key!==void 0&&(ee=""+y.key),y)oe.call(y,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(H[I]=y[I]);var le=arguments.length-2;if(le===1)H.children=v;else if(1<le){for(var be=Array(le),Ee=0;Ee<le;Ee++)be[Ee]=arguments[Ee+2];H.children=be}if(T&&T.defaultProps)for(I in le=T.defaultProps,le)H[I]===void 0&&(H[I]=le[I]);return P(T,ee,H)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(T){return{$$typeof:f,render:T}},Ke.isValidElement=Z,Ke.lazy=function(T){return{$$typeof:w,_payload:{_status:-1,_result:T},_init:D}},Ke.memo=function(T,y){return{$$typeof:g,type:T,compare:y===void 0?null:y}},Ke.startTransition=function(T){var y=se.T,v={};se.T=v;try{var I=T(),H=se.S;H!==null&&H(v,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(J,$)}catch(ee){$(ee)}finally{y!==null&&v.types!==null&&(y.types=v.types),se.T=y}},Ke.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ke.use=function(T){return se.H.use(T)},Ke.useActionState=function(T,y,v){return se.H.useActionState(T,y,v)},Ke.useCallback=function(T,y){return se.H.useCallback(T,y)},Ke.useContext=function(T){return se.H.useContext(T)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(T,y){return se.H.useDeferredValue(T,y)},Ke.useEffect=function(T,y){return se.H.useEffect(T,y)},Ke.useEffectEvent=function(T){return se.H.useEffectEvent(T)},Ke.useId=function(){return se.H.useId()},Ke.useImperativeHandle=function(T,y,v){return se.H.useImperativeHandle(T,y,v)},Ke.useInsertionEffect=function(T,y){return se.H.useInsertionEffect(T,y)},Ke.useLayoutEffect=function(T,y){return se.H.useLayoutEffect(T,y)},Ke.useMemo=function(T,y){return se.H.useMemo(T,y)},Ke.useOptimistic=function(T,y){return se.H.useOptimistic(T,y)},Ke.useReducer=function(T,y,v){return se.H.useReducer(T,y,v)},Ke.useRef=function(T){return se.H.useRef(T)},Ke.useState=function(T){return se.H.useState(T)},Ke.useSyncExternalStore=function(T,y,v){return se.H.useSyncExternalStore(T,y,v)},Ke.useTransition=function(){return se.H.useTransition()},Ke.version="19.2.4",Ke}var Eb;function nm(){return Eb||(Eb=1,z0.exports=yx()),z0.exports}var X=nm();const xe=Ra(X);var q0={exports:{}},nu={},H0={exports:{}},P0={};var Ab;function wx(){return Ab||(Ab=1,(function(r){function e(A,N){var D=A.length;A.push(N);e:for(;0<D;){var $=D-1>>>1,F=A[$];if(0<a(F,N))A[$]=N,A[D]=F,D=$;else break e}}function t(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var N=A[0],D=A.pop();if(D!==N){A[0]=D;e:for(var $=0,F=A.length,T=F>>>1;$<T;){var y=2*($+1)-1,v=A[y],I=y+1,H=A[I];if(0>a(v,D))I<F&&0>a(H,v)?(A[$]=H,A[I]=D,$=I):(A[$]=v,A[y]=D,$=y);else if(I<F&&0>a(H,D))A[$]=H,A[I]=D,$=I;else break e}}return N}function a(A,N){var D=A.sortIndex-N.sortIndex;return D!==0?D:A.id-N.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var h=[],g=[],w=1,_=null,x=3,E=!1,C=!1,B=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function G(A){for(var N=t(g);N!==null;){if(N.callback===null)i(g);else if(N.startTime<=A)i(g),N.sortIndex=N.expirationTime,e(h,N);else break;N=t(g)}}function te(A){if(B=!1,G(A),!C)if(t(h)!==null)C=!0,J||(J=!0,Q());else{var N=t(g);N!==null&&b(te,N.startTime-A)}}var J=!1,se=-1,oe=5,P=-1;function K(){return k?!0:!(r.unstable_now()-P<oe)}function Z(){if(k=!1,J){var A=r.unstable_now();P=A;var N=!0;try{e:{C=!1,B&&(B=!1,q(se),se=-1),E=!0;var D=x;try{t:{for(G(A),_=t(h);_!==null&&!(_.expirationTime>A&&K());){var $=_.callback;if(typeof $=="function"){_.callback=null,x=_.priorityLevel;var F=$(_.expirationTime<=A);if(A=r.unstable_now(),typeof F=="function"){_.callback=F,G(A),N=!0;break t}_===t(h)&&i(h),G(A)}else i(h);_=t(h)}if(_!==null)N=!0;else{var T=t(g);T!==null&&b(te,T.startTime-A),N=!1}}break e}finally{_=null,x=D,E=!1}N=void 0}}finally{N?Q():J=!1}}}var Q;if(typeof L=="function")Q=function(){L(Z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,m=O.port2;O.port1.onmessage=Z,Q=function(){m.postMessage(null)}}else Q=function(){U(Z,0)};function b(A,N){se=U(function(){A(r.unstable_now())},N)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(A){A.callback=null},r.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<A?Math.floor(1e3/A):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(A){switch(x){case 1:case 2:case 3:var N=3;break;default:N=x}var D=x;x=N;try{return A()}finally{x=D}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(A,N){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var D=x;x=A;try{return N()}finally{x=D}},r.unstable_scheduleCallback=function(A,N,D){var $=r.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?$+D:$):D=$,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=D+F,A={id:w++,callback:N,priorityLevel:A,startTime:D,expirationTime:F,sortIndex:-1},D>$?(A.sortIndex=D,e(g,A),t(h)===null&&A===t(g)&&(B?(q(se),se=-1):B=!0,b(te,D-$))):(A.sortIndex=F,e(h,A),C||E||(C=!0,J||(J=!0,Q()))),A},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(A){var N=x;return function(){var D=x;x=N;try{return A.apply(this,arguments)}finally{x=D}}}})(P0)),P0}var xb;function vx(){return xb||(xb=1,H0.exports=wx()),H0.exports}var W0={exports:{}},Pn={};var Mb;function bx(){if(Mb)return Pn;Mb=1;var r=nm();function e(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,g,w){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:h,containerInfo:g,implementation:w}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Pn.createPortal=function(h,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(h,g,null,w)},Pn.flushSync=function(h){var g=u.T,w=i.p;try{if(u.T=null,i.p=2,h)return h()}finally{u.T=g,i.p=w,i.d.f()}},Pn.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(h,g))},Pn.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Pn.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var w=g.as,_=f(w,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?i.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:E}):w==="script"&&i.d.X(h,{crossOrigin:_,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Pn.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=f(g.as,g.crossOrigin);i.d.M(h,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(h)},Pn.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,_=f(w,g.crossOrigin);i.d.L(h,w,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Pn.preloadModule=function(h,g){if(typeof h=="string")if(g){var w=f(g.as,g.crossOrigin);i.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(h)},Pn.requestFormReset=function(h){i.d.r(h)},Pn.unstable_batchedUpdates=function(h,g){return h(g)},Pn.useFormState=function(h,g,w){return u.H.useFormState(h,g,w)},Pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pn.version="19.2.4",Pn}var Tb;function $_(){if(Tb)return W0.exports;Tb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),W0.exports=bx(),W0.exports}var Rb;function _x(){if(Rb)return nu;Rb=1;var r=vx(),e=nm(),t=$_();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,c=s;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return h(d),n;if(p===c)return h(d),s;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=d,c=p;else{for(var R=!1,z=d.child;z;){if(z===l){R=!0,l=d,c=p;break}if(z===c){R=!0,c=d,l=p;break}z=z.sibling}if(!R){for(z=p.child;z;){if(z===l){R=!0,l=p,c=d;break}if(z===c){R=!0,c=p,l=d;break}z=z.sibling}if(!R)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function w(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=w(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),L=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function m(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case te:return"Suspense";case J:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case L:return n.displayName||"Context";case q:return(n._context.displayName||"Context")+".Consumer";case G:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case se:return s=n.displayName||null,s!==null?s:m(n.type)||"Memo";case oe:s=n._payload,n=n._init;try{return m(n(s))}catch{}}return null}var b=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},$=[],F=-1;function T(n){return{current:n}}function y(n){0>F||(n.current=$[F],$[F]=null,F--)}function v(n,s){F++,$[F]=n.current,n.current=s}var I=T(null),H=T(null),ee=T(null),le=T(null);function be(n,s){switch(v(ee,s),v(H,n),v(I,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Wv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Wv(s),n=$v(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}y(I),v(I,n)}function Ee(){y(I),y(H),y(ee)}function Ge(n){n.memoizedState!==null&&v(le,n);var s=I.current,l=$v(s,n.type);s!==l&&(v(H,n),v(I,l))}function st(n){H.current===n&&(y(I),y(H)),le.current===n&&(y(le),Ql._currentValue=D)}var dt,Zn;function lt(n){if(dt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);dt=s&&s[1]||"",Zn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+n+Zn}var xt=!1;function Qi(n,s){if(!n||xt)return"";xt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(me){var de=me}Reflect.construct(n,[],ve)}else{try{ve.call()}catch(me){de=me}n.call(ve.prototype)}}else{try{throw Error()}catch(me){de=me}(ve=n())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),R=p[0],z=p[1];if(R&&z){var V=R.split(`
`),he=z.split(`
`);for(d=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;d<he.length&&!he[d].includes("DetermineComponentFrameRoot");)d++;if(c===V.length||d===he.length)for(c=V.length-1,d=he.length-1;1<=c&&0<=d&&V[c]!==he[d];)d--;for(;1<=c&&0<=d;c--,d--)if(V[c]!==he[d]){if(c!==1||d!==1)do if(c--,d--,0>d||V[c]!==he[d]){var ye=`
`+V[c].replace(" at new "," at ");return n.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",n.displayName)),ye}while(1<=c&&0<=d);break}}}finally{xt=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?lt(l):""}function Mt(n,s){switch(n.tag){case 26:case 27:case 5:return lt(n.type);case 16:return lt("Lazy");case 13:return n.child!==s&&s!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Qi(n.type,!1);case 11:return Qi(n.type.render,!1);case 1:return Qi(n.type,!0);case 31:return lt("Activity");default:return""}}function Nt(n){try{var s="",l=null;do s+=Mt(n,l),l=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ji=Object.prototype.hasOwnProperty,St=r.unstable_scheduleCallback,gt=r.unstable_cancelCallback,Qn=r.unstable_shouldYield,Tt=r.unstable_requestPaint,nt=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,kt=r.unstable_ImmediatePriority,j=r.unstable_UserBlockingPriority,S=r.unstable_NormalPriority,M=r.unstable_LowPriority,W=r.unstable_IdlePriority,ie=r.log,ue=r.unstable_setDisableYieldValue,pe=null,je=null;function ze(n){if(typeof ie=="function"&&ue(n),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(pe,n)}catch{}}var Ne=Math.clz32?Math.clz32:nn,Et=Math.log,Pe=Math.LN2;function nn(n){return n>>>=0,n===0?32:31-(Et(n)/Pe|0)|0}var qs=256,It=262144,Lt=4194304;function Yr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jt(n,s,l){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,R=n.pingedLanes;n=n.warmLanes;var z=c&134217727;return z!==0?(c=z&~p,c!==0?d=Yr(c):(R&=z,R!==0?d=Yr(R):l||(l=z&~n,l!==0&&(d=Yr(l))))):(z=c&~p,z!==0?d=Yr(z):R!==0?d=Yr(R):l||(l=c&~n,l!==0&&(d=Yr(l)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,l=s&-s,p>=l||p===32&&(l&4194048)!==0)?s:d}function Rt(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ku(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var n=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),n}function zt(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Xi(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function rn(n,s,l,c,d,p){var R=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var z=n.entanglements,V=n.expirationTimes,he=n.hiddenUpdates;for(l=R&~l;0<l;){var ye=31-Ne(l),ve=1<<ye;z[ye]=0,V[ye]=-1;var de=he[ye];if(de!==null)for(he[ye]=null,ye=0;ye<de.length;ye++){var me=de[ye];me!==null&&(me.lane&=-536870913)}l&=~ve}c!==0&&Yt(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(R&~s))}function Yt(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-Ne(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|l&261930}function cl(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var c=31-Ne(l),d=1<<c;d&s|n[c]&s&&(n[c]|=s),l&=~d}}function Zt(n,s){var l=s&-s;return l=(l&42)!==0?1:qt(l),(l&(n.suspendedLanes|s))!==0?0:l}function qt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ua(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Qt(){var n=N.p;return n!==0?n:(n=window.event,n===void 0?32:db(n.type))}function Jt(n,s){var l=N.p;try{return N.p=n,s()}finally{N.p=l}}var jr=Math.random().toString(36).slice(2),Je="__reactFiber$"+jr,at="__reactProps$"+jr,ui="__reactContainer$"+jr,Ht="__reactEvents$"+jr,sn="__reactListeners$"+jr,fl="__reactHandles$"+jr,Da="__reactResources$"+jr,ci="__reactMarker$"+jr;function Hs(n){delete n[Je],delete n[at],delete n[Ht],delete n[sn],delete n[fl]}function Zr(n){var s=n[Je];if(s)return s;for(var l=n.parentNode;l;){if(s=l[ui]||l[Je]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Qv(n);n!==null;){if(l=n[Je])return l;n=Qv(n)}return s}n=l,l=n.parentNode}return null}function Qr(n){if(n=n[Je]||n[ui]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function fi(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Jr(n){var s=n[Da];return s||(s=n[Da]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function an(n){n[ci]=!0}var za=new Set,qa={};function Ur(n,s){Xr(n,s),Xr(n+"Capture",s)}function Xr(n,s){for(qa[n]=s,n=0;n<s.length;n++)za.add(s[n])}var hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ha={},Pa={};function dl(n){return Ji.call(Pa,n)?!0:Ji.call(Ha,n)?!1:hl.test(n)?Pa[n]=!0:(Ha[n]=!0,!1)}function es(n,s,l){if(dl(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function ts(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function hi(n,s,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+c)}}function Ar(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Lm(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function l2(n,s,l){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(R){l=""+R,p.call(this,R)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(R){l=""+R},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Oh(n){if(!n._valueTracker){var s=Lm(n)?"checked":"value";n._valueTracker=l2(n,s,""+n[s])}}function jm(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return n&&(c=Lm(n)?n.checked?"true":"false":n.value),n=c,n!==l?(s.setValue(n),!0):!1}function Fu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var u2=/[\n"\\]/g;function xr(n){return n.replace(u2,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Nh(n,s,l,c,d,p,R,z){n.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.type=R:n.removeAttribute("type"),s!=null?R==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ar(s)):n.value!==""+Ar(s)&&(n.value=""+Ar(s)):R!=="submit"&&R!=="reset"||n.removeAttribute("value"),s!=null?kh(n,R,Ar(s)):l!=null?kh(n,R,Ar(l)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?n.name=""+Ar(z):n.removeAttribute("name")}function Um(n,s,l,c,d,p,R,z){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Oh(n);return}l=l!=null?""+Ar(l):"",s=s!=null?""+Ar(s):l,z||s===n.value||(n.value=s),n.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=z?n.checked:!!c,n.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(n.name=R),Oh(n)}function kh(n,s,l){s==="number"&&Fu(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Wa(n,s,l,c){if(n=n.options,s){s={};for(var d=0;d<l.length;d++)s["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=s.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Ar(l),s=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Dm(n,s,l){if(s!=null&&(s=""+Ar(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Ar(l):""}function zm(n,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(b(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Ar(s),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c),Oh(n)}function $a(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var c2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qm(n,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,l):typeof l!="number"||l===0||c2.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function Hm(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&l[d]!==c&&qm(n,d,c)}else for(var p in s)s.hasOwnProperty(p)&&qm(n,p,s[p])}function Ih(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gu(n){return h2.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function di(){}var Lh=null;function jh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ka=null,Fa=null;function Pm(n){var s=Qr(n);if(s&&(n=s.stateNode)){var l=n[at]||null;e:switch(n=s.stateNode,s.type){case"input":if(Nh(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==n&&c.form===n.form){var d=c[at]||null;if(!d)throw Error(i(90));Nh(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===n.form&&jm(c)}break e;case"textarea":Dm(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Wa(n,!!l.multiple,s,!1)}}}var Uh=!1;function Wm(n,s,l){if(Uh)return n(s,l);Uh=!0;try{var c=n(s);return c}finally{if(Uh=!1,(Ka!==null||Fa!==null)&&(Ic(),Ka&&(s=Ka,n=Fa,Fa=Ka=null,Pm(s),n)))for(s=0;s<n.length;s++)Pm(n[s])}}function gl(n,s){var l=n.stateNode;if(l===null)return null;var c=l[at]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dh=!1;if(gi)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Dh=!1}var ns=null,zh=null,Vu=null;function $m(){if(Vu)return Vu;var n,s=zh,l=s.length,c,d="value"in ns?ns.value:ns.textContent,p=d.length;for(n=0;n<l&&s[n]===d[n];n++);var R=l-n;for(c=1;c<=R&&s[l-c]===d[p-c];c++);return Vu=d.slice(n,1<c?1-c:void 0)}function Yu(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Zu(){return!0}function Km(){return!1}function tr(n){function s(l,c,d,p,R){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=R,this.currentTarget=null;for(var z in n)n.hasOwnProperty(z)&&(l=n[z],this[z]=l?l(p):p[z]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Zu:Km,this.isPropagationStopped=Km,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zu)},persist:function(){},isPersistent:Zu}),s}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=tr(Ps),ml=_({},Ps,{view:0,detail:0}),d2=tr(ml),qh,Hh,yl,Ju=_({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yl&&(yl&&n.type==="mousemove"?(qh=n.screenX-yl.screenX,Hh=n.screenY-yl.screenY):Hh=qh=0,yl=n),qh)},movementY:function(n){return"movementY"in n?n.movementY:Hh}}),Fm=tr(Ju),g2=_({},Ju,{dataTransfer:0}),p2=tr(g2),m2=_({},ml,{relatedTarget:0}),Ph=tr(m2),y2=_({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),w2=tr(y2),v2=_({},Ps,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),b2=tr(v2),_2=_({},Ps,{data:0}),Gm=tr(_2),S2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=A2[n])?!!s[n]:!1}function Wh(){return x2}var M2=_({},ml,{key:function(n){if(n.key){var s=S2[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Yu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?E2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(n){return n.type==="keypress"?Yu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),T2=tr(M2),R2=_({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=tr(R2),C2=_({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),B2=tr(C2),O2=_({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),N2=tr(O2),k2=_({},Ju,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),I2=tr(k2),L2=_({},Ps,{newState:0,oldState:0}),j2=tr(L2),U2=[9,13,27,32],$h=gi&&"CompositionEvent"in window,wl=null;gi&&"documentMode"in document&&(wl=document.documentMode);var D2=gi&&"TextEvent"in window&&!wl,Ym=gi&&(!$h||wl&&8<wl&&11>=wl),Zm=" ",Qm=!1;function Jm(n,s){switch(n){case"keyup":return U2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ga=!1;function z2(n,s){switch(n){case"compositionend":return Xm(s);case"keypress":return s.which!==32?null:(Qm=!0,Zm);case"textInput":return n=s.data,n===Zm&&Qm?null:n;default:return null}}function q2(n,s){if(Ga)return n==="compositionend"||!$h&&Jm(n,s)?(n=$m(),Vu=zh=ns=null,Ga=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ym&&s.locale!=="ko"?null:s.data;default:return null}}var H2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!H2[n.type]:s==="textarea"}function ty(n,s,l,c){Ka?Fa?Fa.push(c):Fa=[c]:Ka=c,s=Hc(s,"onChange"),0<s.length&&(l=new Qu("onChange","change",null,l,c),n.push({event:l,listeners:s}))}var vl=null,bl=null;function P2(n){Uv(n,0)}function Xu(n){var s=fi(n);if(jm(s))return n}function ny(n,s){if(n==="change")return s}var ry=!1;if(gi){var Kh;if(gi){var Fh="oninput"in document;if(!Fh){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Fh=typeof iy.oninput=="function"}Kh=Fh}else Kh=!1;ry=Kh&&(!document.documentMode||9<document.documentMode)}function sy(){vl&&(vl.detachEvent("onpropertychange",ay),bl=vl=null)}function ay(n){if(n.propertyName==="value"&&Xu(bl)){var s=[];ty(s,bl,n,jh(n)),Wm(P2,s)}}function W2(n,s,l){n==="focusin"?(sy(),vl=s,bl=l,vl.attachEvent("onpropertychange",ay)):n==="focusout"&&sy()}function $2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xu(bl)}function K2(n,s){if(n==="click")return Xu(s)}function F2(n,s){if(n==="input"||n==="change")return Xu(s)}function G2(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var cr=typeof Object.is=="function"?Object.is:G2;function _l(n,s){if(cr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!Ji.call(s,d)||!cr(n[d],s[d]))return!1}return!0}function oy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ly(n,s){var l=oy(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=s&&c>=s)return{node:l,offset:s-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=oy(l)}}function uy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?uy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function cy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Fu(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Fu(n.document)}return s}function Gh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var V2=gi&&"documentMode"in document&&11>=document.documentMode,Va=null,Vh=null,Sl=null,Yh=!1;function fy(n,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yh||Va==null||Va!==Fu(c)||(c=Va,"selectionStart"in c&&Gh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Sl&&_l(Sl,c)||(Sl=c,c=Hc(Vh,"onSelect"),0<c.length&&(s=new Qu("onSelect","select",null,s,l),n.push({event:s,listeners:c}),s.target=Va)))}function Ws(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Ya={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Zh={},hy={};gi&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function $s(n){if(Zh[n])return Zh[n];if(!Ya[n])return n;var s=Ya[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in hy)return Zh[n]=s[l];return n}var dy=$s("animationend"),gy=$s("animationiteration"),py=$s("animationstart"),Y2=$s("transitionrun"),Z2=$s("transitionstart"),Q2=$s("transitioncancel"),my=$s("transitionend"),yy=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Dr(n,s){yy.set(n,s),Ur(s,[n])}var ec=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Mr=[],Za=0,Jh=0;function tc(){for(var n=Za,s=Jh=Za=0;s<n;){var l=Mr[s];Mr[s++]=null;var c=Mr[s];Mr[s++]=null;var d=Mr[s];Mr[s++]=null;var p=Mr[s];if(Mr[s++]=null,c!==null&&d!==null){var R=c.pending;R===null?d.next=d:(d.next=R.next,R.next=d),c.pending=d}p!==0&&wy(l,d,p)}}function nc(n,s,l,c){Mr[Za++]=n,Mr[Za++]=s,Mr[Za++]=l,Mr[Za++]=c,Jh|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Xh(n,s,l,c){return nc(n,s,l,c),rc(n)}function Ks(n,s){return nc(n,null,null,s),rc(n)}function wy(n,s,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var d=!1,p=n.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&s!==null&&(d=31-Ne(l),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[s]:c.push(s),s.lane=l|536870912),p):null}function rc(n){if(50<$l)throw $l=0,l0=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Qa={};function J2(n,s,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(n,s,l,c){return new J2(n,s,l,c)}function ed(n){return n=n.prototype,!(!n||!n.isReactComponent)}function pi(n,s){var l=n.alternate;return l===null?(l=fr(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function vy(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ic(n,s,l,c,d,p){var R=0;if(c=n,typeof n=="function")ed(n)&&(R=1);else if(typeof n=="string")R=rx(n,l,I.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case P:return n=fr(31,l,s,d),n.elementType=P,n.lanes=p,n;case B:return Fs(l.children,d,p,s);case k:R=8,d|=24;break;case U:return n=fr(12,l,s,d|2),n.elementType=U,n.lanes=p,n;case te:return n=fr(13,l,s,d),n.elementType=te,n.lanes=p,n;case J:return n=fr(19,l,s,d),n.elementType=J,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:R=10;break e;case q:R=9;break e;case G:R=11;break e;case se:R=14;break e;case oe:R=16,c=null;break e}R=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return s=fr(R,l,s,d),s.elementType=n,s.type=c,s.lanes=p,s}function Fs(n,s,l,c){return n=fr(7,n,c,s),n.lanes=l,n}function td(n,s,l){return n=fr(6,n,null,s),n.lanes=l,n}function by(n){var s=fr(18,null,null,0);return s.stateNode=n,s}function nd(n,s,l){return s=fr(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var _y=new WeakMap;function Tr(n,s){if(typeof n=="object"&&n!==null){var l=_y.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Nt(s)},_y.set(n,s),s)}return{value:n,source:s,stack:Nt(s)}}var Ja=[],Xa=0,sc=null,El=0,Rr=[],Cr=0,rs=null,ei=1,ti="";function mi(n,s){Ja[Xa++]=El,Ja[Xa++]=sc,sc=n,El=s}function Sy(n,s,l){Rr[Cr++]=ei,Rr[Cr++]=ti,Rr[Cr++]=rs,rs=n;var c=ei;n=ti;var d=32-Ne(c)-1;c&=~(1<<d),l+=1;var p=32-Ne(s)+d;if(30<p){var R=d-d%5;p=(c&(1<<R)-1).toString(32),c>>=R,d-=R,ei=1<<32-Ne(s)+d|l<<d|c,ti=p+n}else ei=1<<p|l<<d|c,ti=n}function rd(n){n.return!==null&&(mi(n,1),Sy(n,1,0))}function id(n){for(;n===sc;)sc=Ja[--Xa],Ja[Xa]=null,El=Ja[--Xa],Ja[Xa]=null;for(;n===rs;)rs=Rr[--Cr],Rr[Cr]=null,ti=Rr[--Cr],Rr[Cr]=null,ei=Rr[--Cr],Rr[Cr]=null}function Ey(n,s){Rr[Cr++]=ei,Rr[Cr++]=ti,Rr[Cr++]=rs,ei=s.id,ti=s.overflow,rs=n}var Nn=null,Ut=null,ot=!1,is=null,Br=!1,sd=Error(i(519));function ss(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(Tr(s,n)),sd}function Ay(n){var s=n.stateNode,l=n.type,c=n.memoizedProps;switch(s[Je]=n,s[at]=c,l){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(l=0;l<Fl.length;l++)et(Fl[l],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":et("invalid",s),Um(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":et("invalid",s);break;case"textarea":et("invalid",s),zm(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||Hv(s.textContent,l)?(c.popover!=null&&(et("beforetoggle",s),et("toggle",s)),c.onScroll!=null&&et("scroll",s),c.onScrollEnd!=null&&et("scrollend",s),c.onClick!=null&&(s.onclick=di),s=!0):s=!1,s||ss(n,!0)}function xy(n){for(Nn=n.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:Nn=Nn.return}}function eo(n){if(n!==Nn)return!1;if(!ot)return xy(n),ot=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||E0(n.type,n.memoizedProps)),l=!l),l&&Ut&&ss(n),xy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Ut=Zv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Ut=Zv(n)}else s===27?(s=Ut,vs(n.type)?(n=R0,R0=null,Ut=n):Ut=s):Ut=Nn?Nr(n.stateNode.nextSibling):null;return!0}function Gs(){Ut=Nn=null,ot=!1}function ad(){var n=is;return n!==null&&(sr===null?sr=n:sr.push.apply(sr,n),is=null),n}function Al(n){is===null?is=[n]:is.push(n)}var od=T(null),Vs=null,yi=null;function as(n,s,l){v(od,s._currentValue),s._currentValue=l}function wi(n){n._currentValue=od.current,y(od)}function ld(n,s,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===l)break;n=n.return}}function ud(n,s,l,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var R=d.child;p=p.firstContext;e:for(;p!==null;){var z=p;p=d;for(var V=0;V<s.length;V++)if(z.context===s[V]){p.lanes|=l,z=p.alternate,z!==null&&(z.lanes|=l),ld(p.return,l,n),c||(R=null);break e}p=z.next}}else if(d.tag===18){if(R=d.return,R===null)throw Error(i(341));R.lanes|=l,p=R.alternate,p!==null&&(p.lanes|=l),ld(R,l,n),R=null}else R=d.child;if(R!==null)R.return=d;else for(R=d;R!==null;){if(R===n){R=null;break}if(d=R.sibling,d!==null){d.return=R.return,R=d;break}R=R.return}d=R}}function to(n,s,l,c){n=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var R=d.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var z=d.type;cr(d.pendingProps.value,R.value)||(n!==null?n.push(z):n=[z])}}else if(d===le.current){if(R=d.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Ql):n=[Ql])}d=d.return}n!==null&&ud(s,n,l,c),s.flags|=262144}function ac(n){for(n=n.firstContext;n!==null;){if(!cr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ys(n){Vs=n,yi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function kn(n){return My(Vs,n)}function oc(n,s){return Vs===null&&Ys(n),My(n,s)}function My(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},yi===null){if(n===null)throw Error(i(308));yi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else yi=yi.next=s;return l}var X2=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},eA=r.unstable_scheduleCallback,tA=r.unstable_NormalPriority,mn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new X2,data:new Map,refCount:0}}function xl(n){n.refCount--,n.refCount===0&&eA(tA,function(){n.controller.abort()})}var Ml=null,fd=0,no=0,ro=null;function nA(n,s){if(Ml===null){var l=Ml=[];fd=0,no=g0(),ro={status:"pending",value:void 0,then:function(c){l.push(c)}}}return fd++,s.then(Ty,Ty),s}function Ty(){if(--fd===0&&Ml!==null){ro!==null&&(ro.status="fulfilled");var n=Ml;Ml=null,no=0,ro=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function rA(n,s){var l=[],c={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<l.length;d++)(0,l[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),c}var Ry=A.S;A.S=function(n,s){fv=nt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&nA(n,s),Ry!==null&&Ry(n,s)};var Zs=T(null);function hd(){var n=Zs.current;return n!==null?n:At.pooledCache}function lc(n,s){s===null?v(Zs,Zs.current):v(Zs,s.pool)}function Cy(){var n=hd();return n===null?null:{parent:mn._currentValue,pool:n}}var io=Error(i(460)),dd=Error(i(474)),uc=Error(i(542)),cc={then:function(){}};function By(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Oy(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(di,di),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,ky(n),n;default:if(typeof s.status=="string")s.then(di,di);else{if(n=At,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,ky(n),n}throw Js=s,io}}function Qs(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Js=l,io):l}}var Js=null;function Ny(){if(Js===null)throw Error(i(459));var n=Js;return Js=null,n}function ky(n){if(n===io||n===uc)throw Error(i(483))}var so=null,Tl=0;function fc(n){var s=Tl;return Tl+=1,so===null&&(so=[]),Oy(so,n,s)}function Rl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function hc(n,s){throw s.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Iy(n){function s(ae,re){if(n){var fe=ae.deletions;fe===null?(ae.deletions=[re],ae.flags|=16):fe.push(re)}}function l(ae,re){if(!n)return null;for(;re!==null;)s(ae,re),re=re.sibling;return null}function c(ae){for(var re=new Map;ae!==null;)ae.key!==null?re.set(ae.key,ae):re.set(ae.index,ae),ae=ae.sibling;return re}function d(ae,re){return ae=pi(ae,re),ae.index=0,ae.sibling=null,ae}function p(ae,re,fe){return ae.index=fe,n?(fe=ae.alternate,fe!==null?(fe=fe.index,fe<re?(ae.flags|=67108866,re):fe):(ae.flags|=67108866,re)):(ae.flags|=1048576,re)}function R(ae){return n&&ae.alternate===null&&(ae.flags|=67108866),ae}function z(ae,re,fe,we){return re===null||re.tag!==6?(re=td(fe,ae.mode,we),re.return=ae,re):(re=d(re,fe),re.return=ae,re)}function V(ae,re,fe,we){var Le=fe.type;return Le===B?ye(ae,re,fe.props.children,we,fe.key):re!==null&&(re.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===oe&&Qs(Le)===re.type)?(re=d(re,fe.props),Rl(re,fe),re.return=ae,re):(re=ic(fe.type,fe.key,fe.props,null,ae.mode,we),Rl(re,fe),re.return=ae,re)}function he(ae,re,fe,we){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?(re=nd(fe,ae.mode,we),re.return=ae,re):(re=d(re,fe.children||[]),re.return=ae,re)}function ye(ae,re,fe,we,Le){return re===null||re.tag!==7?(re=Fs(fe,ae.mode,we,Le),re.return=ae,re):(re=d(re,fe),re.return=ae,re)}function ve(ae,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=td(""+re,ae.mode,fe),re.return=ae,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return fe=ic(re.type,re.key,re.props,null,ae.mode,fe),Rl(fe,re),fe.return=ae,fe;case C:return re=nd(re,ae.mode,fe),re.return=ae,re;case oe:return re=Qs(re),ve(ae,re,fe)}if(b(re)||Q(re))return re=Fs(re,ae.mode,fe,null),re.return=ae,re;if(typeof re.then=="function")return ve(ae,fc(re),fe);if(re.$$typeof===L)return ve(ae,oc(ae,re),fe);hc(ae,re)}return null}function de(ae,re,fe,we){var Le=re!==null?re.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Le!==null?null:z(ae,re,""+fe,we);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:return fe.key===Le?V(ae,re,fe,we):null;case C:return fe.key===Le?he(ae,re,fe,we):null;case oe:return fe=Qs(fe),de(ae,re,fe,we)}if(b(fe)||Q(fe))return Le!==null?null:ye(ae,re,fe,we,null);if(typeof fe.then=="function")return de(ae,re,fc(fe),we);if(fe.$$typeof===L)return de(ae,re,oc(ae,fe),we);hc(ae,fe)}return null}function me(ae,re,fe,we,Le){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ae=ae.get(fe)||null,z(re,ae,""+we,Le);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case E:return ae=ae.get(we.key===null?fe:we.key)||null,V(re,ae,we,Le);case C:return ae=ae.get(we.key===null?fe:we.key)||null,he(re,ae,we,Le);case oe:return we=Qs(we),me(ae,re,fe,we,Le)}if(b(we)||Q(we))return ae=ae.get(fe)||null,ye(re,ae,we,Le,null);if(typeof we.then=="function")return me(ae,re,fe,fc(we),Le);if(we.$$typeof===L)return me(ae,re,fe,oc(re,we),Le);hc(re,we)}return null}function Ce(ae,re,fe,we){for(var Le=null,ut=null,Be=re,Ve=re=0,it=null;Be!==null&&Ve<fe.length;Ve++){Be.index>Ve?(it=Be,Be=null):it=Be.sibling;var ct=de(ae,Be,fe[Ve],we);if(ct===null){Be===null&&(Be=it);break}n&&Be&&ct.alternate===null&&s(ae,Be),re=p(ct,re,Ve),ut===null?Le=ct:ut.sibling=ct,ut=ct,Be=it}if(Ve===fe.length)return l(ae,Be),ot&&mi(ae,Ve),Le;if(Be===null){for(;Ve<fe.length;Ve++)Be=ve(ae,fe[Ve],we),Be!==null&&(re=p(Be,re,Ve),ut===null?Le=Be:ut.sibling=Be,ut=Be);return ot&&mi(ae,Ve),Le}for(Be=c(Be);Ve<fe.length;Ve++)it=me(Be,ae,Ve,fe[Ve],we),it!==null&&(n&&it.alternate!==null&&Be.delete(it.key===null?Ve:it.key),re=p(it,re,Ve),ut===null?Le=it:ut.sibling=it,ut=it);return n&&Be.forEach(function(As){return s(ae,As)}),ot&&mi(ae,Ve),Le}function He(ae,re,fe,we){if(fe==null)throw Error(i(151));for(var Le=null,ut=null,Be=re,Ve=re=0,it=null,ct=fe.next();Be!==null&&!ct.done;Ve++,ct=fe.next()){Be.index>Ve?(it=Be,Be=null):it=Be.sibling;var As=de(ae,Be,ct.value,we);if(As===null){Be===null&&(Be=it);break}n&&Be&&As.alternate===null&&s(ae,Be),re=p(As,re,Ve),ut===null?Le=As:ut.sibling=As,ut=As,Be=it}if(ct.done)return l(ae,Be),ot&&mi(ae,Ve),Le;if(Be===null){for(;!ct.done;Ve++,ct=fe.next())ct=ve(ae,ct.value,we),ct!==null&&(re=p(ct,re,Ve),ut===null?Le=ct:ut.sibling=ct,ut=ct);return ot&&mi(ae,Ve),Le}for(Be=c(Be);!ct.done;Ve++,ct=fe.next())ct=me(Be,ae,Ve,ct.value,we),ct!==null&&(n&&ct.alternate!==null&&Be.delete(ct.key===null?Ve:ct.key),re=p(ct,re,Ve),ut===null?Le=ct:ut.sibling=ct,ut=ct);return n&&Be.forEach(function(gx){return s(ae,gx)}),ot&&mi(ae,Ve),Le}function _t(ae,re,fe,we){if(typeof fe=="object"&&fe!==null&&fe.type===B&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:e:{for(var Le=fe.key;re!==null;){if(re.key===Le){if(Le=fe.type,Le===B){if(re.tag===7){l(ae,re.sibling),we=d(re,fe.props.children),we.return=ae,ae=we;break e}}else if(re.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===oe&&Qs(Le)===re.type){l(ae,re.sibling),we=d(re,fe.props),Rl(we,fe),we.return=ae,ae=we;break e}l(ae,re);break}else s(ae,re);re=re.sibling}fe.type===B?(we=Fs(fe.props.children,ae.mode,we,fe.key),we.return=ae,ae=we):(we=ic(fe.type,fe.key,fe.props,null,ae.mode,we),Rl(we,fe),we.return=ae,ae=we)}return R(ae);case C:e:{for(Le=fe.key;re!==null;){if(re.key===Le)if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){l(ae,re.sibling),we=d(re,fe.children||[]),we.return=ae,ae=we;break e}else{l(ae,re);break}else s(ae,re);re=re.sibling}we=nd(fe,ae.mode,we),we.return=ae,ae=we}return R(ae);case oe:return fe=Qs(fe),_t(ae,re,fe,we)}if(b(fe))return Ce(ae,re,fe,we);if(Q(fe)){if(Le=Q(fe),typeof Le!="function")throw Error(i(150));return fe=Le.call(fe),He(ae,re,fe,we)}if(typeof fe.then=="function")return _t(ae,re,fc(fe),we);if(fe.$$typeof===L)return _t(ae,re,oc(ae,fe),we);hc(ae,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,re!==null&&re.tag===6?(l(ae,re.sibling),we=d(re,fe),we.return=ae,ae=we):(l(ae,re),we=td(fe,ae.mode,we),we.return=ae,ae=we),R(ae)):l(ae,re)}return function(ae,re,fe,we){try{Tl=0;var Le=_t(ae,re,fe,we);return so=null,Le}catch(Be){if(Be===io||Be===uc)throw Be;var ut=fr(29,Be,null,ae.mode);return ut.lanes=we,ut.return=ae,ut}}}var Xs=Iy(!0),Ly=Iy(!1),os=!1;function gd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ls(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function us(n,s,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=rc(n),wy(n,null,l),s}return nc(n,c,s,l),rc(n)}function Cl(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,l|=c,s.lanes=l,cl(n,l)}}function md(n,s){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?d=p=R:p=p.next=R,l=l.next}while(l!==null);p===null?d=p=s:p=p.next=s}else d=p=s;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var yd=!1;function Bl(){if(yd){var n=ro;if(n!==null)throw n}}function Ol(n,s,l,c){yd=!1;var d=n.updateQueue;os=!1;var p=d.firstBaseUpdate,R=d.lastBaseUpdate,z=d.shared.pending;if(z!==null){d.shared.pending=null;var V=z,he=V.next;V.next=null,R===null?p=he:R.next=he,R=V;var ye=n.alternate;ye!==null&&(ye=ye.updateQueue,z=ye.lastBaseUpdate,z!==R&&(z===null?ye.firstBaseUpdate=he:z.next=he,ye.lastBaseUpdate=V))}if(p!==null){var ve=d.baseState;R=0,ye=he=V=null,z=p;do{var de=z.lane&-536870913,me=de!==z.lane;if(me?(rt&de)===de:(c&de)===de){de!==0&&de===no&&(yd=!0),ye!==null&&(ye=ye.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Ce=n,He=z;de=s;var _t=l;switch(He.tag){case 1:if(Ce=He.payload,typeof Ce=="function"){ve=Ce.call(_t,ve,de);break e}ve=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=He.payload,de=typeof Ce=="function"?Ce.call(_t,ve,de):Ce,de==null)break e;ve=_({},ve,de);break e;case 2:os=!0}}de=z.callback,de!==null&&(n.flags|=64,me&&(n.flags|=8192),me=d.callbacks,me===null?d.callbacks=[de]:me.push(de))}else me={lane:de,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ye===null?(he=ye=me,V=ve):ye=ye.next=me,R|=de;if(z=z.next,z===null){if(z=d.shared.pending,z===null)break;me=z,z=me.next,me.next=null,d.lastBaseUpdate=me,d.shared.pending=null}}while(!0);ye===null&&(V=ve),d.baseState=V,d.firstBaseUpdate=he,d.lastBaseUpdate=ye,p===null&&(d.shared.lanes=0),gs|=R,n.lanes=R,n.memoizedState=ve}}function jy(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Uy(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)jy(l[n],s)}var ao=T(null),dc=T(0);function Dy(n,s){n=Ti,v(dc,n),v(ao,s),Ti=n|s.baseLanes}function wd(){v(dc,Ti),v(ao,ao.current)}function vd(){Ti=dc.current,y(ao),y(dc)}var hr=T(null),Or=null;function cs(n){var s=n.alternate;v(hn,hn.current&1),v(hr,n),Or===null&&(s===null||ao.current!==null||s.memoizedState!==null)&&(Or=n)}function bd(n){v(hn,hn.current),v(hr,n),Or===null&&(Or=n)}function zy(n){n.tag===22?(v(hn,hn.current),v(hr,n),Or===null&&(Or=n)):fs()}function fs(){v(hn,hn.current),v(hr,hr.current)}function dr(n){y(hr),Or===n&&(Or=null),y(hn)}var hn=T(0);function gc(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||M0(l)||T0(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var vi=0,Fe=null,vt=null,yn=null,pc=!1,oo=!1,ea=!1,mc=0,Nl=0,lo=null,iA=0;function on(){throw Error(i(321))}function _d(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!cr(n[l],s[l]))return!1;return!0}function Sd(n,s,l,c,d,p){return vi=p,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=n===null||n.memoizedState===null?Sw:Ud,ea=!1,p=l(c,d),ea=!1,oo&&(p=Hy(s,l,c,d)),qy(n),p}function qy(n){A.H=Ll;var s=vt!==null&&vt.next!==null;if(vi=0,yn=vt=Fe=null,pc=!1,Nl=0,lo=null,s)throw Error(i(300));n===null||wn||(n=n.dependencies,n!==null&&ac(n)&&(wn=!0))}function Hy(n,s,l,c){Fe=n;var d=0;do{if(oo&&(lo=null),Nl=0,oo=!1,25<=d)throw Error(i(301));if(d+=1,yn=vt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}A.H=Ew,p=s(l,c)}while(oo);return p}function sA(){var n=A.H,s=n.useState()[0];return s=typeof s.then=="function"?kl(s):s,n=n.useState()[0],(vt!==null?vt.memoizedState:null)!==n&&(Fe.flags|=1024),s}function Ed(){var n=mc!==0;return mc=0,n}function Ad(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function xd(n){if(pc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pc=!1}vi=0,yn=vt=Fe=null,oo=!1,Nl=mc=0,lo=null}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?Fe.memoizedState=yn=n:yn=yn.next=n,yn}function dn(){if(vt===null){var n=Fe.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var s=yn===null?Fe.memoizedState:yn.next;if(s!==null)yn=s,vt=n;else{if(n===null)throw Fe.alternate===null?Error(i(467)):Error(i(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},yn===null?Fe.memoizedState=yn=n:yn=yn.next=n}return yn}function yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(n){var s=Nl;return Nl+=1,lo===null&&(lo=[]),n=Oy(lo,n,s),s=Fe,(yn===null?s.memoizedState:yn.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?Sw:Ud),n}function wc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return kl(n);if(n.$$typeof===L)return kn(n)}throw Error(i(438,String(n)))}function Md(n){var s=null,l=Fe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Fe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=yc(),Fe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),c=0;c<n;c++)l[c]=K;return s.index++,l}function bi(n,s){return typeof s=="function"?s(n):s}function vc(n){var s=dn();return Td(s,vt,n)}function Td(n,s,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var R=d.next;d.next=p.next,p.next=R}s.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{s=d.next;var z=R=null,V=null,he=s,ye=!1;do{var ve=he.lane&-536870913;if(ve!==he.lane?(rt&ve)===ve:(vi&ve)===ve){var de=he.revertLane;if(de===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),ve===no&&(ye=!0);else if((vi&de)===de){he=he.next,de===no&&(ye=!0);continue}else ve={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},V===null?(z=V=ve,R=p):V=V.next=ve,Fe.lanes|=de,gs|=de;ve=he.action,ea&&l(p,ve),p=he.hasEagerState?he.eagerState:l(p,ve)}else de={lane:ve,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},V===null?(z=V=de,R=p):V=V.next=de,Fe.lanes|=ve,gs|=ve;he=he.next}while(he!==null&&he!==s);if(V===null?R=p:V.next=z,!cr(p,n.memoizedState)&&(wn=!0,ye&&(l=ro,l!==null)))throw l;n.memoizedState=p,n.baseState=R,n.baseQueue=V,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Rd(n){var s=dn(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,d=l.pending,p=s.memoizedState;if(d!==null){l.pending=null;var R=d=d.next;do p=n(p,R.action),R=R.next;while(R!==d);cr(p,s.memoizedState)||(wn=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,c]}function Py(n,s,l){var c=Fe,d=dn(),p=ot;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=s();var R=!cr((vt||d).memoizedState,l);if(R&&(d.memoizedState=l,wn=!0),d=d.queue,Od(Ky.bind(null,c,d,n),[n]),d.getSnapshot!==s||R||yn!==null&&yn.memoizedState.tag&1){if(c.flags|=2048,uo(9,{destroy:void 0},$y.bind(null,c,d,l,s),null),At===null)throw Error(i(349));p||(vi&127)!==0||Wy(c,s,l)}return l}function Wy(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Fe.updateQueue,s===null?(s=yc(),Fe.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function $y(n,s,l,c){s.value=l,s.getSnapshot=c,Fy(s)&&Gy(n)}function Ky(n,s,l){return l(function(){Fy(s)&&Gy(n)})}function Fy(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!cr(n,l)}catch{return!0}}function Gy(n){var s=Ks(n,2);s!==null&&ar(s,n,2)}function Cd(n){var s=Jn();if(typeof n=="function"){var l=n;if(n=l(),ea){ze(!0);try{l()}finally{ze(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:n},s}function Vy(n,s,l,c){return n.baseState=l,Td(n,vt,typeof c=="function"?c:bi)}function aA(n,s,l,c,d){if(Sc(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){p.listeners.push(R)}};A.T!==null?l(!0):p.isTransition=!1,c(p),l=s.pending,l===null?(p.next=s.pending=p,Yy(s,p)):(p.next=l.next,s.pending=l.next=p)}}function Yy(n,s){var l=s.action,c=s.payload,d=n.state;if(s.isTransition){var p=A.T,R={};A.T=R;try{var z=l(d,c),V=A.S;V!==null&&V(R,z),Zy(n,s,z)}catch(he){Bd(n,s,he)}finally{p!==null&&R.types!==null&&(p.types=R.types),A.T=p}}else try{p=l(d,c),Zy(n,s,p)}catch(he){Bd(n,s,he)}}function Zy(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Qy(n,s,c)},function(c){return Bd(n,s,c)}):Qy(n,s,l)}function Qy(n,s,l){s.status="fulfilled",s.value=l,Jy(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Yy(n,l)))}function Bd(n,s,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Jy(s),s=s.next;while(s!==c)}n.action=null}function Jy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Xy(n,s){return s}function ew(n,s){if(ot){var l=At.formState;if(l!==null){e:{var c=Fe;if(ot){if(Ut){t:{for(var d=Ut,p=Br;d.nodeType!==8;){if(!p){d=null;break t}if(d=Nr(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Ut=Nr(d.nextSibling),c=d.data==="F!";break e}}ss(c)}c=!1}c&&(s=l[0])}}return l=Jn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:s},l.queue=c,l=vw.bind(null,Fe,c),c.dispatch=l,c=Cd(!1),p=jd.bind(null,Fe,!1,c.queue),c=Jn(),d={state:s,dispatch:null,action:n,pending:null},c.queue=d,l=aA.bind(null,Fe,d,p,l),d.dispatch=l,c.memoizedState=n,[s,l,!1]}function tw(n){var s=dn();return nw(s,vt,n)}function nw(n,s,l){if(s=Td(n,s,Xy)[0],n=vc(bi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=kl(s)}catch(R){throw R===io?uc:R}else c=s;s=dn();var d=s.queue,p=d.dispatch;return l!==s.memoizedState&&(Fe.flags|=2048,uo(9,{destroy:void 0},oA.bind(null,d,l),null)),[c,p,n]}function oA(n,s){n.action=s}function rw(n){var s=dn(),l=vt;if(l!==null)return nw(s,l,n);dn(),s=s.memoizedState,l=dn();var c=l.queue.dispatch;return l.memoizedState=n,[s,c,!1]}function uo(n,s,l,c){return n={tag:n,create:l,deps:c,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=yc(),Fe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,s.lastEffect=n),n}function iw(){return dn().memoizedState}function bc(n,s,l,c){var d=Jn();Fe.flags|=n,d.memoizedState=uo(1|s,{destroy:void 0},l,c===void 0?null:c)}function _c(n,s,l,c){var d=dn();c=c===void 0?null:c;var p=d.memoizedState.inst;vt!==null&&c!==null&&_d(c,vt.memoizedState.deps)?d.memoizedState=uo(s,p,l,c):(Fe.flags|=n,d.memoizedState=uo(1|s,p,l,c))}function sw(n,s){bc(8390656,8,n,s)}function Od(n,s){_c(2048,8,n,s)}function lA(n){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=yc(),Fe.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function aw(n){var s=dn().memoizedState;return lA({ref:s,nextImpl:n}),function(){if((ht&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function ow(n,s){return _c(4,2,n,s)}function lw(n,s){return _c(4,4,n,s)}function uw(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function cw(n,s,l){l=l!=null?l.concat([n]):null,_c(4,4,uw.bind(null,s,n),l)}function Nd(){}function fw(n,s){var l=dn();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&_d(s,c[1])?c[0]:(l.memoizedState=[n,s],n)}function hw(n,s){var l=dn();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&_d(s,c[1]))return c[0];if(c=n(),ea){ze(!0);try{n()}finally{ze(!1)}}return l.memoizedState=[c,s],c}function kd(n,s,l){return l===void 0||(vi&1073741824)!==0&&(rt&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=dv(),Fe.lanes|=n,gs|=n,l)}function dw(n,s,l,c){return cr(l,s)?l:ao.current!==null?(n=kd(n,l,c),cr(n,s)||(wn=!0),n):(vi&42)===0||(vi&1073741824)!==0&&(rt&261930)===0?(wn=!0,n.memoizedState=l):(n=dv(),Fe.lanes|=n,gs|=n,s)}function gw(n,s,l,c,d){var p=N.p;N.p=p!==0&&8>p?p:8;var R=A.T,z={};A.T=z,jd(n,!1,s,l);try{var V=d(),he=A.S;if(he!==null&&he(z,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ye=rA(V,c);Il(n,s,ye,mr(n))}else Il(n,s,c,mr(n))}catch(ve){Il(n,s,{then:function(){},status:"rejected",reason:ve},mr())}finally{N.p=p,R!==null&&z.types!==null&&(R.types=z.types),A.T=R}}function uA(){}function Id(n,s,l,c){if(n.tag!==5)throw Error(i(476));var d=pw(n).queue;gw(n,d,s,D,l===null?uA:function(){return mw(n),l(c)})}function pw(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:D},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function mw(n){var s=pw(n);s.next===null&&(s=n.alternate.memoizedState),Il(n,s.next.queue,{},mr())}function Ld(){return kn(Ql)}function yw(){return dn().memoizedState}function ww(){return dn().memoizedState}function cA(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=mr();n=ls(l);var c=us(s,n,l);c!==null&&(ar(c,s,l),Cl(c,s,l)),s={cache:cd()},n.payload=s;return}s=s.return}}function fA(n,s,l){var c=mr();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(n)?bw(s,l):(l=Xh(n,s,l,c),l!==null&&(ar(l,n,c),_w(l,s,c)))}function vw(n,s,l){var c=mr();Il(n,s,l,c)}function Il(n,s,l,c){var d={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sc(n))bw(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var R=s.lastRenderedState,z=p(R,l);if(d.hasEagerState=!0,d.eagerState=z,cr(z,R))return nc(n,s,d,0),At===null&&tc(),!1}catch{}if(l=Xh(n,s,d,c),l!==null)return ar(l,n,c),_w(l,s,c),!0}return!1}function jd(n,s,l,c){if(c={lane:2,revertLane:g0(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sc(n)){if(s)throw Error(i(479))}else s=Xh(n,l,c,2),s!==null&&ar(s,n,2)}function Sc(n){var s=n.alternate;return n===Fe||s!==null&&s===Fe}function bw(n,s){oo=pc=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function _w(n,s,l){if((l&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,l|=c,s.lanes=l,cl(n,l)}}var Ll={readContext:kn,use:wc,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};Ll.useEffectEvent=on;var Sw={readContext:kn,use:wc,useCallback:function(n,s){return Jn().memoizedState=[n,s===void 0?null:s],n},useContext:kn,useEffect:sw,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,bc(4194308,4,uw.bind(null,s,n),l)},useLayoutEffect:function(n,s){return bc(4194308,4,n,s)},useInsertionEffect:function(n,s){bc(4,2,n,s)},useMemo:function(n,s){var l=Jn();s=s===void 0?null:s;var c=n();if(ea){ze(!0);try{n()}finally{ze(!1)}}return l.memoizedState=[c,s],c},useReducer:function(n,s,l){var c=Jn();if(l!==void 0){var d=l(s);if(ea){ze(!0);try{l(s)}finally{ze(!1)}}}else d=s;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=fA.bind(null,Fe,n),[c.memoizedState,n]},useRef:function(n){var s=Jn();return n={current:n},s.memoizedState=n},useState:function(n){n=Cd(n);var s=n.queue,l=vw.bind(null,Fe,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Nd,useDeferredValue:function(n,s){var l=Jn();return kd(l,n,s)},useTransition:function(){var n=Cd(!1);return n=gw.bind(null,Fe,n.queue,!0,!1),Jn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var c=Fe,d=Jn();if(ot){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),At===null)throw Error(i(349));(rt&127)!==0||Wy(c,s,l)}d.memoizedState=l;var p={value:l,getSnapshot:s};return d.queue=p,sw(Ky.bind(null,c,p,n),[n]),c.flags|=2048,uo(9,{destroy:void 0},$y.bind(null,c,p,l,s),null),l},useId:function(){var n=Jn(),s=At.identifierPrefix;if(ot){var l=ti,c=ei;l=(c&~(1<<32-Ne(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=mc++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=iA++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Ld,useFormState:ew,useActionState:ew,useOptimistic:function(n){var s=Jn();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=jd.bind(null,Fe,!0,l),l.dispatch=s,[n,s]},useMemoCache:Md,useCacheRefresh:function(){return Jn().memoizedState=cA.bind(null,Fe)},useEffectEvent:function(n){var s=Jn(),l={impl:n};return s.memoizedState=l,function(){if((ht&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Ud={readContext:kn,use:wc,useCallback:fw,useContext:kn,useEffect:Od,useImperativeHandle:cw,useInsertionEffect:ow,useLayoutEffect:lw,useMemo:hw,useReducer:vc,useRef:iw,useState:function(){return vc(bi)},useDebugValue:Nd,useDeferredValue:function(n,s){var l=dn();return dw(l,vt.memoizedState,n,s)},useTransition:function(){var n=vc(bi)[0],s=dn().memoizedState;return[typeof n=="boolean"?n:kl(n),s]},useSyncExternalStore:Py,useId:yw,useHostTransitionStatus:Ld,useFormState:tw,useActionState:tw,useOptimistic:function(n,s){var l=dn();return Vy(l,vt,n,s)},useMemoCache:Md,useCacheRefresh:ww};Ud.useEffectEvent=aw;var Ew={readContext:kn,use:wc,useCallback:fw,useContext:kn,useEffect:Od,useImperativeHandle:cw,useInsertionEffect:ow,useLayoutEffect:lw,useMemo:hw,useReducer:Rd,useRef:iw,useState:function(){return Rd(bi)},useDebugValue:Nd,useDeferredValue:function(n,s){var l=dn();return vt===null?kd(l,n,s):dw(l,vt.memoizedState,n,s)},useTransition:function(){var n=Rd(bi)[0],s=dn().memoizedState;return[typeof n=="boolean"?n:kl(n),s]},useSyncExternalStore:Py,useId:yw,useHostTransitionStatus:Ld,useFormState:rw,useActionState:rw,useOptimistic:function(n,s){var l=dn();return vt!==null?Vy(l,vt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Md,useCacheRefresh:ww};Ew.useEffectEvent=aw;function Dd(n,s,l,c){s=n.memoizedState,l=l(c,s),l=l==null?s:_({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var zd={enqueueSetState:function(n,s,l){n=n._reactInternals;var c=mr(),d=ls(c);d.payload=s,l!=null&&(d.callback=l),s=us(n,d,c),s!==null&&(ar(s,n,c),Cl(s,n,c))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var c=mr(),d=ls(c);d.tag=1,d.payload=s,l!=null&&(d.callback=l),s=us(n,d,c),s!==null&&(ar(s,n,c),Cl(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=mr(),c=ls(l);c.tag=2,s!=null&&(c.callback=s),s=us(n,c,l),s!==null&&(ar(s,n,l),Cl(s,n,l))}};function Aw(n,s,l,c,d,p,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,R):s.prototype&&s.prototype.isPureReactComponent?!_l(l,c)||!_l(d,p):!0}function xw(n,s,l,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==n&&zd.enqueueReplaceState(s,s.state,null)}function ta(n,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(n=n.defaultProps){l===s&&(l=_({},l));for(var d in n)l[d]===void 0&&(l[d]=n[d])}return l}function Mw(n){ec(n)}function Tw(n){console.error(n)}function Rw(n){ec(n)}function Ec(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Cw(n,s,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function qd(n,s,l){return l=ls(l),l.tag=3,l.payload={element:null},l.callback=function(){Ec(n,s)},l}function Bw(n){return n=ls(n),n.tag=3,n}function Ow(n,s,l,c){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){Cw(s,l,c)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(n.callback=function(){Cw(s,l,c),typeof d!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})})}function hA(n,s,l,c,d){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&to(s,l,d,!0),l=hr.current,l!==null){switch(l.tag){case 31:case 13:return Or===null?Lc():l.alternate===null&&ln===0&&(ln=3),l.flags&=-257,l.flags|=65536,l.lanes=d,c===cc?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),f0(n,c,d)),!1;case 22:return l.flags|=65536,c===cc?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),f0(n,c,d)),!1}throw Error(i(435,l.tag))}return f0(n,c,d),Lc(),!1}if(ot)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==sd&&(n=Error(i(422),{cause:c}),Al(Tr(n,l)))):(c!==sd&&(s=Error(i(423),{cause:c}),Al(Tr(s,l))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=Tr(c,l),d=qd(n.stateNode,c,d),md(n,d),ln!==4&&(ln=2)),!1;var p=Error(i(520),{cause:c});if(p=Tr(p,l),Wl===null?Wl=[p]:Wl.push(p),ln!==4&&(ln=2),s===null)return!0;c=Tr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=d&-d,l.lanes|=n,n=qd(l.stateNode,c,n),md(l,n),!1;case 1:if(s=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ps===null||!ps.has(p))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Bw(d),Ow(d,n,l,c),md(l,d),!1}l=l.return}while(l!==null);return!1}var Hd=Error(i(461)),wn=!1;function In(n,s,l,c){s.child=n===null?Ly(s,null,l,c):Xs(s,n.child,l,c)}function Nw(n,s,l,c,d){l=l.render;var p=s.ref;if("ref"in c){var R={};for(var z in c)z!=="ref"&&(R[z]=c[z])}else R=c;return Ys(s),c=Sd(n,s,l,R,p,d),z=Ed(),n!==null&&!wn?(Ad(n,s,d),_i(n,s,d)):(ot&&z&&rd(s),s.flags|=1,In(n,s,c,d),s.child)}function kw(n,s,l,c,d){if(n===null){var p=l.type;return typeof p=="function"&&!ed(p)&&p.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=p,Iw(n,s,p,c,d)):(n=ic(l.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Yd(n,d)){var R=p.memoizedProps;if(l=l.compare,l=l!==null?l:_l,l(R,c)&&n.ref===s.ref)return _i(n,s,d)}return s.flags|=1,n=pi(p,c),n.ref=s.ref,n.return=s,s.child=n}function Iw(n,s,l,c,d){if(n!==null){var p=n.memoizedProps;if(_l(p,c)&&n.ref===s.ref)if(wn=!1,s.pendingProps=c=p,Yd(n,d))(n.flags&131072)!==0&&(wn=!0);else return s.lanes=n.lanes,_i(n,s,d)}return Pd(n,s,l,c,d)}function Lw(n,s,l,c){var d=c.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,n!==null){for(c=s.child=n.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,s.child=null;return jw(n,s,p,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&lc(s,p!==null?p.cachePool:null),p!==null?Dy(s,p):wd(),zy(s);else return c=s.lanes=536870912,jw(n,s,p!==null?p.baseLanes|l:l,l,c)}else p!==null?(lc(s,p.cachePool),Dy(s,p),fs(),s.memoizedState=null):(n!==null&&lc(s,null),wd(),fs());return In(n,s,d,l),s.child}function jl(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function jw(n,s,l,c,d){var p=hd();return p=p===null?null:{parent:mn._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},n!==null&&lc(s,null),wd(),zy(s),n!==null&&to(n,s,c,!0),s.childLanes=d,null}function Ac(n,s){return s=Mc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Uw(n,s,l){return Xs(s,n.child,null,l),n=Ac(s,s.pendingProps),n.flags|=2,dr(s),s.memoizedState=null,n}function dA(n,s,l){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(ot){if(c.mode==="hidden")return n=Ac(s,c),s.lanes=536870912,jl(null,n);if(bd(s),(n=Ut)?(n=Yv(n,Br),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:rs!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},l=by(n),l.return=s,s.child=l,Nn=s,Ut=null)):n=null,n===null)throw ss(s);return s.lanes=536870912,null}return Ac(s,c)}var p=n.memoizedState;if(p!==null){var R=p.dehydrated;if(bd(s),d)if(s.flags&256)s.flags&=-257,s=Uw(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(wn||to(n,s,l,!1),d=(l&n.childLanes)!==0,wn||d){if(c=At,c!==null&&(R=Zt(c,l),R!==0&&R!==p.retryLane))throw p.retryLane=R,Ks(n,R),ar(c,n,R),Hd;Lc(),s=Uw(n,s,l)}else n=p.treeContext,Ut=Nr(R.nextSibling),Nn=s,ot=!0,is=null,Br=!1,n!==null&&Ey(s,n),s=Ac(s,c),s.flags|=4096;return s}return n=pi(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function xc(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Pd(n,s,l,c,d){return Ys(s),l=Sd(n,s,l,c,void 0,d),c=Ed(),n!==null&&!wn?(Ad(n,s,d),_i(n,s,d)):(ot&&c&&rd(s),s.flags|=1,In(n,s,l,d),s.child)}function Dw(n,s,l,c,d,p){return Ys(s),s.updateQueue=null,l=Hy(s,c,l,d),qy(n),c=Ed(),n!==null&&!wn?(Ad(n,s,p),_i(n,s,p)):(ot&&c&&rd(s),s.flags|=1,In(n,s,l,p),s.child)}function zw(n,s,l,c,d){if(Ys(s),s.stateNode===null){var p=Qa,R=l.contextType;typeof R=="object"&&R!==null&&(p=kn(R)),p=new l(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=zd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},gd(s),R=l.contextType,p.context=typeof R=="object"&&R!==null?kn(R):Qa,p.state=s.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Dd(s,l,R,c),p.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(R=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),R!==p.state&&zd.enqueueReplaceState(p,p.state,null),Ol(s,c,p,d),Bl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){p=s.stateNode;var z=s.memoizedProps,V=ta(l,z);p.props=V;var he=p.context,ye=l.contextType;R=Qa,typeof ye=="object"&&ye!==null&&(R=kn(ye));var ve=l.getDerivedStateFromProps;ye=typeof ve=="function"||typeof p.getSnapshotBeforeUpdate=="function",z=s.pendingProps!==z,ye||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(z||he!==R)&&xw(s,p,c,R),os=!1;var de=s.memoizedState;p.state=de,Ol(s,c,p,d),Bl(),he=s.memoizedState,z||de!==he||os?(typeof ve=="function"&&(Dd(s,l,ve,c),he=s.memoizedState),(V=os||Aw(s,l,V,c,de,he,R))?(ye||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=he),p.props=c,p.state=he,p.context=R,c=V):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,pd(n,s),R=s.memoizedProps,ye=ta(l,R),p.props=ye,ve=s.pendingProps,de=p.context,he=l.contextType,V=Qa,typeof he=="object"&&he!==null&&(V=kn(he)),z=l.getDerivedStateFromProps,(he=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R!==ve||de!==V)&&xw(s,p,c,V),os=!1,de=s.memoizedState,p.state=de,Ol(s,c,p,d),Bl();var me=s.memoizedState;R!==ve||de!==me||os||n!==null&&n.dependencies!==null&&ac(n.dependencies)?(typeof z=="function"&&(Dd(s,l,z,c),me=s.memoizedState),(ye=os||Aw(s,l,ye,c,de,me,V)||n!==null&&n.dependencies!==null&&ac(n.dependencies))?(he||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,me,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,me,V)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||R===n.memoizedProps&&de===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&de===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=me),p.props=c,p.state=me,p.context=V,c=ye):(typeof p.componentDidUpdate!="function"||R===n.memoizedProps&&de===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&de===n.memoizedState||(s.flags|=1024),c=!1)}return p=c,xc(n,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&c?(s.child=Xs(s,n.child,null,d),s.child=Xs(s,null,l,d)):In(n,s,l,d),s.memoizedState=p.state,n=s.child):n=_i(n,s,d),n}function qw(n,s,l,c){return Gs(),s.flags|=256,In(n,s,l,c),s.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $d(n){return{baseLanes:n,cachePool:Cy()}}function Kd(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=pr),n}function Hw(n,s,l){var c=s.pendingProps,d=!1,p=(s.flags&128)!==0,R;if((R=p)||(R=n!==null&&n.memoizedState===null?!1:(hn.current&2)!==0),R&&(d=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,n===null){if(ot){if(d?cs(s):fs(),(n=Ut)?(n=Yv(n,Br),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:rs!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},l=by(n),l.return=s,s.child=l,Nn=s,Ut=null)):n=null,n===null)throw ss(s);return T0(n)?s.lanes=32:s.lanes=536870912,null}var z=c.children;return c=c.fallback,d?(fs(),d=s.mode,z=Mc({mode:"hidden",children:z},d),c=Fs(c,d,l,null),z.return=s,c.return=s,z.sibling=c,s.child=z,c=s.child,c.memoizedState=$d(l),c.childLanes=Kd(n,R,l),s.memoizedState=Wd,jl(null,c)):(cs(s),Fd(s,z))}var V=n.memoizedState;if(V!==null&&(z=V.dehydrated,z!==null)){if(p)s.flags&256?(cs(s),s.flags&=-257,s=Gd(n,s,l)):s.memoizedState!==null?(fs(),s.child=n.child,s.flags|=128,s=null):(fs(),z=c.fallback,d=s.mode,c=Mc({mode:"visible",children:c.children},d),z=Fs(z,d,l,null),z.flags|=2,c.return=s,z.return=s,c.sibling=z,s.child=c,Xs(s,n.child,null,l),c=s.child,c.memoizedState=$d(l),c.childLanes=Kd(n,R,l),s.memoizedState=Wd,s=jl(null,c));else if(cs(s),T0(z)){if(R=z.nextSibling&&z.nextSibling.dataset,R)var he=R.dgst;R=he,c=Error(i(419)),c.stack="",c.digest=R,Al({value:c,source:null,stack:null}),s=Gd(n,s,l)}else if(wn||to(n,s,l,!1),R=(l&n.childLanes)!==0,wn||R){if(R=At,R!==null&&(c=Zt(R,l),c!==0&&c!==V.retryLane))throw V.retryLane=c,Ks(n,c),ar(R,n,c),Hd;M0(z)||Lc(),s=Gd(n,s,l)}else M0(z)?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,Ut=Nr(z.nextSibling),Nn=s,ot=!0,is=null,Br=!1,n!==null&&Ey(s,n),s=Fd(s,c.children),s.flags|=4096);return s}return d?(fs(),z=c.fallback,d=s.mode,V=n.child,he=V.sibling,c=pi(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,he!==null?z=pi(he,z):(z=Fs(z,d,l,null),z.flags|=2),z.return=s,c.return=s,c.sibling=z,s.child=c,jl(null,c),c=s.child,z=n.child.memoizedState,z===null?z=$d(l):(d=z.cachePool,d!==null?(V=mn._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=Cy(),z={baseLanes:z.baseLanes|l,cachePool:d}),c.memoizedState=z,c.childLanes=Kd(n,R,l),s.memoizedState=Wd,jl(n.child,c)):(cs(s),l=n.child,n=l.sibling,l=pi(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,n!==null&&(R=s.deletions,R===null?(s.deletions=[n],s.flags|=16):R.push(n)),s.child=l,s.memoizedState=null,l)}function Fd(n,s){return s=Mc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Mc(n,s){return n=fr(22,n,null,s),n.lanes=0,n}function Gd(n,s,l){return Xs(s,n.child,null,l),n=Fd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Pw(n,s,l){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),ld(n.return,s,l)}function Vd(n,s,l,c,d,p){var R=n.memoizedState;R===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d,treeForkCount:p}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=c,R.tail=l,R.tailMode=d,R.treeForkCount=p)}function Ww(n,s,l){var c=s.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var R=hn.current,z=(R&2)!==0;if(z?(R=R&1|2,s.flags|=128):R&=1,v(hn,R),In(n,s,c,l),c=ot?El:0,!z&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Pw(n,l,s);else if(n.tag===19)Pw(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(l=s.child,d=null;l!==null;)n=l.alternate,n!==null&&gc(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=s.child,s.child=null):(d=l.sibling,l.sibling=null),Vd(s,!1,d,l,p,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&gc(n)===null){s.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}Vd(s,!0,l,null,p,c);break;case"together":Vd(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function _i(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),gs|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(to(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=pi(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=pi(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Yd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ac(n)))}function gA(n,s,l){switch(s.tag){case 3:be(s,s.stateNode.containerInfo),as(s,mn,n.memoizedState.cache),Gs();break;case 27:case 5:Ge(s);break;case 4:be(s,s.stateNode.containerInfo);break;case 10:as(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,bd(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(cs(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Hw(n,s,l):(cs(s),n=_i(n,s,l),n!==null?n.sibling:null);cs(s);break;case 19:var d=(n.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(to(n,s,l,!1),c=(l&s.childLanes)!==0),d){if(c)return Ww(n,s,l);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),v(hn,hn.current),c)break;return null;case 22:return s.lanes=0,Lw(n,s,l,s.pendingProps);case 24:as(s,mn,n.memoizedState.cache)}return _i(n,s,l)}function $w(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)wn=!0;else{if(!Yd(n,l)&&(s.flags&128)===0)return wn=!1,gA(n,s,l);wn=(n.flags&131072)!==0}else wn=!1,ot&&(s.flags&1048576)!==0&&Sy(s,El,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Qs(s.elementType),s.type=n,typeof n=="function")ed(n)?(c=ta(n,c),s.tag=1,s=zw(null,s,n,c,l)):(s.tag=0,s=Pd(null,s,n,c,l));else{if(n!=null){var d=n.$$typeof;if(d===G){s.tag=11,s=Nw(null,s,n,c,l);break e}else if(d===se){s.tag=14,s=kw(null,s,n,c,l);break e}}throw s=m(n)||n,Error(i(306,s,""))}}return s;case 0:return Pd(n,s,s.type,s.pendingProps,l);case 1:return c=s.type,d=ta(c,s.pendingProps),zw(n,s,c,d,l);case 3:e:{if(be(s,s.stateNode.containerInfo),n===null)throw Error(i(387));c=s.pendingProps;var p=s.memoizedState;d=p.element,pd(n,s),Ol(s,c,null,l);var R=s.memoizedState;if(c=R.cache,as(s,mn,c),c!==p.cache&&ud(s,[mn],l,!0),Bl(),c=R.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=qw(n,s,c,l);break e}else if(c!==d){d=Tr(Error(i(424)),s),Al(d),s=qw(n,s,c,l);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Ut=Nr(n.firstChild),Nn=s,ot=!0,is=null,Br=!0,l=Ly(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Gs(),c===d){s=_i(n,s,l);break e}In(n,s,c,l)}s=s.child}return s;case 26:return xc(n,s),n===null?(l=tb(s.type,null,s.pendingProps,null))?s.memoizedState=l:ot||(l=s.type,n=s.pendingProps,c=Pc(ee.current).createElement(l),c[Je]=s,c[at]=n,Ln(c,l,n),an(c),s.stateNode=c):s.memoizedState=tb(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ge(s),n===null&&ot&&(c=s.stateNode=Jv(s.type,s.pendingProps,ee.current),Nn=s,Br=!0,d=Ut,vs(s.type)?(R0=d,Ut=Nr(c.firstChild)):Ut=d),In(n,s,s.pendingProps.children,l),xc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&ot&&((d=c=Ut)&&(c=$A(c,s.type,s.pendingProps,Br),c!==null?(s.stateNode=c,Nn=s,Ut=Nr(c.firstChild),Br=!1,d=!0):d=!1),d||ss(s)),Ge(s),d=s.type,p=s.pendingProps,R=n!==null?n.memoizedProps:null,c=p.children,E0(d,p)?c=null:R!==null&&E0(d,R)&&(s.flags|=32),s.memoizedState!==null&&(d=Sd(n,s,sA,null,null,l),Ql._currentValue=d),xc(n,s),In(n,s,c,l),s.child;case 6:return n===null&&ot&&((n=l=Ut)&&(l=KA(l,s.pendingProps,Br),l!==null?(s.stateNode=l,Nn=s,Ut=null,n=!0):n=!1),n||ss(s)),null;case 13:return Hw(n,s,l);case 4:return be(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Xs(s,null,c,l):In(n,s,c,l),s.child;case 11:return Nw(n,s,s.type,s.pendingProps,l);case 7:return In(n,s,s.pendingProps,l),s.child;case 8:return In(n,s,s.pendingProps.children,l),s.child;case 12:return In(n,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,as(s,s.type,c.value),In(n,s,c.children,l),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Ys(s),d=kn(d),c=c(d),s.flags|=1,In(n,s,c,l),s.child;case 14:return kw(n,s,s.type,s.pendingProps,l);case 15:return Iw(n,s,s.type,s.pendingProps,l);case 19:return Ww(n,s,l);case 31:return dA(n,s,l);case 22:return Lw(n,s,l,s.pendingProps);case 24:return Ys(s),c=kn(mn),n===null?(d=hd(),d===null&&(d=At,p=cd(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=l),d=p),s.memoizedState={parent:c,cache:d},gd(s),as(s,mn,d)):((n.lanes&l)!==0&&(pd(n,s),Ol(s,null,null,l),Bl()),d=n.memoizedState,p=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),as(s,mn,c)):(c=p.cache,as(s,mn,c),c!==d.cache&&ud(s,[mn],l,!0))),In(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Si(n){n.flags|=4}function Zd(n,s,l,c,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(yv())n.flags|=8192;else throw Js=cc,dd}else n.flags&=-16777217}function Kw(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ab(s))if(yv())n.flags|=8192;else throw Js=cc,dd}function Tc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Vt():536870912,n.lanes|=s,go|=s)}function Ul(n,s){if(!ot)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Dt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(s)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=l,s}function pA(n,s,l){var c=s.pendingProps;switch(id(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Dt(s),null;case 3:return l=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wi(mn),Ee(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(eo(s)?Si(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ad())),Dt(s),null;case 26:var d=s.type,p=s.memoizedState;return n===null?(Si(s),p!==null?(Dt(s),Kw(s,p)):(Dt(s),Zd(s,d,null,c,l))):p?p!==n.memoizedState?(Si(s),Dt(s),Kw(s,p)):(Dt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&Si(s),Dt(s),Zd(s,d,n,c,l)),null;case 27:if(st(s),l=ee.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Si(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Dt(s),null}n=I.current,eo(s)?Ay(s):(n=Jv(d,c,l),s.stateNode=n,Si(s))}return Dt(s),null;case 5:if(st(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Si(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Dt(s),null}if(p=I.current,eo(s))Ay(s);else{var R=Pc(ee.current);switch(p){case 1:p=R.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=R.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=R.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=R.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=R.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?R.createElement("select",{is:c.is}):R.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?R.createElement(d,{is:c.is}):R.createElement(d)}}p[Je]=s,p[at]=c;e:for(R=s.child;R!==null;){if(R.tag===5||R.tag===6)p.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===s)break e;for(;R.sibling===null;){if(R.return===null||R.return===s)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}s.stateNode=p;e:switch(Ln(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Si(s)}}return Dt(s),Zd(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&Si(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(n=ee.current,eo(s)){if(n=s.stateNode,l=s.memoizedProps,c=null,d=Nn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[Je]=s,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Hv(n.nodeValue,l)),n||ss(s,!0)}else n=Pc(n).createTextNode(c),n[Je]=s,s.stateNode=n}return Dt(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(c=eo(s),l!==null){if(n===null){if(!c)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Je]=s}else Gs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),n=!1}else l=ad(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(dr(s),s):(dr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Dt(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=eo(s),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Je]=s}else Gs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Dt(s),d=!1}else d=ad(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(dr(s),s):(dr(s),null)}return dr(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,n=n!==null&&n.memoizedState!==null,l&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Tc(s,s.updateQueue),Dt(s),null);case 4:return Ee(),n===null&&w0(s.stateNode.containerInfo),Dt(s),null;case 10:return wi(s.type),Dt(s),null;case 19:if(y(hn),c=s.memoizedState,c===null)return Dt(s),null;if(d=(s.flags&128)!==0,p=c.rendering,p===null)if(d)Ul(c,!1);else{if(ln!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=gc(n),p!==null){for(s.flags|=128,Ul(c,!1),n=p.updateQueue,s.updateQueue=n,Tc(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)vy(l,n),l=l.sibling;return v(hn,hn.current&1|2),ot&&mi(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&nt()>Nc&&(s.flags|=128,d=!0,Ul(c,!1),s.lanes=4194304)}else{if(!d)if(n=gc(p),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,Tc(s,n),Ul(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!ot)return Dt(s),null}else 2*nt()-c.renderingStartTime>Nc&&l!==536870912&&(s.flags|=128,d=!0,Ul(c,!1),s.lanes=4194304);c.isBackwards?(p.sibling=s.child,s.child=p):(n=c.last,n!==null?n.sibling=p:s.child=p,c.last=p)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=nt(),n.sibling=null,l=hn.current,v(hn,d?l&1|2:l&1),ot&&mi(s,c.treeForkCount),n):(Dt(s),null);case 22:case 23:return dr(s),vd(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),l=s.updateQueue,l!==null&&Tc(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),n!==null&&y(Zs),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),wi(mn),Dt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function mA(n,s){switch(id(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return wi(mn),Ee(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return st(s),null;case 31:if(s.memoizedState!==null){if(dr(s),s.alternate===null)throw Error(i(340));Gs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(dr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Gs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return y(hn),null;case 4:return Ee(),null;case 10:return wi(s.type),null;case 22:case 23:return dr(s),vd(),n!==null&&y(Zs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return wi(mn),null;case 25:return null;default:return null}}function Fw(n,s){switch(id(s),s.tag){case 3:wi(mn),Ee();break;case 26:case 27:case 5:st(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&dr(s);break;case 13:dr(s);break;case 19:y(hn);break;case 10:wi(s.type);break;case 22:case 23:dr(s),vd(),n!==null&&y(Zs);break;case 24:wi(mn)}}function Dl(n,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&n)===n){c=void 0;var p=l.create,R=l.inst;c=p(),R.destroy=c}l=l.next}while(l!==d)}}catch(z){mt(s,s.return,z)}}function hs(n,s,l){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var R=c.inst,z=R.destroy;if(z!==void 0){R.destroy=void 0,d=s;var V=l,he=z;try{he()}catch(ye){mt(d,V,ye)}}}c=c.next}while(c!==p)}}catch(ye){mt(s,s.return,ye)}}function Gw(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Uy(s,l)}catch(c){mt(n,n.return,c)}}}function Vw(n,s,l){l.props=ta(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){mt(n,s,c)}}function zl(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(d){mt(n,s,d)}}function ni(n,s){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(d){mt(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){mt(n,s,d)}else l.current=null}function Yw(n){var s=n.type,l=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(d){mt(n,n.return,d)}}function Qd(n,s,l){try{var c=n.stateNode;DA(c,n.type,l,s),c[at]=s}catch(d){mt(n,n.return,d)}}function Zw(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&vs(n.type)||n.tag===4}function Jd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zw(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&vs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xd(n,s,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=di));else if(c!==4&&(c===27&&vs(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(Xd(n,s,l),n=n.sibling;n!==null;)Xd(n,s,l),n=n.sibling}function Rc(n,s,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(c!==4&&(c===27&&vs(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Rc(n,s,l),n=n.sibling;n!==null;)Rc(n,s,l),n=n.sibling}function Qw(n){var s=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Ln(s,c,l),s[Je]=n,s[at]=l}catch(p){mt(n,n.return,p)}}var Ei=!1,vn=!1,e0=!1,Jw=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function yA(n,s){if(n=n.containerInfo,_0=Yc,n=cy(n),Gh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var R=0,z=-1,V=-1,he=0,ye=0,ve=n,de=null;t:for(;;){for(var me;ve!==l||d!==0&&ve.nodeType!==3||(z=R+d),ve!==p||c!==0&&ve.nodeType!==3||(V=R+c),ve.nodeType===3&&(R+=ve.nodeValue.length),(me=ve.firstChild)!==null;)de=ve,ve=me;for(;;){if(ve===n)break t;if(de===l&&++he===d&&(z=R),de===p&&++ye===c&&(V=R),(me=ve.nextSibling)!==null)break;ve=de,de=ve.parentNode}ve=me}l=z===-1||V===-1?null:{start:z,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(S0={focusedElem:n,selectionRange:l},Yc=!1,Rn=s;Rn!==null;)if(s=Rn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Rn=n;else for(;Rn!==null;){switch(s=Rn,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)d=n[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,l=s,d=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var Ce=ta(l.type,d);n=c.getSnapshotBeforeUpdate(Ce,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(He){mt(l,l.return,He)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)x0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":x0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Rn=n;break}Rn=s.return}}function Xw(n,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:xi(n,l),c&4&&Dl(5,l);break;case 1:if(xi(n,l),c&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(R){mt(l,l.return,R)}else{var d=ta(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(R){mt(l,l.return,R)}}c&64&&Gw(l),c&512&&zl(l,l.return);break;case 3:if(xi(n,l),c&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Uy(n,s)}catch(R){mt(l,l.return,R)}}break;case 27:s===null&&c&4&&Qw(l);case 26:case 5:xi(n,l),s===null&&c&4&&Yw(l),c&512&&zl(l,l.return);break;case 12:xi(n,l);break;case 31:xi(n,l),c&4&&nv(n,l);break;case 13:xi(n,l),c&4&&rv(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=MA.bind(null,l),FA(n,l))));break;case 22:if(c=l.memoizedState!==null||Ei,!c){s=s!==null&&s.memoizedState!==null||vn,d=Ei;var p=vn;Ei=c,(vn=s)&&!p?Mi(n,l,(l.subtreeFlags&8772)!==0):xi(n,l),Ei=d,vn=p}break;case 30:break;default:xi(n,l)}}function ev(n){var s=n.alternate;s!==null&&(n.alternate=null,ev(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Hs(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Pt=null,nr=!1;function Ai(n,s,l){for(l=l.child;l!==null;)tv(n,s,l),l=l.sibling}function tv(n,s,l){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(pe,l)}catch{}switch(l.tag){case 26:vn||ni(l,s),Ai(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:vn||ni(l,s);var c=Pt,d=nr;vs(l.type)&&(Pt=l.stateNode,nr=!1),Ai(n,s,l),Vl(l.stateNode),Pt=c,nr=d;break;case 5:vn||ni(l,s);case 6:if(c=Pt,d=nr,Pt=null,Ai(n,s,l),Pt=c,nr=d,Pt!==null)if(nr)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(l.stateNode)}catch(p){mt(l,s,p)}else try{Pt.removeChild(l.stateNode)}catch(p){mt(l,s,p)}break;case 18:Pt!==null&&(nr?(n=Pt,Gv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),So(n)):Gv(Pt,l.stateNode));break;case 4:c=Pt,d=nr,Pt=l.stateNode.containerInfo,nr=!0,Ai(n,s,l),Pt=c,nr=d;break;case 0:case 11:case 14:case 15:hs(2,l,s),vn||hs(4,l,s),Ai(n,s,l);break;case 1:vn||(ni(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Vw(l,s,c)),Ai(n,s,l);break;case 21:Ai(n,s,l);break;case 22:vn=(c=vn)||l.memoizedState!==null,Ai(n,s,l),vn=c;break;default:Ai(n,s,l)}}function nv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{So(n)}catch(l){mt(s,s.return,l)}}}function rv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{So(n)}catch(l){mt(s,s.return,l)}}function wA(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Jw),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Jw),s;default:throw Error(i(435,n.tag))}}function Cc(n,s){var l=wA(n);s.forEach(function(c){if(!l.has(c)){l.add(c);var d=TA.bind(null,n,c);c.then(d,d)}})}function rr(n,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c],p=n,R=s,z=R;e:for(;z!==null;){switch(z.tag){case 27:if(vs(z.type)){Pt=z.stateNode,nr=!1;break e}break;case 5:Pt=z.stateNode,nr=!1;break e;case 3:case 4:Pt=z.stateNode.containerInfo,nr=!0;break e}z=z.return}if(Pt===null)throw Error(i(160));tv(p,R,d),Pt=null,nr=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)iv(s,n),s=s.sibling}var zr=null;function iv(n,s){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:rr(s,n),ir(n),c&4&&(hs(3,n,n.return),Dl(3,n),hs(5,n,n.return));break;case 1:rr(s,n),ir(n),c&512&&(vn||l===null||ni(l,l.return)),c&64&&Ei&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var d=zr;if(rr(s,n),ir(n),c&512&&(vn||l===null||ni(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){e:{c=n.type,l=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[ci]||p[Je]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),Ln(p,c,l),p[Je]=n,an(p),c=p;break e;case"link":var R=ib("link","href",d).get(c+(l.href||""));if(R){for(var z=0;z<R.length;z++)if(p=R[z],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(z,1);break t}}p=d.createElement(c),Ln(p,c,l),d.head.appendChild(p);break;case"meta":if(R=ib("meta","content",d).get(c+(l.content||""))){for(z=0;z<R.length;z++)if(p=R[z],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(z,1);break t}}p=d.createElement(c),Ln(p,c,l),d.head.appendChild(p);break;default:throw Error(i(468,c))}p[Je]=n,an(p),c=p}n.stateNode=c}else sb(d,n.type,n.stateNode);else n.stateNode=rb(d,c,n.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?sb(d,n.type,n.stateNode):rb(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Qd(n,n.memoizedProps,l.memoizedProps)}break;case 27:rr(s,n),ir(n),c&512&&(vn||l===null||ni(l,l.return)),l!==null&&c&4&&Qd(n,n.memoizedProps,l.memoizedProps);break;case 5:if(rr(s,n),ir(n),c&512&&(vn||l===null||ni(l,l.return)),n.flags&32){d=n.stateNode;try{$a(d,"")}catch(Ce){mt(n,n.return,Ce)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Qd(n,d,l!==null?l.memoizedProps:d)),c&1024&&(e0=!0);break;case 6:if(rr(s,n),ir(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(Ce){mt(n,n.return,Ce)}}break;case 3:if(Kc=null,d=zr,zr=Wc(s.containerInfo),rr(s,n),zr=d,ir(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{So(s.containerInfo)}catch(Ce){mt(n,n.return,Ce)}e0&&(e0=!1,sv(n));break;case 4:c=zr,zr=Wc(n.stateNode.containerInfo),rr(s,n),ir(n),zr=c;break;case 12:rr(s,n),ir(n);break;case 31:rr(s,n),ir(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Cc(n,c)));break;case 13:rr(s,n),ir(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Oc=nt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Cc(n,c)));break;case 22:d=n.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,he=Ei,ye=vn;if(Ei=he||d,vn=ye||V,rr(s,n),vn=ye,Ei=he,ir(n),c&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(l===null||V||Ei||vn||na(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){V=l=s;try{if(p=V.stateNode,d)R=p.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{z=V.stateNode;var ve=V.memoizedProps.style,de=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;z.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ce){mt(V,V.return,Ce)}}}else if(s.tag===6){if(l===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(Ce){mt(V,V.return,Ce)}}}else if(s.tag===18){if(l===null){V=s;try{var me=V.stateNode;d?Vv(me,!0):Vv(V.stateNode,!1)}catch(Ce){mt(V,V.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Cc(n,l))));break;case 19:rr(s,n),ir(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Cc(n,c)));break;case 30:break;case 21:break;default:rr(s,n),ir(n)}}function ir(n){var s=n.flags;if(s&2){try{for(var l,c=n.return;c!==null;){if(Zw(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,p=Jd(n);Rc(n,p,d);break;case 5:var R=l.stateNode;l.flags&32&&($a(R,""),l.flags&=-33);var z=Jd(n);Rc(n,z,R);break;case 3:case 4:var V=l.stateNode.containerInfo,he=Jd(n);Xd(n,he,V);break;default:throw Error(i(161))}}catch(ye){mt(n,n.return,ye)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function sv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;sv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function xi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Xw(n,s.alternate,s),s=s.sibling}function na(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:hs(4,s,s.return),na(s);break;case 1:ni(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Vw(s,s.return,l),na(s);break;case 27:Vl(s.stateNode);case 26:case 5:ni(s,s.return),na(s);break;case 22:s.memoizedState===null&&na(s);break;case 30:na(s);break;default:na(s)}n=n.sibling}}function Mi(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=n,p=s,R=p.flags;switch(p.tag){case 0:case 11:case 15:Mi(d,p,l),Dl(4,p);break;case 1:if(Mi(d,p,l),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(he){mt(c,c.return,he)}if(c=p,d=c.updateQueue,d!==null){var z=c.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)jy(V[d],z)}catch(he){mt(c,c.return,he)}}l&&R&64&&Gw(p),zl(p,p.return);break;case 27:Qw(p);case 26:case 5:Mi(d,p,l),l&&c===null&&R&4&&Yw(p),zl(p,p.return);break;case 12:Mi(d,p,l);break;case 31:Mi(d,p,l),l&&R&4&&nv(d,p);break;case 13:Mi(d,p,l),l&&R&4&&rv(d,p);break;case 22:p.memoizedState===null&&Mi(d,p,l),zl(p,p.return);break;case 30:break;default:Mi(d,p,l)}s=s.sibling}}function t0(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&xl(l))}function n0(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&xl(n))}function qr(n,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)av(n,s,l,c),s=s.sibling}function av(n,s,l,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:qr(n,s,l,c),d&2048&&Dl(9,s);break;case 1:qr(n,s,l,c);break;case 3:qr(n,s,l,c),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&xl(n)));break;case 12:if(d&2048){qr(n,s,l,c),n=s.stateNode;try{var p=s.memoizedProps,R=p.id,z=p.onPostCommit;typeof z=="function"&&z(R,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){mt(s,s.return,V)}}else qr(n,s,l,c);break;case 31:qr(n,s,l,c);break;case 13:qr(n,s,l,c);break;case 23:break;case 22:p=s.stateNode,R=s.alternate,s.memoizedState!==null?p._visibility&2?qr(n,s,l,c):ql(n,s):p._visibility&2?qr(n,s,l,c):(p._visibility|=2,co(n,s,l,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&t0(R,s);break;case 24:qr(n,s,l,c),d&2048&&n0(s.alternate,s);break;default:qr(n,s,l,c)}}function co(n,s,l,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,R=s,z=l,V=c,he=R.flags;switch(R.tag){case 0:case 11:case 15:co(p,R,z,V,d),Dl(8,R);break;case 23:break;case 22:var ye=R.stateNode;R.memoizedState!==null?ye._visibility&2?co(p,R,z,V,d):ql(p,R):(ye._visibility|=2,co(p,R,z,V,d)),d&&he&2048&&t0(R.alternate,R);break;case 24:co(p,R,z,V,d),d&&he&2048&&n0(R.alternate,R);break;default:co(p,R,z,V,d)}s=s.sibling}}function ql(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,c=s,d=c.flags;switch(c.tag){case 22:ql(l,c),d&2048&&t0(c.alternate,c);break;case 24:ql(l,c),d&2048&&n0(c.alternate,c);break;default:ql(l,c)}s=s.sibling}}var Hl=8192;function fo(n,s,l){if(n.subtreeFlags&Hl)for(n=n.child;n!==null;)ov(n,s,l),n=n.sibling}function ov(n,s,l){switch(n.tag){case 26:fo(n,s,l),n.flags&Hl&&n.memoizedState!==null&&ix(l,zr,n.memoizedState,n.memoizedProps);break;case 5:fo(n,s,l);break;case 3:case 4:var c=zr;zr=Wc(n.stateNode.containerInfo),fo(n,s,l),zr=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Hl,Hl=16777216,fo(n,s,l),Hl=c):fo(n,s,l));break;default:fo(n,s,l)}}function lv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Pl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Rn=c,cv(c,n)}lv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uv(n),n=n.sibling}function uv(n){switch(n.tag){case 0:case 11:case 15:Pl(n),n.flags&2048&&hs(9,n,n.return);break;case 3:Pl(n);break;case 12:Pl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Bc(n)):Pl(n);break;default:Pl(n)}}function Bc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Rn=c,cv(c,n)}lv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:hs(8,s,s.return),Bc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Bc(s));break;default:Bc(s)}n=n.sibling}}function cv(n,s){for(;Rn!==null;){var l=Rn;switch(l.tag){case 0:case 11:case 15:hs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:xl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Rn=c;else e:for(l=n;Rn!==null;){c=Rn;var d=c.sibling,p=c.return;if(ev(c),c===l){Rn=null;break e}if(d!==null){d.return=p,Rn=d;break e}Rn=p}}}var vA={getCacheForType:function(n){var s=kn(mn),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return kn(mn).controller.signal}},bA=typeof WeakMap=="function"?WeakMap:Map,ht=0,At=null,Xe=null,rt=0,pt=0,gr=null,ds=!1,ho=!1,r0=!1,Ti=0,ln=0,gs=0,ra=0,i0=0,pr=0,go=0,Wl=null,sr=null,s0=!1,Oc=0,fv=0,Nc=1/0,kc=null,ps=null,xn=0,ms=null,po=null,Ri=0,a0=0,o0=null,hv=null,$l=0,l0=null;function mr(){return(ht&2)!==0&&rt!==0?rt&-rt:A.T!==null?g0():Qt()}function dv(){if(pr===0)if((rt&536870912)===0||ot){var n=It;It<<=1,(It&3932160)===0&&(It=262144),pr=n}else pr=536870912;return n=hr.current,n!==null&&(n.flags|=32),pr}function ar(n,s,l){(n===At&&(pt===2||pt===9)||n.cancelPendingCommit!==null)&&(mo(n,0),ys(n,rt,pr,!1)),Xi(n,l),((ht&2)===0||n!==At)&&(n===At&&((ht&2)===0&&(ra|=l),ln===4&&ys(n,rt,pr,!1)),ri(n))}function gv(n,s,l){if((ht&6)!==0)throw Error(i(327));var c=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Rt(n,s),d=c?EA(n,s):c0(n,s,!0),p=c;do{if(d===0){ho&&!c&&ys(n,s,0,!1);break}else{if(l=n.current.alternate,p&&!_A(l)){d=c0(n,s,!1),p=!1;continue}if(d===2){if(p=s,n.errorRecoveryDisabledLanes&p)var R=0;else R=n.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var z=n;d=Wl;var V=z.current.memoizedState.isDehydrated;if(V&&(mo(z,R).flags|=256),R=c0(z,R,!1),R!==2){if(r0&&!V){z.errorRecoveryDisabledLanes|=p,ra|=p,d=4;break e}p=sr,sr=d,p!==null&&(sr===null?sr=p:sr.push.apply(sr,p))}d=R}if(p=!1,d!==2)continue}}if(d===1){mo(n,0),ys(n,s,0,!0);break}e:{switch(c=n,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ys(c,s,pr,!ds);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Oc+300-nt(),10<d)){if(ys(c,s,pr,!ds),jt(c,0,!0)!==0)break e;Ri=s,c.timeoutHandle=Kv(pv.bind(null,c,l,sr,kc,s0,s,pr,ra,go,ds,p,"Throttled",-0,0),d);break e}pv(c,l,sr,kc,s0,s,pr,ra,go,ds,p,null,-0,0)}}break}while(!0);ri(n)}function pv(n,s,l,c,d,p,R,z,V,he,ye,ve,de,me){if(n.timeoutHandle=-1,ve=s.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},ov(s,p,ve);var Ce=(p&62914560)===p?Oc-nt():(p&4194048)===p?fv-nt():0;if(Ce=sx(ve,Ce),Ce!==null){Ri=p,n.cancelPendingCommit=Ce(Ev.bind(null,n,s,p,l,c,d,R,z,V,ye,ve,null,de,me)),ys(n,p,R,!he);return}}Ev(n,s,p,l,c,d,R,z,V)}function _A(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var d=l[c],p=d.getSnapshot;d=d.value;try{if(!cr(p(),d))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ys(n,s,l,c){s&=~i0,s&=~ra,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var d=s;0<d;){var p=31-Ne(d),R=1<<p;c[p]=-1,d&=~R}l!==0&&Yt(n,l,s)}function Ic(){return(ht&6)===0?(Kl(0),!1):!0}function u0(){if(Xe!==null){if(pt===0)var n=Xe.return;else n=Xe,yi=Vs=null,xd(n),so=null,Tl=0,n=Xe;for(;n!==null;)Fw(n.alternate,n),n=n.return;Xe=null}}function mo(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,HA(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Ri=0,u0(),At=n,Xe=l=pi(n.current,null),rt=s,pt=0,gr=null,ds=!1,ho=Rt(n,s),r0=!1,go=pr=i0=ra=gs=ln=0,sr=Wl=null,s0=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var d=31-Ne(c),p=1<<d;s|=n[d],c&=~p}return Ti=s,tc(),l}function mv(n,s){Fe=null,A.H=Ll,s===io||s===uc?(s=Ny(),pt=3):s===dd?(s=Ny(),pt=4):pt=s===Hd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gr=s,Xe===null&&(ln=1,Ec(n,Tr(s,n.current)))}function yv(){var n=hr.current;return n===null?!0:(rt&4194048)===rt?Or===null:(rt&62914560)===rt||(rt&536870912)!==0?n===Or:!1}function wv(){var n=A.H;return A.H=Ll,n===null?Ll:n}function vv(){var n=A.A;return A.A=vA,n}function Lc(){ln=4,ds||(rt&4194048)!==rt&&hr.current!==null||(ho=!0),(gs&134217727)===0&&(ra&134217727)===0||At===null||ys(At,rt,pr,!1)}function c0(n,s,l){var c=ht;ht|=2;var d=wv(),p=vv();(At!==n||rt!==s)&&(kc=null,mo(n,s)),s=!1;var R=ln;e:do try{if(pt!==0&&Xe!==null){var z=Xe,V=gr;switch(pt){case 8:u0(),R=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(s=!0);var he=pt;if(pt=0,gr=null,yo(n,z,V,he),l&&ho){R=0;break e}break;default:he=pt,pt=0,gr=null,yo(n,z,V,he)}}SA(),R=ln;break}catch(ye){mv(n,ye)}while(!0);return s&&n.shellSuspendCounter++,yi=Vs=null,ht=c,A.H=d,A.A=p,Xe===null&&(At=null,rt=0,tc()),R}function SA(){for(;Xe!==null;)bv(Xe)}function EA(n,s){var l=ht;ht|=2;var c=wv(),d=vv();At!==n||rt!==s?(kc=null,Nc=nt()+500,mo(n,s)):ho=Rt(n,s);e:do try{if(pt!==0&&Xe!==null){s=Xe;var p=gr;t:switch(pt){case 1:pt=0,gr=null,yo(n,s,p,1);break;case 2:case 9:if(By(p)){pt=0,gr=null,_v(s);break}s=function(){pt!==2&&pt!==9||At!==n||(pt=7),ri(n)},p.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:By(p)?(pt=0,gr=null,_v(s)):(pt=0,gr=null,yo(n,s,p,7));break;case 5:var R=null;switch(Xe.tag){case 26:R=Xe.memoizedState;case 5:case 27:var z=Xe;if(R?ab(R):z.stateNode.complete){pt=0,gr=null;var V=z.sibling;if(V!==null)Xe=V;else{var he=z.return;he!==null?(Xe=he,jc(he)):Xe=null}break t}}pt=0,gr=null,yo(n,s,p,5);break;case 6:pt=0,gr=null,yo(n,s,p,6);break;case 8:u0(),ln=6;break e;default:throw Error(i(462))}}AA();break}catch(ye){mv(n,ye)}while(!0);return yi=Vs=null,A.H=c,A.A=d,ht=l,Xe!==null?0:(At=null,rt=0,tc(),ln)}function AA(){for(;Xe!==null&&!Qn();)bv(Xe)}function bv(n){var s=$w(n.alternate,n,Ti);n.memoizedProps=n.pendingProps,s===null?jc(n):Xe=s}function _v(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=Dw(l,s,s.pendingProps,s.type,void 0,rt);break;case 11:s=Dw(l,s,s.pendingProps,s.type.render,s.ref,rt);break;case 5:xd(s);default:Fw(l,s),s=Xe=vy(s,Ti),s=$w(l,s,Ti)}n.memoizedProps=n.pendingProps,s===null?jc(n):Xe=s}function yo(n,s,l,c){yi=Vs=null,xd(s),so=null,Tl=0;var d=s.return;try{if(hA(n,d,s,l,rt)){ln=1,Ec(n,Tr(l,n.current)),Xe=null;return}}catch(p){if(d!==null)throw Xe=d,p;ln=1,Ec(n,Tr(l,n.current)),Xe=null;return}s.flags&32768?(ot||c===1?n=!0:ho||(rt&536870912)!==0?n=!1:(ds=n=!0,(c===2||c===9||c===3||c===6)&&(c=hr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Sv(s,n)):jc(s)}function jc(n){var s=n;do{if((s.flags&32768)!==0){Sv(s,ds);return}n=s.return;var l=pA(s.alternate,s,Ti);if(l!==null){Xe=l;return}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=n}while(s!==null);ln===0&&(ln=5)}function Sv(n,s){do{var l=mA(n.alternate,n);if(l!==null){l.flags&=32767,Xe=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Xe=n;return}Xe=n=l}while(n!==null);ln=6,Xe=null}function Ev(n,s,l,c,d,p,R,z,V){n.cancelPendingCommit=null;do Uc();while(xn!==0);if((ht&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Jh,rn(n,l,p,R,z,V),n===At&&(Xe=At=null,rt=0),po=s,ms=n,Ri=l,a0=p,o0=d,hv=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,RA(S,function(){return Rv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=A.T,A.T=null,d=N.p,N.p=2,R=ht,ht|=4;try{yA(n,s,l)}finally{ht=R,N.p=d,A.T=c}}xn=1,Av(),xv(),Mv()}}function Av(){if(xn===1){xn=0;var n=ms,s=po,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=A.T,A.T=null;var c=N.p;N.p=2;var d=ht;ht|=4;try{iv(s,n);var p=S0,R=cy(n.containerInfo),z=p.focusedElem,V=p.selectionRange;if(R!==z&&z&&z.ownerDocument&&uy(z.ownerDocument.documentElement,z)){if(V!==null&&Gh(z)){var he=V.start,ye=V.end;if(ye===void 0&&(ye=he),"selectionStart"in z)z.selectionStart=he,z.selectionEnd=Math.min(ye,z.value.length);else{var ve=z.ownerDocument||document,de=ve&&ve.defaultView||window;if(de.getSelection){var me=de.getSelection(),Ce=z.textContent.length,He=Math.min(V.start,Ce),_t=V.end===void 0?He:Math.min(V.end,Ce);!me.extend&&He>_t&&(R=_t,_t=He,He=R);var ae=ly(z,He),re=ly(z,_t);if(ae&&re&&(me.rangeCount!==1||me.anchorNode!==ae.node||me.anchorOffset!==ae.offset||me.focusNode!==re.node||me.focusOffset!==re.offset)){var fe=ve.createRange();fe.setStart(ae.node,ae.offset),me.removeAllRanges(),He>_t?(me.addRange(fe),me.extend(re.node,re.offset)):(fe.setEnd(re.node,re.offset),me.addRange(fe))}}}}for(ve=[],me=z;me=me.parentNode;)me.nodeType===1&&ve.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ve.length;z++){var we=ve[z];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Yc=!!_0,S0=_0=null}finally{ht=d,N.p=c,A.T=l}}n.current=s,xn=2}}function xv(){if(xn===2){xn=0;var n=ms,s=po,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=A.T,A.T=null;var c=N.p;N.p=2;var d=ht;ht|=4;try{Xw(n,s.alternate,s)}finally{ht=d,N.p=c,A.T=l}}xn=3}}function Mv(){if(xn===4||xn===3){xn=0,Tt();var n=ms,s=po,l=Ri,c=hv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?xn=5:(xn=0,po=ms=null,Tv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ps=null),Ua(l),s=s.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(pe,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=A.T,d=N.p,N.p=2,A.T=null;try{for(var p=n.onRecoverableError,R=0;R<c.length;R++){var z=c[R];p(z.value,{componentStack:z.stack})}}finally{A.T=s,N.p=d}}(Ri&3)!==0&&Uc(),ri(n),d=n.pendingLanes,(l&261930)!==0&&(d&42)!==0?n===l0?$l++:($l=0,l0=n):$l=0,Kl(0)}}function Tv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,xl(s)))}function Uc(){return Av(),xv(),Mv(),Rv()}function Rv(){if(xn!==5)return!1;var n=ms,s=a0;a0=0;var l=Ua(Ri),c=A.T,d=N.p;try{N.p=32>l?32:l,A.T=null,l=o0,o0=null;var p=ms,R=Ri;if(xn=0,po=ms=null,Ri=0,(ht&6)!==0)throw Error(i(331));var z=ht;if(ht|=4,uv(p.current),av(p,p.current,R,l),ht=z,Kl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(pe,p)}catch{}return!0}finally{N.p=d,A.T=c,Tv(n,s)}}function Cv(n,s,l){s=Tr(l,s),s=qd(n.stateNode,s,2),n=us(n,s,2),n!==null&&(Xi(n,2),ri(n))}function mt(n,s,l){if(n.tag===3)Cv(n,n,l);else for(;s!==null;){if(s.tag===3){Cv(s,n,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ps===null||!ps.has(c))){n=Tr(l,n),l=Bw(2),c=us(s,l,2),c!==null&&(Ow(l,c,s,n),Xi(c,2),ri(c));break}}s=s.return}}function f0(n,s,l){var c=n.pingCache;if(c===null){c=n.pingCache=new bA;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(l)||(r0=!0,d.add(l),n=xA.bind(null,n,s,l),s.then(n,n))}function xA(n,s,l){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,At===n&&(rt&l)===l&&(ln===4||ln===3&&(rt&62914560)===rt&&300>nt()-Oc?(ht&2)===0&&mo(n,0):i0|=l,go===rt&&(go=0)),ri(n)}function Bv(n,s){s===0&&(s=Vt()),n=Ks(n,s),n!==null&&(Xi(n,s),ri(n))}function MA(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Bv(n,l)}function TA(n,s){var l=0;switch(n.tag){case 31:case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Bv(n,l)}function RA(n,s){return St(n,s)}var Dc=null,wo=null,h0=!1,zc=!1,d0=!1,ws=0;function ri(n){n!==wo&&n.next===null&&(wo===null?Dc=wo=n:wo=wo.next=n),zc=!0,h0||(h0=!0,BA())}function Kl(n,s){if(!d0&&zc){d0=!0;do for(var l=!1,c=Dc;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var R=c.suspendedLanes,z=c.pingedLanes;p=(1<<31-Ne(42|n)+1)-1,p&=d&~(R&~z),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Iv(c,p))}else p=rt,p=jt(c,c===At?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Rt(c,p)||(l=!0,Iv(c,p));c=c.next}while(l);d0=!1}}function CA(){Ov()}function Ov(){zc=h0=!1;var n=0;ws!==0&&qA()&&(n=ws);for(var s=nt(),l=null,c=Dc;c!==null;){var d=c.next,p=Nv(c,s);p===0?(c.next=null,l===null?Dc=d:l.next=d,d===null&&(wo=l)):(l=c,(n!==0||(p&3)!==0)&&(zc=!0)),c=d}xn!==0&&xn!==5||Kl(n),ws!==0&&(ws=0)}function Nv(n,s){for(var l=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var R=31-Ne(p),z=1<<R,V=d[R];V===-1?((z&l)===0||(z&c)!==0)&&(d[R]=Ku(z,s)):V<=s&&(n.expiredLanes|=z),p&=~z}if(s=At,l=rt,l=jt(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===s&&(pt===2||pt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&gt(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Rt(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(c!==null&&gt(c),Ua(l)){case 2:case 8:l=j;break;case 32:l=S;break;case 268435456:l=W;break;default:l=S}return c=kv.bind(null,n),l=St(l,c),n.callbackPriority=s,n.callbackNode=l,s}return c!==null&&c!==null&&gt(c),n.callbackPriority=2,n.callbackNode=null,2}function kv(n,s){if(xn!==0&&xn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Uc()&&n.callbackNode!==l)return null;var c=rt;return c=jt(n,n===At?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(gv(n,c,s),Nv(n,nt()),n.callbackNode!=null&&n.callbackNode===l?kv.bind(null,n):null)}function Iv(n,s){if(Uc())return null;gv(n,s,!0)}function BA(){PA(function(){(ht&6)!==0?St(kt,CA):Ov()})}function g0(){if(ws===0){var n=no;n===0&&(n=qs,qs<<=1,(qs&261888)===0&&(qs=256)),ws=n}return ws}function Lv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Gu(""+n)}function jv(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function OA(n,s,l,c,d){if(s==="submit"&&l&&l.stateNode===d){var p=Lv((d[at]||null).action),R=c.submitter;R&&(s=(s=R[at]||null)?Lv(s.formAction):R.getAttribute("formAction"),s!==null&&(p=s,R=null));var z=new Qu("action","action",null,c,d);n.push({event:z,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ws!==0){var V=R?jv(d,R):new FormData(d);Id(l,{pending:!0,data:V,method:d.method,action:p},null,V)}}else typeof p=="function"&&(z.preventDefault(),V=R?jv(d,R):new FormData(d),Id(l,{pending:!0,data:V,method:d.method,action:p},p,V))},currentTarget:d}]})}}for(var p0=0;p0<Qh.length;p0++){var m0=Qh[p0],NA=m0.toLowerCase(),kA=m0[0].toUpperCase()+m0.slice(1);Dr(NA,"on"+kA)}Dr(dy,"onAnimationEnd"),Dr(gy,"onAnimationIteration"),Dr(py,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Y2,"onTransitionRun"),Dr(Z2,"onTransitionStart"),Dr(Q2,"onTransitionCancel"),Dr(my,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),Ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function Uv(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],d=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var R=c.length-1;0<=R;R--){var z=c[R],V=z.instance,he=z.currentTarget;if(z=z.listener,V!==p&&d.isPropagationStopped())break e;p=z,d.currentTarget=he;try{p(d)}catch(ye){ec(ye)}d.currentTarget=null,p=V}else for(R=0;R<c.length;R++){if(z=c[R],V=z.instance,he=z.currentTarget,z=z.listener,V!==p&&d.isPropagationStopped())break e;p=z,d.currentTarget=he;try{p(d)}catch(ye){ec(ye)}d.currentTarget=null,p=V}}}}function et(n,s){var l=s[Ht];l===void 0&&(l=s[Ht]=new Set);var c=n+"__bubble";l.has(c)||(Dv(s,n,2,!1),l.add(c))}function y0(n,s,l){var c=0;s&&(c|=4),Dv(l,n,c,s)}var qc="_reactListening"+Math.random().toString(36).slice(2);function w0(n){if(!n[qc]){n[qc]=!0,za.forEach(function(l){l!=="selectionchange"&&(IA.has(l)||y0(l,!1,n),y0(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[qc]||(s[qc]=!0,y0("selectionchange",!1,s))}}function Dv(n,s,l,c){switch(db(s)){case 2:var d=lx;break;case 8:d=ux;break;default:d=k0}l=d.bind(null,s,l,n),d=void 0,!Dh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,l,{capture:!0,passive:d}):n.addEventListener(s,l,!0):d!==void 0?n.addEventListener(s,l,{passive:d}):n.addEventListener(s,l,!1)}function v0(n,s,l,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var z=c.stateNode.containerInfo;if(z===d)break;if(R===4)for(R=c.return;R!==null;){var V=R.tag;if((V===3||V===4)&&R.stateNode.containerInfo===d)return;R=R.return}for(;z!==null;){if(R=Zr(z),R===null)return;if(V=R.tag,V===5||V===6||V===26||V===27){c=p=R;continue e}z=z.parentNode}}c=c.return}Wm(function(){var he=p,ye=jh(l),ve=[];e:{var de=yy.get(n);if(de!==void 0){var me=Qu,Ce=n;switch(n){case"keypress":if(Yu(l)===0)break e;case"keydown":case"keyup":me=T2;break;case"focusin":Ce="focus",me=Ph;break;case"focusout":Ce="blur",me=Ph;break;case"beforeblur":case"afterblur":me=Ph;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=p2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=B2;break;case dy:case gy:case py:me=w2;break;case my:me=N2;break;case"scroll":case"scrollend":me=d2;break;case"wheel":me=I2;break;case"copy":case"cut":case"paste":me=b2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Vm;break;case"toggle":case"beforetoggle":me=j2}var He=(s&4)!==0,_t=!He&&(n==="scroll"||n==="scrollend"),ae=He?de!==null?de+"Capture":null:de;He=[];for(var re=he,fe;re!==null;){var we=re;if(fe=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||fe===null||ae===null||(we=gl(re,ae),we!=null&&He.push(Gl(re,we,fe))),_t)break;re=re.return}0<He.length&&(de=new me(de,Ce,null,l,ye),ve.push({event:de,listeners:He}))}}if((s&7)===0){e:{if(de=n==="mouseover"||n==="pointerover",me=n==="mouseout"||n==="pointerout",de&&l!==Lh&&(Ce=l.relatedTarget||l.fromElement)&&(Zr(Ce)||Ce[ui]))break e;if((me||de)&&(de=ye.window===ye?ye:(de=ye.ownerDocument)?de.defaultView||de.parentWindow:window,me?(Ce=l.relatedTarget||l.toElement,me=he,Ce=Ce?Zr(Ce):null,Ce!==null&&(_t=o(Ce),He=Ce.tag,Ce!==_t||He!==5&&He!==27&&He!==6)&&(Ce=null)):(me=null,Ce=he),me!==Ce)){if(He=Fm,we="onMouseLeave",ae="onMouseEnter",re="mouse",(n==="pointerout"||n==="pointerover")&&(He=Vm,we="onPointerLeave",ae="onPointerEnter",re="pointer"),_t=me==null?de:fi(me),fe=Ce==null?de:fi(Ce),de=new He(we,re+"leave",me,l,ye),de.target=_t,de.relatedTarget=fe,we=null,Zr(ye)===he&&(He=new He(ae,re+"enter",Ce,l,ye),He.target=fe,He.relatedTarget=_t,we=He),_t=we,me&&Ce)t:{for(He=LA,ae=me,re=Ce,fe=0,we=ae;we;we=He(we))fe++;we=0;for(var Le=re;Le;Le=He(Le))we++;for(;0<fe-we;)ae=He(ae),fe--;for(;0<we-fe;)re=He(re),we--;for(;fe--;){if(ae===re||re!==null&&ae===re.alternate){He=ae;break t}ae=He(ae),re=He(re)}He=null}else He=null;me!==null&&zv(ve,de,me,He,!1),Ce!==null&&_t!==null&&zv(ve,_t,Ce,He,!0)}}e:{if(de=he?fi(he):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var ut=ny;else if(ey(de))if(ry)ut=F2;else{ut=$2;var Be=W2}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?he&&Ih(he.elementType)&&(ut=ny):ut=K2;if(ut&&(ut=ut(n,he))){ty(ve,ut,l,ye);break e}Be&&Be(n,de,he),n==="focusout"&&he&&de.type==="number"&&he.memoizedProps.value!=null&&kh(de,"number",de.value)}switch(Be=he?fi(he):window,n){case"focusin":(ey(Be)||Be.contentEditable==="true")&&(Va=Be,Vh=he,Sl=null);break;case"focusout":Sl=Vh=Va=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,fy(ve,l,ye);break;case"selectionchange":if(V2)break;case"keydown":case"keyup":fy(ve,l,ye)}var Ve;if($h)e:{switch(n){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Ga?Jm(n,l)&&(it="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(it="onCompositionStart");it&&(Ym&&l.locale!=="ko"&&(Ga||it!=="onCompositionStart"?it==="onCompositionEnd"&&Ga&&(Ve=$m()):(ns=ye,zh="value"in ns?ns.value:ns.textContent,Ga=!0)),Be=Hc(he,it),0<Be.length&&(it=new Gm(it,n,null,l,ye),ve.push({event:it,listeners:Be}),Ve?it.data=Ve:(Ve=Xm(l),Ve!==null&&(it.data=Ve)))),(Ve=D2?z2(n,l):q2(n,l))&&(it=Hc(he,"onBeforeInput"),0<it.length&&(Be=new Gm("onBeforeInput","beforeinput",null,l,ye),ve.push({event:Be,listeners:it}),Be.data=Ve)),OA(ve,n,he,l,ye)}Uv(ve,s)})}function Gl(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Hc(n,s){for(var l=s+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=gl(n,l),d!=null&&c.unshift(Gl(n,d,p)),d=gl(n,s),d!=null&&c.push(Gl(n,d,p))),n.tag===3)return c;n=n.return}return[]}function LA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function zv(n,s,l,c,d){for(var p=s._reactName,R=[];l!==null&&l!==c;){var z=l,V=z.alternate,he=z.stateNode;if(z=z.tag,V!==null&&V===c)break;z!==5&&z!==26&&z!==27||he===null||(V=he,d?(he=gl(l,p),he!=null&&R.unshift(Gl(l,he,V))):d||(he=gl(l,p),he!=null&&R.push(Gl(l,he,V)))),l=l.return}R.length!==0&&n.push({event:s,listeners:R})}var jA=/\r\n?/g,UA=/\u0000|\uFFFD/g;function qv(n){return(typeof n=="string"?n:""+n).replace(jA,`
`).replace(UA,"")}function Hv(n,s){return s=qv(s),qv(n)===s}function bt(n,s,l,c,d,p){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||$a(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&$a(n,""+c);break;case"className":ts(n,"class",c);break;case"tabIndex":ts(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ts(n,l,c);break;case"style":Hm(n,c,p);break;case"data":if(s!=="object"){ts(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Gu(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(s!=="input"&&bt(n,s,"name",d.name,d,null),bt(n,s,"formEncType",d.formEncType,d,null),bt(n,s,"formMethod",d.formMethod,d,null),bt(n,s,"formTarget",d.formTarget,d,null)):(bt(n,s,"encType",d.encType,d,null),bt(n,s,"method",d.method,d,null),bt(n,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Gu(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=di);break;case"onScroll":c!=null&&et("scroll",n);break;case"onScrollEnd":c!=null&&et("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=Gu(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":et("beforetoggle",n),et("toggle",n),es(n,"popover",c);break;case"xlinkActuate":hi(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":hi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":hi(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":hi(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":hi(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":hi(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":hi(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":hi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":hi(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":es(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=f2.get(l)||l,es(n,l,c))}}function b0(n,s,l,c,d,p){switch(l){case"style":Hm(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?$a(n,c):(typeof c=="number"||typeof c=="bigint")&&$a(n,""+c);break;case"onScroll":c!=null&&et("scroll",n);break;case"onScrollEnd":c!=null&&et("scrollend",n);break;case"onClick":c!=null&&(n.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qa.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),s=l.slice(2,d?l.length-7:void 0),p=n[at]||null,p=p!=null?p[l]:null,typeof p=="function"&&n.removeEventListener(s,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,c,d);break e}l in n?n[l]=c:c===!0?n.setAttribute(l,""):es(n,l,c)}}}function Ln(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",n),et("load",n);var c=!1,d=!1,p;for(p in l)if(l.hasOwnProperty(p)){var R=l[p];if(R!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(n,s,p,R,l,null)}}d&&bt(n,s,"srcSet",l.srcSet,l,null),c&&bt(n,s,"src",l.src,l,null);return;case"input":et("invalid",n);var z=p=R=d=null,V=null,he=null;for(c in l)if(l.hasOwnProperty(c)){var ye=l[c];if(ye!=null)switch(c){case"name":d=ye;break;case"type":R=ye;break;case"checked":V=ye;break;case"defaultChecked":he=ye;break;case"value":p=ye;break;case"defaultValue":z=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,s));break;default:bt(n,s,c,ye,l,null)}}Um(n,p,z,V,he,R,d,!1);return;case"select":et("invalid",n),c=R=p=null;for(d in l)if(l.hasOwnProperty(d)&&(z=l[d],z!=null))switch(d){case"value":p=z;break;case"defaultValue":R=z;break;case"multiple":c=z;default:bt(n,s,d,z,l,null)}s=p,l=R,n.multiple=!!c,s!=null?Wa(n,!!c,s,!1):l!=null&&Wa(n,!!c,l,!0);return;case"textarea":et("invalid",n),p=d=c=null;for(R in l)if(l.hasOwnProperty(R)&&(z=l[R],z!=null))switch(R){case"value":c=z;break;case"defaultValue":d=z;break;case"children":p=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:bt(n,s,R,z,l,null)}zm(n,c,d,p);return;case"option":for(V in l)l.hasOwnProperty(V)&&(c=l[V],c!=null)&&(V==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":bt(n,s,V,c,l,null));return;case"dialog":et("beforetoggle",n),et("toggle",n),et("cancel",n),et("close",n);break;case"iframe":case"object":et("load",n);break;case"video":case"audio":for(c=0;c<Fl.length;c++)et(Fl[c],n);break;case"image":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"embed":case"source":case"link":et("error",n),et("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in l)if(l.hasOwnProperty(he)&&(c=l[he],c!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:bt(n,s,he,c,l,null)}return;default:if(Ih(s)){for(ye in l)l.hasOwnProperty(ye)&&(c=l[ye],c!==void 0&&b0(n,s,ye,c,l,void 0));return}}for(z in l)l.hasOwnProperty(z)&&(c=l[z],c!=null&&bt(n,s,z,c,l,null))}function DA(n,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,R=null,z=null,V=null,he=null,ye=null;for(me in l){var ve=l[me];if(l.hasOwnProperty(me)&&ve!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":V=ve;default:c.hasOwnProperty(me)||bt(n,s,me,null,c,ve)}}for(var de in c){var me=c[de];if(ve=l[de],c.hasOwnProperty(de)&&(me!=null||ve!=null))switch(de){case"type":p=me;break;case"name":d=me;break;case"checked":he=me;break;case"defaultChecked":ye=me;break;case"value":R=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,s));break;default:me!==ve&&bt(n,s,de,me,c,ve)}}Nh(n,R,z,V,he,ye,p,d);return;case"select":me=R=z=de=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":me=V;default:c.hasOwnProperty(p)||bt(n,s,p,null,c,V)}for(d in c)if(p=c[d],V=l[d],c.hasOwnProperty(d)&&(p!=null||V!=null))switch(d){case"value":de=p;break;case"defaultValue":z=p;break;case"multiple":R=p;default:p!==V&&bt(n,s,d,p,c,V)}s=z,l=R,c=me,de!=null?Wa(n,!!l,de,!1):!!c!=!!l&&(s!=null?Wa(n,!!l,s,!0):Wa(n,!!l,l?[]:"",!1));return;case"textarea":me=de=null;for(z in l)if(d=l[z],l.hasOwnProperty(z)&&d!=null&&!c.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:bt(n,s,z,null,c,d)}for(R in c)if(d=c[R],p=l[R],c.hasOwnProperty(R)&&(d!=null||p!=null))switch(R){case"value":de=d;break;case"defaultValue":me=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&bt(n,s,R,d,c,p)}Dm(n,de,me);return;case"option":for(var Ce in l)de=l[Ce],l.hasOwnProperty(Ce)&&de!=null&&!c.hasOwnProperty(Ce)&&(Ce==="selected"?n.selected=!1:bt(n,s,Ce,null,c,de));for(V in c)de=c[V],me=l[V],c.hasOwnProperty(V)&&de!==me&&(de!=null||me!=null)&&(V==="selected"?n.selected=de&&typeof de!="function"&&typeof de!="symbol":bt(n,s,V,de,c,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)de=l[He],l.hasOwnProperty(He)&&de!=null&&!c.hasOwnProperty(He)&&bt(n,s,He,null,c,de);for(he in c)if(de=c[he],me=l[he],c.hasOwnProperty(he)&&de!==me&&(de!=null||me!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,s));break;default:bt(n,s,he,de,c,me)}return;default:if(Ih(s)){for(var _t in l)de=l[_t],l.hasOwnProperty(_t)&&de!==void 0&&!c.hasOwnProperty(_t)&&b0(n,s,_t,void 0,c,de);for(ye in c)de=c[ye],me=l[ye],!c.hasOwnProperty(ye)||de===me||de===void 0&&me===void 0||b0(n,s,ye,de,c,me);return}}for(var ae in l)de=l[ae],l.hasOwnProperty(ae)&&de!=null&&!c.hasOwnProperty(ae)&&bt(n,s,ae,null,c,de);for(ve in c)de=c[ve],me=l[ve],!c.hasOwnProperty(ve)||de===me||de==null&&me==null||bt(n,s,ve,de,c,me)}function Pv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var d=l[c],p=d.transferSize,R=d.initiatorType,z=d.duration;if(p&&z&&Pv(R)){for(R=0,z=d.responseEnd,c+=1;c<l.length;c++){var V=l[c],he=V.startTime;if(he>z)break;var ye=V.transferSize,ve=V.initiatorType;ye&&Pv(ve)&&(V=V.responseEnd,R+=ye*(V<z?1:(z-he)/(V-he)))}if(--c,s+=8*(p+R)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var _0=null,S0=null;function Pc(n){return n.nodeType===9?n:n.ownerDocument}function Wv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $v(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function E0(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var A0=null;function qA(){var n=window.event;return n&&n.type==="popstate"?n===A0?!1:(A0=n,!0):(A0=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(n){return Fv.resolve(null).then(n).catch(WA)}:Kv;function WA(n){setTimeout(function(){throw n})}function vs(n){return n==="head"}function Gv(n,s){var l=s,c=0;do{var d=l.nextSibling;if(n.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(c===0){n.removeChild(d),So(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Vl(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Vl(l);for(var p=l.firstChild;p;){var R=p.nextSibling,z=p.nodeName;p[ci]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=R}}else l==="body"&&Vl(n.ownerDocument.body);l=d}while(l);So(s)}function Vv(n,s){var l=n;n=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=c}while(l)}function x0(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":x0(l),Hs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function $A(n,s,l,c){for(;n.nodeType===1;){var d=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[ci])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Nr(n.nextSibling),n===null)break}return null}function KA(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Nr(n.nextSibling),n===null))return null;return n}function Yv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Nr(n.nextSibling),n===null))return null;return n}function M0(n){return n.data==="$?"||n.data==="$~"}function T0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function FA(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Nr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var R0=null;function Zv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return Nr(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function Qv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function Jv(n,s,l){switch(s=Pc(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Vl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Hs(n)}var kr=new Map,Xv=new Set;function Wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ci=N.d;N.d={f:GA,r:VA,D:YA,C:ZA,L:QA,m:JA,X:ex,S:XA,M:tx};function GA(){var n=Ci.f(),s=Ic();return n||s}function VA(n){var s=Qr(n);s!==null&&s.tag===5&&s.type==="form"?mw(s):Ci.r(n)}var vo=typeof document>"u"?null:document;function eb(n,s,l){var c=vo;if(c&&typeof s=="string"&&s){var d=xr(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),Xv.has(d)||(Xv.add(d),n={rel:n,crossOrigin:l,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),Ln(s,"link",n),an(s),c.head.appendChild(s)))}}function YA(n){Ci.D(n),eb("dns-prefetch",n,null)}function ZA(n,s){Ci.C(n,s),eb("preconnect",n,s)}function QA(n,s,l){Ci.L(n,s,l);var c=vo;if(c&&n&&s){var d='link[rel="preload"][as="'+xr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+xr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+xr(l.imageSizes)+'"]')):d+='[href="'+xr(n)+'"]';var p=d;switch(s){case"style":p=bo(n);break;case"script":p=_o(n)}kr.has(p)||(n=_({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),kr.set(p,n),c.querySelector(d)!==null||s==="style"&&c.querySelector(Yl(p))||s==="script"&&c.querySelector(Zl(p))||(s=c.createElement("link"),Ln(s,"link",n),an(s),c.head.appendChild(s)))}}function JA(n,s){Ci.m(n,s);var l=vo;if(l&&n){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+xr(c)+'"][href="'+xr(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=_o(n)}if(!kr.has(p)&&(n=_({rel:"modulepreload",href:n},s),kr.set(p,n),l.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Zl(p)))return}c=l.createElement("link"),Ln(c,"link",n),an(c),l.head.appendChild(c)}}}function XA(n,s,l){Ci.S(n,s,l);var c=vo;if(c&&n){var d=Jr(c).hoistableStyles,p=bo(n);s=s||"default";var R=d.get(p);if(!R){var z={loading:0,preload:null};if(R=c.querySelector(Yl(p)))z.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},l),(l=kr.get(p))&&C0(n,l);var V=R=c.createElement("link");an(V),Ln(V,"link",n),V._p=new Promise(function(he,ye){V.onload=he,V.onerror=ye}),V.addEventListener("load",function(){z.loading|=1}),V.addEventListener("error",function(){z.loading|=2}),z.loading|=4,$c(R,s,c)}R={type:"stylesheet",instance:R,count:1,state:z},d.set(p,R)}}}function ex(n,s){Ci.X(n,s);var l=vo;if(l&&n){var c=Jr(l).hoistableScripts,d=_o(n),p=c.get(d);p||(p=l.querySelector(Zl(d)),p||(n=_({src:n,async:!0},s),(s=kr.get(d))&&B0(n,s),p=l.createElement("script"),an(p),Ln(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function tx(n,s){Ci.M(n,s);var l=vo;if(l&&n){var c=Jr(l).hoistableScripts,d=_o(n),p=c.get(d);p||(p=l.querySelector(Zl(d)),p||(n=_({src:n,async:!0,type:"module"},s),(s=kr.get(d))&&B0(n,s),p=l.createElement("script"),an(p),Ln(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function tb(n,s,l,c){var d=(d=ee.current)?Wc(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=bo(l.href),l=Jr(d).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=bo(l.href);var p=Jr(d).hoistableStyles,R=p.get(n);if(R||(d=d.ownerDocument||d,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,R),(p=d.querySelector(Yl(n)))&&!p._p&&(R.instance=p,R.state.loading=5),kr.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},kr.set(n,l),p||nx(d,n,l,R.state))),s&&c===null)throw Error(i(528,""));return R}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_o(l),l=Jr(d).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function bo(n){return'href="'+xr(n)+'"'}function Yl(n){return'link[rel="stylesheet"]['+n+"]"}function nb(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function nx(n,s,l,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Ln(s,"link",l),an(s),n.head.appendChild(s))}function _o(n){return'[src="'+xr(n)+'"]'}function Zl(n){return"script[async]"+n}function rb(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+xr(l.href)+'"]');if(c)return s.instance=c,an(c),c;var d=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),an(c),Ln(c,"style",d),$c(c,l.precedence,n),s.instance=c;case"stylesheet":d=bo(l.href);var p=n.querySelector(Yl(d));if(p)return s.state.loading|=4,s.instance=p,an(p),p;c=nb(l),(d=kr.get(d))&&C0(c,d),p=(n.ownerDocument||n).createElement("link"),an(p);var R=p;return R._p=new Promise(function(z,V){R.onload=z,R.onerror=V}),Ln(p,"link",c),s.state.loading|=4,$c(p,l.precedence,n),s.instance=p;case"script":return p=_o(l.src),(d=n.querySelector(Zl(p)))?(s.instance=d,an(d),d):(c=l,(d=kr.get(p))&&(c=_({},l),B0(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),an(d),Ln(d,"link",c),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,$c(c,l.precedence,n));return s.instance}function $c(n,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,R=0;R<c.length;R++){var z=c[R];if(z.dataset.precedence===s)p=z;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function C0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function B0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Kc=null;function ib(n,s,l){if(Kc===null){var c=new Map,d=Kc=new Map;d.set(l,c)}else d=Kc,c=d.get(l),c||(c=new Map,d.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),d=0;d<l.length;d++){var p=l[d];if(!(p[ci]||p[Je]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var R=p.getAttribute(s)||"";R=n+R;var z=c.get(R);z?z.push(p):c.set(R,[p])}}return c}function sb(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function rx(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ab(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function ix(n,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=bo(c.href),p=s.querySelector(Yl(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Fc.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=p,an(p);return}p=s.ownerDocument||s,c=nb(c),(d=kr.get(d))&&C0(c,d),p=p.createElement("link"),an(p);var R=p;R._p=new Promise(function(z,V){R.onload=z,R.onerror=V}),Ln(p,"link",c),l.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Fc.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var O0=0;function sx(n,s){return n.stylesheets&&n.count===0&&Vc(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var c=setTimeout(function(){if(n.stylesheets&&Vc(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&O0===0&&(O0=62500*zA());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Vc(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>O0?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gc=null;function Vc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gc=new Map,s.forEach(ax,n),Gc=null,Fc.call(n))}function ax(n,s){if(!(s.state.loading&4)){var l=Gc.get(n);if(l)var c=l.get(null);else{l=new Map,Gc.set(n,l);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var R=d[p];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),c=R)}c&&l.set(null,c)}d=s.instance,R=d.getAttribute("data-precedence"),p=l.get(R)||c,p===c&&l.set(null,d),l.set(R,d),this.count++,c=Fc.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Ql={$$typeof:L,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function ox(n,s,l,c,d,p,R,z,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.hiddenUpdates=zt(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function ob(n,s,l,c,d,p,R,z,V,he,ye,ve){return n=new ox(n,s,l,R,V,he,ye,ve,z),s=1,p===!0&&(s|=24),p=fr(3,null,null,s),n.current=p,p.stateNode=n,s=cd(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:s},gd(p),n}function lb(n){return n?(n=Qa,n):Qa}function ub(n,s,l,c,d,p){d=lb(d),c.context===null?c.context=d:c.pendingContext=d,c=ls(s),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=us(n,c,s),l!==null&&(ar(l,n,s),Cl(l,n,s))}function cb(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function N0(n,s){cb(n,s),(n=n.alternate)&&cb(n,s)}function fb(n){if(n.tag===13||n.tag===31){var s=Ks(n,67108864);s!==null&&ar(s,n,67108864),N0(n,67108864)}}function hb(n){if(n.tag===13||n.tag===31){var s=mr();s=qt(s);var l=Ks(n,s);l!==null&&ar(l,n,s),N0(n,s)}}var Yc=!0;function lx(n,s,l,c){var d=A.T;A.T=null;var p=N.p;try{N.p=2,k0(n,s,l,c)}finally{N.p=p,A.T=d}}function ux(n,s,l,c){var d=A.T;A.T=null;var p=N.p;try{N.p=8,k0(n,s,l,c)}finally{N.p=p,A.T=d}}function k0(n,s,l,c){if(Yc){var d=I0(c);if(d===null)v0(n,s,c,Zc,l),gb(n,c);else if(fx(d,n,s,l,c))c.stopPropagation();else if(gb(n,c),s&4&&-1<cx.indexOf(n)){for(;d!==null;){var p=Qr(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var R=Yr(p.pendingLanes);if(R!==0){var z=p;for(z.pendingLanes|=2,z.entangledLanes|=2;R;){var V=1<<31-Ne(R);z.entanglements[1]|=V,R&=~V}ri(p),(ht&6)===0&&(Nc=nt()+500,Kl(0))}}break;case 31:case 13:z=Ks(p,2),z!==null&&ar(z,p,2),Ic(),N0(p,2)}if(p=I0(c),p===null&&v0(n,s,c,Zc,l),p===d)break;d=p}d!==null&&c.stopPropagation()}else v0(n,s,c,null,l)}}function I0(n){return n=jh(n),L0(n)}var Zc=null;function L0(n){if(Zc=null,n=Zr(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=u(s),n!==null)return n;n=null}else if(l===31){if(n=f(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Zc=n,null}function db(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case kt:return 2;case j:return 8;case S:case M:return 32;case W:return 268435456;default:return 32}default:return 32}}var j0=!1,bs=null,_s=null,Ss=null,Jl=new Map,Xl=new Map,Es=[],cx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gb(n,s){switch(n){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(s.pointerId)}}function eu(n,s,l,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Qr(s),s!==null&&fb(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function fx(n,s,l,c,d){switch(s){case"focusin":return bs=eu(bs,n,s,l,c,d),!0;case"dragenter":return _s=eu(_s,n,s,l,c,d),!0;case"mouseover":return Ss=eu(Ss,n,s,l,c,d),!0;case"pointerover":var p=d.pointerId;return Jl.set(p,eu(Jl.get(p)||null,n,s,l,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Xl.set(p,eu(Xl.get(p)||null,n,s,l,c,d)),!0}return!1}function pb(n){var s=Zr(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){n.blockedOn=s,Jt(n.priority,function(){hb(l)});return}}else if(s===31){if(s=f(l),s!==null){n.blockedOn=s,Jt(n.priority,function(){hb(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=I0(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);Lh=c,l.target.dispatchEvent(c),Lh=null}else return s=Qr(l),s!==null&&fb(s),n.blockedOn=l,!1;s.shift()}return!0}function mb(n,s,l){Qc(n)&&l.delete(s)}function hx(){j0=!1,bs!==null&&Qc(bs)&&(bs=null),_s!==null&&Qc(_s)&&(_s=null),Ss!==null&&Qc(Ss)&&(Ss=null),Jl.forEach(mb),Xl.forEach(mb)}function Jc(n,s){n.blockedOn===s&&(n.blockedOn=null,j0||(j0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hx)))}var Xc=null;function yb(n){Xc!==n&&(Xc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===n&&(Xc=null);for(var s=0;s<n.length;s+=3){var l=n[s],c=n[s+1],d=n[s+2];if(typeof c!="function"){if(L0(c||l)===null)continue;break}var p=Qr(l);p!==null&&(n.splice(s,3),s-=3,Id(p,{pending:!0,data:d,method:l.method,action:c},c,d))}}))}function So(n){function s(V){return Jc(V,n)}bs!==null&&Jc(bs,n),_s!==null&&Jc(_s,n),Ss!==null&&Jc(Ss,n),Jl.forEach(s),Xl.forEach(s);for(var l=0;l<Es.length;l++){var c=Es[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Es.length&&(l=Es[0],l.blockedOn===null);)pb(l),l.blockedOn===null&&Es.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var d=l[c],p=l[c+1],R=d[at]||null;if(typeof p=="function")R||yb(l);else if(R){var z=null;if(p&&p.hasAttribute("formAction")){if(d=p,R=p[at]||null)z=R.formAction;else if(L0(d)!==null)continue}else z=R.action;typeof z=="function"?l[c+1]=z:(l.splice(c,3),c-=3),yb(l)}}}function wb(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(R){return d=R})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function U0(n){this._internalRoot=n}ef.prototype.render=U0.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=mr();ub(l,c,n,s,null,null)},ef.prototype.unmount=U0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ub(n.current,2,null,n,null,null),Ic(),s[ui]=null}};function ef(n){this._internalRoot=n}ef.prototype.unstable_scheduleHydration=function(n){if(n){var s=Qt();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Es.length&&s!==0&&s<Es[l].priority;l++);Es.splice(l,0,n),l===0&&pb(n)}};var vb=e.version;if(vb!=="19.2.4")throw Error(i(527,vb,"19.2.4"));N.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?w(n):null,n=n===null?null:n.stateNode,n};var dx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{pe=tf.inject(dx),je=tf}catch{}}return nu.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,c="",d=Mw,p=Tw,R=Rw;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError)),s=ob(n,1,!1,null,null,l,c,null,d,p,R,wb),n[ui]=s.current,w0(n),new U0(s)},nu.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var c=!1,d="",p=Mw,R=Tw,z=Rw,V=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),s=ob(n,1,!0,s,l??null,c,d,V,p,R,z,wb),s.context=lb(null),l=s.current,c=mr(),c=qt(c),d=ls(c),d.callback=null,us(l,d,c),l=c,s.current.lanes=l,Xi(s,l),ri(s),n[ui]=s.current,w0(n),new ef(s)},nu.version="19.2.4",nu}var Cb;function Sx(){if(Cb)return q0.exports;Cb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),q0.exports=_x(),q0.exports}var Ex=Sx();const Ax=Ra(Ex);var Bb="popstate";function xx(r={}){function e(a,o){let{pathname:u="/",search:f="",hash:h=""}=Ca(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),ap("",{pathname:u,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){let u=a.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let h=a.location.href,g=h.indexOf("#");f=g===-1?h:h.slice(0,g)}return f+"#"+(typeof o=="string"?o:_u(o))}function i(a,o){Lr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Tx(e,t,i,r)}function Gt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Lr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function Ob(r,e){return{usr:r.state,key:r.key,idx:e}}function ap(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ca(e):e,state:t,key:e&&e.key||i||Mx()}}function _u({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ca(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function Tx(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,u=a.history,f="POP",h=null,g=w();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function w(){return(u.state||{idx:null}).idx}function _(){f="POP";let k=w(),U=k==null?null:k-g;g=k,h&&h({action:f,location:B.location,delta:U})}function x(k,U){f="PUSH";let q=ap(B.location,k,U);t&&t(q,k),g=w()+1;let L=Ob(q,g),G=B.createHref(q);try{u.pushState(L,"",G)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(G)}o&&h&&h({action:f,location:B.location,delta:1})}function E(k,U){f="REPLACE";let q=ap(B.location,k,U);t&&t(q,k),g=w();let L=Ob(q,g),G=B.createHref(q);u.replaceState(L,"",G),o&&h&&h({action:f,location:B.location,delta:0})}function C(k){return Rx(k)}let B={get action(){return f},get location(){return r(a,u)},listen(k){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Bb,_),h=k,()=>{a.removeEventListener(Bb,_),h=null}},createHref(k){return e(a,k)},createURL:C,encodeLocation(k){let U=C(k);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:E,go(k){return u.go(k)}};return B}function Rx(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:_u(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function K_(r,e,t="/"){return Cx(r,e,t,!1)}function Cx(r,e,t,i){let a=typeof e=="string"?Ca(e):e,o=Ki(a.pathname||"/",t);if(o==null)return null;let u=F_(r);Bx(u);let f=null;for(let h=0;f==null&&h<u.length;++h){let g=Hx(o);f=zx(u[h],g,i)}return f}function F_(r,e=[],t=[],i="",a=!1){let o=(u,f,h=a,g)=>{let w={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&h)return;Gt(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let _=$i([i,w.relativePath]),x=t.concat(w);u.children&&u.children.length>0&&(Gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),F_(u.children,e,x,_,h)),!(u.path==null&&!u.index)&&e.push({path:_,score:Ux(_,u.index),routesMeta:x})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let h of G_(u.path))o(u,f,!0,h)}),e}function G_(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let u=G_(i.join("/")),f=[];return f.push(...u.map(h=>h===""?o:[o,h].join("/"))),a&&f.push(...u),f.map(h=>r.startsWith("/")&&h===""?"/":h)}function Bx(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Dx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Ox=/^:[\w-]+$/,Nx=3,kx=2,Ix=1,Lx=10,jx=-2,Nb=r=>r==="*";function Ux(r,e){let t=r.split("/"),i=t.length;return t.some(Nb)&&(i+=jx),e&&(i+=kx),t.filter(a=>!Nb(a)).reduce((a,o)=>a+(Ox.test(o)?Nx:o===""?Ix:Lx),i)}function Dx(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function zx(r,e,t=!1){let{routesMeta:i}=r,a={},o="/",u=[];for(let f=0;f<i.length;++f){let h=i[f],g=f===i.length-1,w=o==="/"?e:e.slice(o.length)||"/",_=Wf({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},w),x=h.route;if(!_&&g&&t&&!i[i.length-1].route.index&&(_=Wf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},w)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:$i([o,_.pathname]),pathnameBase:Kx($i([o,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(o=$i([o,_.pathnameBase]))}return u}function Wf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=qx(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:w,isOptional:_},x)=>{if(w==="*"){let C=f[x]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const E=f[x];return _&&!E?g[w]=void 0:g[w]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:u,pattern:r}}function qx(r,e=!1,t=!0){Lr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Hx(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var Px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Wx(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Ca(r):r,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=kb(t.substring(1),"/"):o=kb(t,e)):o=e,{pathname:o,search:Fx(i),hash:Gx(a)}}function kb(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function $0(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $x(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rm(r){let e=$x(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function im(r,e,t,i=!1){let a;typeof r=="string"?a=Ca(r):(a={...r},Gt(!a.pathname||!a.pathname.includes("?"),$0("?","pathname","search",a)),Gt(!a.pathname||!a.pathname.includes("#"),$0("#","pathname","hash",a)),Gt(!a.search||!a.search.includes("#"),$0("#","search","hash",a)));let o=r===""||a.pathname==="",u=o?"/":a.pathname,f;if(u==null)f=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),_-=1;a.pathname=x.join("/")}f=_>=0?e[_]:"/"}let h=Wx(a,f),g=u&&u!=="/"&&u.endsWith("/"),w=(o||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(g||w)&&(h.pathname+="/"),h}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),Kx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Fx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Gx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Vx=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Yx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Zx(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var V_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Y_(r,e){let t=r;if(typeof t!="string"||!Px.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(V_)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),f=Ki(u.pathname,e);u.origin===o.origin&&f!=null?t=f+u.search+u.hash:a=!0}catch{Lr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z_=["POST","PUT","PATCH","DELETE"];new Set(Z_);var Qx=["GET",...Z_];new Set(Qx);var sl=X.createContext(null);sl.displayName="DataRouter";var fh=X.createContext(null);fh.displayName="DataRouterState";var Jx=X.createContext(!1),Q_=X.createContext({isTransitioning:!1});Q_.displayName="ViewTransition";var Xx=X.createContext(new Map);Xx.displayName="Fetchers";var eM=X.createContext(null);eM.displayName="Await";var Er=X.createContext(null);Er.displayName="Navigation";var ku=X.createContext(null);ku.displayName="Location";var Vr=X.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var sm=X.createContext(null);sm.displayName="RouteError";var J_="REACT_ROUTER_ERROR",tM="REDIRECT",nM="ROUTE_ERROR_RESPONSE";function rM(r){if(r.startsWith(`${J_}:${tM}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function iM(r){if(r.startsWith(`${J_}:${nM}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Vx(e.status,e.statusText,e.data)}catch{}}function sM(r,{relative:e}={}){Gt(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=X.useContext(Er),{hash:a,pathname:o,search:u}=Iu(r,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:$i([t,o])),i.createHref({pathname:f,search:u,hash:a})}function al(){return X.useContext(ku)!=null}function Yi(){return Gt(al(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(ku).location}var X_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eS(r){X.useContext(Er).static||X.useLayoutEffect(r)}function am(){let{isDataRoute:r}=X.useContext(Vr);return r?bM():aM()}function aM(){Gt(al(),"useNavigate() may be used only in the context of a <Router> component.");let r=X.useContext(sl),{basename:e,navigator:t}=X.useContext(Er),{matches:i}=X.useContext(Vr),{pathname:a}=Yi(),o=JSON.stringify(rm(i)),u=X.useRef(!1);return eS(()=>{u.current=!0}),X.useCallback((h,g={})=>{if(Lr(u.current,X_),!u.current)return;if(typeof h=="number"){t.go(h);return}let w=im(h,JSON.parse(o),a,g.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:$i([e,w.pathname])),(g.replace?t.replace:t.push)(w,g.state,g)},[e,t,o,a,r])}var oM=X.createContext(null);function lM(r){let e=X.useContext(Vr).outlet;return X.useMemo(()=>e&&X.createElement(oM.Provider,{value:r},e),[e,r])}function Iu(r,{relative:e}={}){let{matches:t}=X.useContext(Vr),{pathname:i}=Yi(),a=JSON.stringify(rm(t));return X.useMemo(()=>im(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function uM(r,e){return tS(r,e)}function tS(r,e,t,i,a){Gt(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=X.useContext(Er),{matches:u}=X.useContext(Vr),f=u[u.length-1],h=f?f.params:{},g=f?f.pathname:"/",w=f?f.pathnameBase:"/",_=f&&f.route;{let q=_&&_.path||"";rS(g,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let x=Yi(),E;if(e){let q=typeof e=="string"?Ca(e):e;Gt(w==="/"||q.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${q.pathname}" was given in the \`location\` prop.`),E=q}else E=x;let C=E.pathname||"/",B=C;if(w!=="/"){let q=w.replace(/^\//,"").split("/");B="/"+C.replace(/^\//,"").split("/").slice(q.length).join("/")}let k=K_(r,{pathname:B});Lr(_||k!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Lr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=gM(k&&k.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:$i([w,o.encodeLocation?o.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?w:$i([w,o.encodeLocation?o.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),u,t,i,a);return e&&U?X.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},U):U}function cM(){let r=vM(),e=Yx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:o},"ErrorBoundary")," or"," ",X.createElement("code",{style:o},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),t?X.createElement("pre",{style:a},t):null,u)}var fM=X.createElement(cM,null),nS=class extends X.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=iM(r.digest);t&&(r=t)}let e=r!==void 0?X.createElement(Vr.Provider,{value:this.props.routeContext},X.createElement(sm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?X.createElement(hM,{error:r},e):e}};nS.contextType=Jx;var K0=new WeakMap;function hM({children:r,error:e}){let{basename:t}=X.useContext(Er);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=rM(e.digest);if(i){let a=K0.get(e);if(a)throw a;let o=Y_(i.location,t);if(V_&&!K0.get(e))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw K0.set(e,u),u}return X.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return r}function dM({routeContext:r,match:e,children:t}){let i=X.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(Vr.Provider,{value:r},t)}function gM(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t?.errors;if(u!=null){let w=o.findIndex(_=>_.route.id&&u?.[_.route.id]!==void 0);Gt(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,w+1))}let f=!1,h=-1;if(t)for(let w=0;w<o.length;w++){let _=o[w];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=w),_.route.id){let{loaderData:x,errors:E}=t,C=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||C){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let g=t&&i?(w,_)=>{i(w,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Zx(t.matches),errorInfo:_})}:void 0;return o.reduceRight((w,_,x)=>{let E,C=!1,B=null,k=null;t&&(E=u&&_.route.id?u[_.route.id]:void 0,B=_.route.errorElement||fM,f&&(h<0&&x===0?(rS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):h===x&&(C=!0,k=_.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,x+1)),q=()=>{let L;return E?L=B:C?L=k:_.route.Component?L=X.createElement(_.route.Component,null):_.route.element?L=_.route.element:L=w,X.createElement(dM,{match:_,routeContext:{outlet:w,matches:U,isDataRoute:t!=null},children:L})};return t&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?X.createElement(nS,{location:t.location,revalidation:t.revalidation,component:B,error:E,children:q(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:g}):q()},null)}function om(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pM(r){let e=X.useContext(sl);return Gt(e,om(r)),e}function mM(r){let e=X.useContext(fh);return Gt(e,om(r)),e}function yM(r){let e=X.useContext(Vr);return Gt(e,om(r)),e}function lm(r){let e=yM(r),t=e.matches[e.matches.length-1];return Gt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function wM(){return lm("useRouteId")}function vM(){let r=X.useContext(sm),e=mM("useRouteError"),t=lm("useRouteError");return r!==void 0?r:e.errors?.[t]}function bM(){let{router:r}=pM("useNavigate"),e=lm("useNavigate"),t=X.useRef(!1);return eS(()=>{t.current=!0}),X.useCallback(async(a,o={})=>{Lr(t.current,X_),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...o}))},[r,e])}var Ib={};function rS(r,e,t){!e&&!Ib[r]&&(Ib[r]=!0,Lr(!1,t))}X.memo(_M);function _M({routes:r,future:e,state:t,onError:i}){return tS(r,void 0,t,i,e)}function SM({to:r,replace:e,state:t,relative:i}){Gt(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=X.useContext(Er);Lr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=X.useContext(Vr),{pathname:u}=Yi(),f=am(),h=im(r,rm(o),u,i==="path"),g=JSON.stringify(h);return X.useEffect(()=>{f(JSON.parse(g),{replace:e,state:t,relative:i})},[f,g,i,e,t]),null}function iS(r){return lM(r.context)}function Ni(r){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EM({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:u}){Gt(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),h=X.useMemo(()=>({basename:f,navigator:a,static:o,unstable_useTransitions:u,future:{}}),[f,a,o,u]);typeof t=="string"&&(t=Ca(t));let{pathname:g="/",search:w="",hash:_="",state:x=null,key:E="default"}=t,C=X.useMemo(()=>{let B=Ki(g,f);return B==null?null:{location:{pathname:B,search:w,hash:_,state:x,key:E},navigationType:i}},[f,g,w,_,x,E,i]);return Lr(C!=null,`<Router basename="${f}"> is not able to match the URL "${g}${w}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:X.createElement(Er.Provider,{value:h},X.createElement(ku.Provider,{children:e,value:C}))}function AM({children:r,location:e}){return uM(op(r),e)}function op(r,e=[]){let t=[];return X.Children.forEach(r,(i,a)=>{if(!X.isValidElement(i))return;let o=[...e,a];if(i.type===X.Fragment){t.push.apply(t,op(i.props.children,o));return}Gt(i.type===Ni,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=op(i.props.children,o)),t.push(u)}),t}var _f="get",Sf="application/x-www-form-urlencoded";function hh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function xM(r){return hh(r)&&r.tagName.toLowerCase()==="button"}function MM(r){return hh(r)&&r.tagName.toLowerCase()==="form"}function TM(r){return hh(r)&&r.tagName.toLowerCase()==="input"}function RM(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function CM(r,e){return r.button===0&&(!e||e==="_self")&&!RM(r)}var nf=null;function BM(){if(nf===null)try{new FormData(document.createElement("form"),0),nf=!1}catch{nf=!0}return nf}var OM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F0(r){return r!=null&&!OM.has(r)?(Lr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):r}function NM(r,e){let t,i,a,o,u;if(MM(r)){let f=r.getAttribute("action");i=f?Ki(f,e):null,t=r.getAttribute("method")||_f,a=F0(r.getAttribute("enctype"))||Sf,o=new FormData(r)}else if(xM(r)||TM(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||f.getAttribute("action");if(i=h?Ki(h,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||_f,a=F0(r.getAttribute("formenctype"))||F0(f.getAttribute("enctype"))||Sf,o=new FormData(f,r),!BM()){let{name:g,type:w,value:_}=r;if(w==="image"){let x=g?`${g}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else g&&o.append(g,_)}}else{if(hh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=_f,i=null,a=Sf,u=r}return o&&a==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function um(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kM(r,e,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function IM(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LM(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jM(r,e,t){let i=await Promise.all(r.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await IM(o,t);return u.links?u.links():[]}return[]}));return qM(i.flat(1).filter(LM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lb(r,e,t,i,a,o){let u=(h,g)=>t[g]?h.route.id!==t[g].route.id:!0,f=(h,g)=>t[g].pathname!==h.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,g)=>u(h,g)||f(h,g)):o==="data"?e.filter((h,g)=>{let w=i.routes[h.route.id];if(!w||!w.hasLoader)return!1;if(u(h,g)||f(h,g))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function UM(r,e,{includeHydrateFallback:t}={}){return DM(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function DM(r){return[...new Set(r)]}function zM(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function qM(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let o=JSON.stringify(zM(a));return t.has(o)||(t.add(o),i.push({key:o,link:a})),i},[])}function sS(){let r=X.useContext(sl);return um(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function HM(){let r=X.useContext(fh);return um(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cm=X.createContext(void 0);cm.displayName="FrameworkContext";function aS(){let r=X.useContext(cm);return um(r,"You must render this element inside a <HydratedRouter> element"),r}function PM(r,e){let t=X.useContext(cm),[i,a]=X.useState(!1),[o,u]=X.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:g,onMouseLeave:w,onTouchStart:_}=e,x=X.useRef(null);X.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let B=U=>{U.forEach(q=>{u(q.isIntersecting)})},k=new IntersectionObserver(B,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[r]),X.useEffect(()=>{if(i){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[i]);let E=()=>{a(!0)},C=()=>{a(!1),u(!1)};return t?r!=="intent"?[o,x,{}]:[o,x,{onFocus:ru(f,E),onBlur:ru(h,C),onMouseEnter:ru(g,E),onMouseLeave:ru(w,C),onTouchStart:ru(_,E)}]:[!1,x,{}]}function ru(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function WM({page:r,...e}){let{router:t}=sS(),i=X.useMemo(()=>K_(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?X.createElement(KM,{page:r,matches:i,...e}):null}function $M(r){let{manifest:e,routeModules:t}=aS(),[i,a]=X.useState([]);return X.useEffect(()=>{let o=!1;return jM(r,e,t).then(u=>{o||a(u)}),()=>{o=!0}},[r,e,t]),i}function KM({page:r,matches:e,...t}){let i=Yi(),{future:a,manifest:o,routeModules:u}=aS(),{basename:f}=sS(),{loaderData:h,matches:g}=HM(),w=X.useMemo(()=>Lb(r,e,g,o,i,"data"),[r,e,g,o,i]),_=X.useMemo(()=>Lb(r,e,g,o,i,"assets"),[r,e,g,o,i]),x=X.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let B=new Set,k=!1;if(e.forEach(q=>{let L=o.routes[q.route.id];!L||!L.hasLoader||(!w.some(G=>G.route.id===q.route.id)&&q.route.id in h&&u[q.route.id]?.shouldRevalidate||L.hasClientLoader?k=!0:B.add(q.route.id))}),B.size===0)return[];let U=kM(r,f,a.unstable_trailingSlashAwareDataRequests,"data");return k&&B.size>0&&U.searchParams.set("_routes",e.filter(q=>B.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[f,a.unstable_trailingSlashAwareDataRequests,h,i,o,w,e,r,u]),E=X.useMemo(()=>UM(_,o),[_,o]),C=$M(_);return X.createElement(X.Fragment,null,x.map(B=>X.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...t})),E.map(B=>X.createElement("link",{key:B,rel:"modulepreload",href:B,...t})),C.map(({key:B,link:k})=>X.createElement("link",{key:B,nonce:t.nonce,...k,crossOrigin:k.crossOrigin??t.crossOrigin})))}function FM(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GM&&(window.__reactRouterVersion="7.13.0")}catch{}function VM({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=X.useRef();a.current==null&&(a.current=xx({window:i,v5Compat:!0}));let o=a.current,[u,f]=X.useState({action:o.action,location:o.location}),h=X.useCallback(g=>{t===!1?f(g):X.startTransition(()=>f(g))},[t]);return X.useLayoutEffect(()=>o.listen(h),[o,h]),X.createElement(EM,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:t})}var oS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ir=X.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:o,replace:u,state:f,target:h,to:g,preventScrollReset:w,viewTransition:_,unstable_defaultShouldRevalidate:x,...E},C){let{basename:B,unstable_useTransitions:k}=X.useContext(Er),U=typeof g=="string"&&oS.test(g),q=Y_(g,B);g=q.to;let L=sM(g,{relative:a}),[G,te,J]=PM(i,E),se=JM(g,{replace:u,state:f,target:h,preventScrollReset:w,relative:a,viewTransition:_,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function oe(K){e&&e(K),K.defaultPrevented||se(K)}let P=X.createElement("a",{...E,...J,href:q.absoluteURL||L,onClick:q.isExternal||o?e:oe,ref:FM(C,te),target:h,"data-discover":!U&&t==="render"?"true":void 0});return G&&!U?X.createElement(X.Fragment,null,P,X.createElement(WM,{page:L})):P});Ir.displayName="Link";var YM=X.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:o,to:u,viewTransition:f,children:h,...g},w){let _=Iu(u,{relative:g.relative}),x=Yi(),E=X.useContext(fh),{navigator:C,basename:B}=X.useContext(Er),k=E!=null&&rT(_)&&f===!0,U=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,q=x.pathname,L=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(q=q.toLowerCase(),L=L?L.toLowerCase():null,U=U.toLowerCase()),L&&B&&(L=Ki(L,B)||L);const G=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let te=q===U||!a&&q.startsWith(U)&&q.charAt(G)==="/",J=L!=null&&(L===U||!a&&L.startsWith(U)&&L.charAt(U.length)==="/"),se={isActive:te,isPending:J,isTransitioning:k},oe=te?e:void 0,P;typeof i=="function"?P=i(se):P=[i,te?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let K=typeof o=="function"?o(se):o;return X.createElement(Ir,{...g,"aria-current":oe,className:P,ref:w,style:K,to:u,viewTransition:f},typeof h=="function"?h(se):h)});YM.displayName="NavLink";var ZM=X.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:o,method:u=_f,action:f,onSubmit:h,relative:g,preventScrollReset:w,viewTransition:_,unstable_defaultShouldRevalidate:x,...E},C)=>{let{unstable_useTransitions:B}=X.useContext(Er),k=tT(),U=nT(f,{relative:g}),q=u.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&oS.test(f),G=te=>{if(h&&h(te),te.defaultPrevented)return;te.preventDefault();let J=te.nativeEvent.submitter,se=J?.getAttribute("formmethod")||u,oe=()=>k(J||te.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:a,state:o,relative:g,preventScrollReset:w,viewTransition:_,unstable_defaultShouldRevalidate:x});B&&t!==!1?X.startTransition(()=>oe()):oe()};return X.createElement("form",{ref:C,method:q,action:U,onSubmit:i?h:G,...E,"data-discover":!L&&r==="render"?"true":void 0})});ZM.displayName="Form";function QM(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lS(r){let e=X.useContext(sl);return Gt(e,QM(r)),e}function JM(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let g=am(),w=Yi(),_=Iu(r,{relative:o});return X.useCallback(x=>{if(CM(x,e)){x.preventDefault();let E=t!==void 0?t:_u(w)===_u(_),C=()=>g(r,{replace:E,state:i,preventScrollReset:a,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:f});h?X.startTransition(()=>C()):C()}},[w,g,_,t,i,e,r,a,o,u,f,h])}var XM=0,eT=()=>`__${String(++XM)}__`;function tT(){let{router:r}=lS("useSubmit"),{basename:e}=X.useContext(Er),t=wM(),i=r.fetch,a=r.navigate;return X.useCallback(async(o,u={})=>{let{action:f,method:h,encType:g,formData:w,body:_}=NM(o,e);if(u.navigate===!1){let x=u.fetcherKey||eT();await i(x,t,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:w,body:_,formMethod:u.method||h,formEncType:u.encType||g,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:w,body:_,formMethod:u.method||h,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,t])}function nT(r,{relative:e}={}){let{basename:t}=X.useContext(Er),i=X.useContext(Vr);Gt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...Iu(r||".",{relative:e})},u=Yi();if(r==null){o.search=u.search;let f=new URLSearchParams(o.search),h=f.getAll("index");if(h.some(w=>w==="")){f.delete("index"),h.filter(_=>_).forEach(_=>f.append("index",_));let w=f.toString();o.search=w?`?${w}`:""}}return(!r||r===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:$i([t,o.pathname])),_u(o)}function rT(r,{relative:e}={}){let t=X.useContext(Q_);Gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=lS("useViewTransitionState"),a=Iu(r,{relative:e});if(!t.isTransitioning)return!1;let o=Ki(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Ki(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Wf(a.pathname,u)!=null||Wf(a.pathname,o)!=null}var uS=$_(),G0={},iu={},jb;function iT(){if(jb)return iu;jb=1,iu.byteLength=f,iu.toByteArray=g,iu.fromByteArray=x;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=i.length;a<o;++a)r[a]=i[a],e[i.charCodeAt(a)]=a;e[45]=62,e[95]=63;function u(E){var C=E.length;if(C%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var B=E.indexOf("=");B===-1&&(B=C);var k=B===C?0:4-B%4;return[B,k]}function f(E){var C=u(E),B=C[0],k=C[1];return(B+k)*3/4-k}function h(E,C,B){return(C+B)*3/4-B}function g(E){var C,B=u(E),k=B[0],U=B[1],q=new t(h(E,k,U)),L=0,G=U>0?k-4:k,te;for(te=0;te<G;te+=4)C=e[E.charCodeAt(te)]<<18|e[E.charCodeAt(te+1)]<<12|e[E.charCodeAt(te+2)]<<6|e[E.charCodeAt(te+3)],q[L++]=C>>16&255,q[L++]=C>>8&255,q[L++]=C&255;return U===2&&(C=e[E.charCodeAt(te)]<<2|e[E.charCodeAt(te+1)]>>4,q[L++]=C&255),U===1&&(C=e[E.charCodeAt(te)]<<10|e[E.charCodeAt(te+1)]<<4|e[E.charCodeAt(te+2)]>>2,q[L++]=C>>8&255,q[L++]=C&255),q}function w(E){return r[E>>18&63]+r[E>>12&63]+r[E>>6&63]+r[E&63]}function _(E,C,B){for(var k,U=[],q=C;q<B;q+=3)k=(E[q]<<16&16711680)+(E[q+1]<<8&65280)+(E[q+2]&255),U.push(w(k));return U.join("")}function x(E){for(var C,B=E.length,k=B%3,U=[],q=16383,L=0,G=B-k;L<G;L+=q)U.push(_(E,L,L+q>G?G:L+q));return k===1?(C=E[B-1],U.push(r[C>>2]+r[C<<4&63]+"==")):k===2&&(C=(E[B-2]<<8)+E[B-1],U.push(r[C>>10]+r[C>>4&63]+r[C<<2&63]+"=")),U.join("")}return iu}var rf={};var Ub;function sT(){return Ub||(Ub=1,rf.read=function(r,e,t,i,a){var o,u,f=a*8-i-1,h=(1<<f)-1,g=h>>1,w=-7,_=t?a-1:0,x=t?-1:1,E=r[e+_];for(_+=x,o=E&(1<<-w)-1,E>>=-w,w+=f;w>0;o=o*256+r[e+_],_+=x,w-=8);for(u=o&(1<<-w)-1,o>>=-w,w+=i;w>0;u=u*256+r[e+_],_+=x,w-=8);if(o===0)o=1-g;else{if(o===h)return u?NaN:(E?-1:1)*(1/0);u=u+Math.pow(2,i),o=o-g}return(E?-1:1)*u*Math.pow(2,o-i)},rf.write=function(r,e,t,i,a,o){var u,f,h,g=o*8-a-1,w=(1<<g)-1,_=w>>1,x=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=i?0:o-1,C=i?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,u=w):(u=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+_>=1?e+=x/h:e+=x*Math.pow(2,1-_),e*h>=2&&(u++,h/=2),u+_>=w?(f=0,u=w):u+_>=1?(f=(e*h-1)*Math.pow(2,a),u=u+_):(f=e*Math.pow(2,_-1)*Math.pow(2,a),u=0));a>=8;r[t+E]=f&255,E+=C,f/=256,a-=8);for(u=u<<a|f,g+=a;g>0;r[t+E]=u&255,E+=C,u/=256,g-=8);r[t+E-C]|=B*128}),rf}var Db;function dh(){return Db||(Db=1,(function(r){const e=iT(),t=sT(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=q,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a,f.TYPED_ARRAY_SUPPORT=o(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const j=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(j,S),j.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function u(j){if(j>a)throw new RangeError('The value "'+j+'" is invalid for option "size"');const S=new Uint8Array(j);return Object.setPrototypeOf(S,f.prototype),S}function f(j,S,M){if(typeof j=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(j)}return h(j,S,M)}f.poolSize=8192;function h(j,S,M){if(typeof j=="string")return x(j,S);if(ArrayBuffer.isView(j))return C(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(Qn(j,ArrayBuffer)||j&&Qn(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qn(j,SharedArrayBuffer)||j&&Qn(j.buffer,SharedArrayBuffer)))return B(j,S,M);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const W=j.valueOf&&j.valueOf();if(W!=null&&W!==j)return f.from(W,S,M);const ie=k(j);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return f.from(j[Symbol.toPrimitive]("string"),S,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}f.from=function(j,S,M){return h(j,S,M)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function g(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function w(j,S,M){return g(j),j<=0?u(j):S!==void 0?typeof M=="string"?u(j).fill(S,M):u(j).fill(S):u(j)}f.alloc=function(j,S,M){return w(j,S,M)};function _(j){return g(j),u(j<0?0:U(j)|0)}f.allocUnsafe=function(j){return _(j)},f.allocUnsafeSlow=function(j){return _(j)};function x(j,S){if((typeof S!="string"||S==="")&&(S="utf8"),!f.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const M=L(j,S)|0;let W=u(M);const ie=W.write(j,S);return ie!==M&&(W=W.slice(0,ie)),W}function E(j){const S=j.length<0?0:U(j.length)|0,M=u(S);for(let W=0;W<S;W+=1)M[W]=j[W]&255;return M}function C(j){if(Qn(j,Uint8Array)){const S=new Uint8Array(j);return B(S.buffer,S.byteOffset,S.byteLength)}return E(j)}function B(j,S,M){if(S<0||j.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<S+(M||0))throw new RangeError('"length" is outside of buffer bounds');let W;return S===void 0&&M===void 0?W=new Uint8Array(j):M===void 0?W=new Uint8Array(j,S):W=new Uint8Array(j,S,M),Object.setPrototypeOf(W,f.prototype),W}function k(j){if(f.isBuffer(j)){const S=U(j.length)|0,M=u(S);return M.length===0||j.copy(M,0,0,S),M}if(j.length!==void 0)return typeof j.length!="number"||Tt(j.length)?u(0):E(j);if(j.type==="Buffer"&&Array.isArray(j.data))return E(j.data)}function U(j){if(j>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return j|0}function q(j){return+j!=j&&(j=0),f.alloc(+j)}f.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==f.prototype},f.compare=function(S,M){if(Qn(S,Uint8Array)&&(S=f.from(S,S.offset,S.byteLength)),Qn(M,Uint8Array)&&(M=f.from(M,M.offset,M.byteLength)),!f.isBuffer(S)||!f.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===M)return 0;let W=S.length,ie=M.length;for(let ue=0,pe=Math.min(W,ie);ue<pe;++ue)if(S[ue]!==M[ue]){W=S[ue],ie=M[ue];break}return W<ie?-1:ie<W?1:0},f.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(S,M){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return f.alloc(0);let W;if(M===void 0)for(M=0,W=0;W<S.length;++W)M+=S[W].length;const ie=f.allocUnsafe(M);let ue=0;for(W=0;W<S.length;++W){let pe=S[W];if(Qn(pe,Uint8Array))ue+pe.length>ie.length?(f.isBuffer(pe)||(pe=f.from(pe)),pe.copy(ie,ue)):Uint8Array.prototype.set.call(ie,pe,ue);else if(f.isBuffer(pe))pe.copy(ie,ue);else throw new TypeError('"list" argument must be an Array of Buffers');ue+=pe.length}return ie};function L(j,S){if(f.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||Qn(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const M=j.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&M===0)return 0;let ie=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return Mt(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return St(j).length;default:if(ie)return W?-1:Mt(j).length;S=(""+S).toLowerCase(),ie=!0}}f.byteLength=L;function G(j,S,M){let W=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,S>>>=0,M<=S))return"";for(j||(j="utf8");;)switch(j){case"hex":return $(this,S,M);case"utf8":case"utf-8":return m(this,S,M);case"ascii":return N(this,S,M);case"latin1":case"binary":return D(this,S,M);case"base64":return O(this,S,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,S,M);default:if(W)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),W=!0}}f.prototype._isBuffer=!0;function te(j,S,M){const W=j[S];j[S]=j[M],j[M]=W}f.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<S;M+=2)te(this,M,M+1);return this},f.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<S;M+=4)te(this,M,M+3),te(this,M+1,M+2);return this},f.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<S;M+=8)te(this,M,M+7),te(this,M+1,M+6),te(this,M+2,M+5),te(this,M+3,M+4);return this},f.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?m(this,0,S):G.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(S){if(!f.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:f.compare(this,S)===0},f.prototype.inspect=function(){let S="";const M=r.INSPECT_MAX_BYTES;return S=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(S+=" ... "),"<Buffer "+S+">"},i&&(f.prototype[i]=f.prototype.inspect),f.prototype.compare=function(S,M,W,ie,ue){if(Qn(S,Uint8Array)&&(S=f.from(S,S.offset,S.byteLength)),!f.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(M===void 0&&(M=0),W===void 0&&(W=S?S.length:0),ie===void 0&&(ie=0),ue===void 0&&(ue=this.length),M<0||W>S.length||ie<0||ue>this.length)throw new RangeError("out of range index");if(ie>=ue&&M>=W)return 0;if(ie>=ue)return-1;if(M>=W)return 1;if(M>>>=0,W>>>=0,ie>>>=0,ue>>>=0,this===S)return 0;let pe=ue-ie,je=W-M;const ze=Math.min(pe,je),Ne=this.slice(ie,ue),Et=S.slice(M,W);for(let Pe=0;Pe<ze;++Pe)if(Ne[Pe]!==Et[Pe]){pe=Ne[Pe],je=Et[Pe];break}return pe<je?-1:je<pe?1:0};function J(j,S,M,W,ie){if(j.length===0)return-1;if(typeof M=="string"?(W=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,Tt(M)&&(M=ie?0:j.length-1),M<0&&(M=j.length+M),M>=j.length){if(ie)return-1;M=j.length-1}else if(M<0)if(ie)M=0;else return-1;if(typeof S=="string"&&(S=f.from(S,W)),f.isBuffer(S))return S.length===0?-1:se(j,S,M,W,ie);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(j,S,M):Uint8Array.prototype.lastIndexOf.call(j,S,M):se(j,[S],M,W,ie);throw new TypeError("val must be string, number or Buffer")}function se(j,S,M,W,ie){let ue=1,pe=j.length,je=S.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(j.length<2||S.length<2)return-1;ue=2,pe/=2,je/=2,M/=2}function ze(Et,Pe){return ue===1?Et[Pe]:Et.readUInt16BE(Pe*ue)}let Ne;if(ie){let Et=-1;for(Ne=M;Ne<pe;Ne++)if(ze(j,Ne)===ze(S,Et===-1?0:Ne-Et)){if(Et===-1&&(Et=Ne),Ne-Et+1===je)return Et*ue}else Et!==-1&&(Ne-=Ne-Et),Et=-1}else for(M+je>pe&&(M=pe-je),Ne=M;Ne>=0;Ne--){let Et=!0;for(let Pe=0;Pe<je;Pe++)if(ze(j,Ne+Pe)!==ze(S,Pe)){Et=!1;break}if(Et)return Ne}return-1}f.prototype.includes=function(S,M,W){return this.indexOf(S,M,W)!==-1},f.prototype.indexOf=function(S,M,W){return J(this,S,M,W,!0)},f.prototype.lastIndexOf=function(S,M,W){return J(this,S,M,W,!1)};function oe(j,S,M,W){M=Number(M)||0;const ie=j.length-M;W?(W=Number(W),W>ie&&(W=ie)):W=ie;const ue=S.length;W>ue/2&&(W=ue/2);let pe;for(pe=0;pe<W;++pe){const je=parseInt(S.substr(pe*2,2),16);if(Tt(je))return pe;j[M+pe]=je}return pe}function P(j,S,M,W){return gt(Mt(S,j.length-M),j,M,W)}function K(j,S,M,W){return gt(Nt(S),j,M,W)}function Z(j,S,M,W){return gt(St(S),j,M,W)}function Q(j,S,M,W){return gt(Ji(S,j.length-M),j,M,W)}f.prototype.write=function(S,M,W,ie){if(M===void 0)ie="utf8",W=this.length,M=0;else if(W===void 0&&typeof M=="string")ie=M,W=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(W)?(W=W>>>0,ie===void 0&&(ie="utf8")):(ie=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ue=this.length-M;if((W===void 0||W>ue)&&(W=ue),S.length>0&&(W<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let pe=!1;for(;;)switch(ie){case"hex":return oe(this,S,M,W);case"utf8":case"utf-8":return P(this,S,M,W);case"ascii":case"latin1":case"binary":return K(this,S,M,W);case"base64":return Z(this,S,M,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,S,M,W);default:if(pe)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),pe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(j,S,M){return S===0&&M===j.length?e.fromByteArray(j):e.fromByteArray(j.slice(S,M))}function m(j,S,M){M=Math.min(j.length,M);const W=[];let ie=S;for(;ie<M;){const ue=j[ie];let pe=null,je=ue>239?4:ue>223?3:ue>191?2:1;if(ie+je<=M){let ze,Ne,Et,Pe;switch(je){case 1:ue<128&&(pe=ue);break;case 2:ze=j[ie+1],(ze&192)===128&&(Pe=(ue&31)<<6|ze&63,Pe>127&&(pe=Pe));break;case 3:ze=j[ie+1],Ne=j[ie+2],(ze&192)===128&&(Ne&192)===128&&(Pe=(ue&15)<<12|(ze&63)<<6|Ne&63,Pe>2047&&(Pe<55296||Pe>57343)&&(pe=Pe));break;case 4:ze=j[ie+1],Ne=j[ie+2],Et=j[ie+3],(ze&192)===128&&(Ne&192)===128&&(Et&192)===128&&(Pe=(ue&15)<<18|(ze&63)<<12|(Ne&63)<<6|Et&63,Pe>65535&&Pe<1114112&&(pe=Pe))}}pe===null?(pe=65533,je=1):pe>65535&&(pe-=65536,W.push(pe>>>10&1023|55296),pe=56320|pe&1023),W.push(pe),ie+=je}return A(W)}const b=4096;function A(j){const S=j.length;if(S<=b)return String.fromCharCode.apply(String,j);let M="",W=0;for(;W<S;)M+=String.fromCharCode.apply(String,j.slice(W,W+=b));return M}function N(j,S,M){let W="";M=Math.min(j.length,M);for(let ie=S;ie<M;++ie)W+=String.fromCharCode(j[ie]&127);return W}function D(j,S,M){let W="";M=Math.min(j.length,M);for(let ie=S;ie<M;++ie)W+=String.fromCharCode(j[ie]);return W}function $(j,S,M){const W=j.length;(!S||S<0)&&(S=0),(!M||M<0||M>W)&&(M=W);let ie="";for(let ue=S;ue<M;++ue)ie+=nt[j[ue]];return ie}function F(j,S,M){const W=j.slice(S,M);let ie="";for(let ue=0;ue<W.length-1;ue+=2)ie+=String.fromCharCode(W[ue]+W[ue+1]*256);return ie}f.prototype.slice=function(S,M){const W=this.length;S=~~S,M=M===void 0?W:~~M,S<0?(S+=W,S<0&&(S=0)):S>W&&(S=W),M<0?(M+=W,M<0&&(M=0)):M>W&&(M=W),M<S&&(M=S);const ie=this.subarray(S,M);return Object.setPrototypeOf(ie,f.prototype),ie};function T(j,S,M){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+S>M)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(S,M,W){S=S>>>0,M=M>>>0,W||T(S,M,this.length);let ie=this[S],ue=1,pe=0;for(;++pe<M&&(ue*=256);)ie+=this[S+pe]*ue;return ie},f.prototype.readUintBE=f.prototype.readUIntBE=function(S,M,W){S=S>>>0,M=M>>>0,W||T(S,M,this.length);let ie=this[S+--M],ue=1;for(;M>0&&(ue*=256);)ie+=this[S+--M]*ue;return ie},f.prototype.readUint8=f.prototype.readUInt8=function(S,M){return S=S>>>0,M||T(S,1,this.length),this[S]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(S,M){return S=S>>>0,M||T(S,2,this.length),this[S]|this[S+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(S,M){return S=S>>>0,M||T(S,2,this.length),this[S]<<8|this[S+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(S,M){return S=S>>>0,M||T(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(S,M){return S=S>>>0,M||T(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},f.prototype.readBigUInt64LE=ur(function(S){S=S>>>0,Zn(S,"offset");const M=this[S],W=this[S+7];(M===void 0||W===void 0)&&lt(S,this.length-8);const ie=M+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,ue=this[++S]+this[++S]*2**8+this[++S]*2**16+W*2**24;return BigInt(ie)+(BigInt(ue)<<BigInt(32))}),f.prototype.readBigUInt64BE=ur(function(S){S=S>>>0,Zn(S,"offset");const M=this[S],W=this[S+7];(M===void 0||W===void 0)&&lt(S,this.length-8);const ie=M*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],ue=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+W;return(BigInt(ie)<<BigInt(32))+BigInt(ue)}),f.prototype.readIntLE=function(S,M,W){S=S>>>0,M=M>>>0,W||T(S,M,this.length);let ie=this[S],ue=1,pe=0;for(;++pe<M&&(ue*=256);)ie+=this[S+pe]*ue;return ue*=128,ie>=ue&&(ie-=Math.pow(2,8*M)),ie},f.prototype.readIntBE=function(S,M,W){S=S>>>0,M=M>>>0,W||T(S,M,this.length);let ie=M,ue=1,pe=this[S+--ie];for(;ie>0&&(ue*=256);)pe+=this[S+--ie]*ue;return ue*=128,pe>=ue&&(pe-=Math.pow(2,8*M)),pe},f.prototype.readInt8=function(S,M){return S=S>>>0,M||T(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},f.prototype.readInt16LE=function(S,M){S=S>>>0,M||T(S,2,this.length);const W=this[S]|this[S+1]<<8;return W&32768?W|4294901760:W},f.prototype.readInt16BE=function(S,M){S=S>>>0,M||T(S,2,this.length);const W=this[S+1]|this[S]<<8;return W&32768?W|4294901760:W},f.prototype.readInt32LE=function(S,M){return S=S>>>0,M||T(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},f.prototype.readInt32BE=function(S,M){return S=S>>>0,M||T(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},f.prototype.readBigInt64LE=ur(function(S){S=S>>>0,Zn(S,"offset");const M=this[S],W=this[S+7];(M===void 0||W===void 0)&&lt(S,this.length-8);const ie=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(W<<24);return(BigInt(ie)<<BigInt(32))+BigInt(M+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),f.prototype.readBigInt64BE=ur(function(S){S=S>>>0,Zn(S,"offset");const M=this[S],W=this[S+7];(M===void 0||W===void 0)&&lt(S,this.length-8);const ie=(M<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(ie)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+W)}),f.prototype.readFloatLE=function(S,M){return S=S>>>0,M||T(S,4,this.length),t.read(this,S,!0,23,4)},f.prototype.readFloatBE=function(S,M){return S=S>>>0,M||T(S,4,this.length),t.read(this,S,!1,23,4)},f.prototype.readDoubleLE=function(S,M){return S=S>>>0,M||T(S,8,this.length),t.read(this,S,!0,52,8)},f.prototype.readDoubleBE=function(S,M){return S=S>>>0,M||T(S,8,this.length),t.read(this,S,!1,52,8)};function y(j,S,M,W,ie,ue){if(!f.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>ie||S<ue)throw new RangeError('"value" argument is out of bounds');if(M+W>j.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(S,M,W,ie){if(S=+S,M=M>>>0,W=W>>>0,!ie){const je=Math.pow(2,8*W)-1;y(this,S,M,W,je,0)}let ue=1,pe=0;for(this[M]=S&255;++pe<W&&(ue*=256);)this[M+pe]=S/ue&255;return M+W},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(S,M,W,ie){if(S=+S,M=M>>>0,W=W>>>0,!ie){const je=Math.pow(2,8*W)-1;y(this,S,M,W,je,0)}let ue=W-1,pe=1;for(this[M+ue]=S&255;--ue>=0&&(pe*=256);)this[M+ue]=S/pe&255;return M+W},f.prototype.writeUint8=f.prototype.writeUInt8=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,1,255,0),this[M]=S&255,M+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,2,65535,0),this[M]=S&255,this[M+1]=S>>>8,M+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,2,65535,0),this[M]=S>>>8,this[M+1]=S&255,M+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,4,4294967295,0),this[M+3]=S>>>24,this[M+2]=S>>>16,this[M+1]=S>>>8,this[M]=S&255,M+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,4,4294967295,0),this[M]=S>>>24,this[M+1]=S>>>16,this[M+2]=S>>>8,this[M+3]=S&255,M+4};function v(j,S,M,W,ie){dt(S,W,ie,j,M,7);let ue=Number(S&BigInt(4294967295));j[M++]=ue,ue=ue>>8,j[M++]=ue,ue=ue>>8,j[M++]=ue,ue=ue>>8,j[M++]=ue;let pe=Number(S>>BigInt(32)&BigInt(4294967295));return j[M++]=pe,pe=pe>>8,j[M++]=pe,pe=pe>>8,j[M++]=pe,pe=pe>>8,j[M++]=pe,M}function I(j,S,M,W,ie){dt(S,W,ie,j,M,7);let ue=Number(S&BigInt(4294967295));j[M+7]=ue,ue=ue>>8,j[M+6]=ue,ue=ue>>8,j[M+5]=ue,ue=ue>>8,j[M+4]=ue;let pe=Number(S>>BigInt(32)&BigInt(4294967295));return j[M+3]=pe,pe=pe>>8,j[M+2]=pe,pe=pe>>8,j[M+1]=pe,pe=pe>>8,j[M]=pe,M+8}f.prototype.writeBigUInt64LE=ur(function(S,M=0){return v(this,S,M,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=ur(function(S,M=0){return I(this,S,M,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(S,M,W,ie){if(S=+S,M=M>>>0,!ie){const ze=Math.pow(2,8*W-1);y(this,S,M,W,ze-1,-ze)}let ue=0,pe=1,je=0;for(this[M]=S&255;++ue<W&&(pe*=256);)S<0&&je===0&&this[M+ue-1]!==0&&(je=1),this[M+ue]=(S/pe>>0)-je&255;return M+W},f.prototype.writeIntBE=function(S,M,W,ie){if(S=+S,M=M>>>0,!ie){const ze=Math.pow(2,8*W-1);y(this,S,M,W,ze-1,-ze)}let ue=W-1,pe=1,je=0;for(this[M+ue]=S&255;--ue>=0&&(pe*=256);)S<0&&je===0&&this[M+ue+1]!==0&&(je=1),this[M+ue]=(S/pe>>0)-je&255;return M+W},f.prototype.writeInt8=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,1,127,-128),S<0&&(S=255+S+1),this[M]=S&255,M+1},f.prototype.writeInt16LE=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,2,32767,-32768),this[M]=S&255,this[M+1]=S>>>8,M+2},f.prototype.writeInt16BE=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,2,32767,-32768),this[M]=S>>>8,this[M+1]=S&255,M+2},f.prototype.writeInt32LE=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,4,2147483647,-2147483648),this[M]=S&255,this[M+1]=S>>>8,this[M+2]=S>>>16,this[M+3]=S>>>24,M+4},f.prototype.writeInt32BE=function(S,M,W){return S=+S,M=M>>>0,W||y(this,S,M,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[M]=S>>>24,this[M+1]=S>>>16,this[M+2]=S>>>8,this[M+3]=S&255,M+4},f.prototype.writeBigInt64LE=ur(function(S,M=0){return v(this,S,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=ur(function(S,M=0){return I(this,S,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function H(j,S,M,W,ie,ue){if(M+W>j.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function ee(j,S,M,W,ie){return S=+S,M=M>>>0,ie||H(j,S,M,4),t.write(j,S,M,W,23,4),M+4}f.prototype.writeFloatLE=function(S,M,W){return ee(this,S,M,!0,W)},f.prototype.writeFloatBE=function(S,M,W){return ee(this,S,M,!1,W)};function le(j,S,M,W,ie){return S=+S,M=M>>>0,ie||H(j,S,M,8),t.write(j,S,M,W,52,8),M+8}f.prototype.writeDoubleLE=function(S,M,W){return le(this,S,M,!0,W)},f.prototype.writeDoubleBE=function(S,M,W){return le(this,S,M,!1,W)},f.prototype.copy=function(S,M,W,ie){if(!f.isBuffer(S))throw new TypeError("argument should be a Buffer");if(W||(W=0),!ie&&ie!==0&&(ie=this.length),M>=S.length&&(M=S.length),M||(M=0),ie>0&&ie<W&&(ie=W),ie===W||S.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),S.length-M<ie-W&&(ie=S.length-M+W);const ue=ie-W;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,W,ie):Uint8Array.prototype.set.call(S,this.subarray(W,ie),M),ue},f.prototype.fill=function(S,M,W,ie){if(typeof S=="string"){if(typeof M=="string"?(ie=M,M=0,W=this.length):typeof W=="string"&&(ie=W,W=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!f.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(S.length===1){const pe=S.charCodeAt(0);(ie==="utf8"&&pe<128||ie==="latin1")&&(S=pe)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(M<0||this.length<M||this.length<W)throw new RangeError("Out of range index");if(W<=M)return this;M=M>>>0,W=W===void 0?this.length:W>>>0,S||(S=0);let ue;if(typeof S=="number")for(ue=M;ue<W;++ue)this[ue]=S;else{const pe=f.isBuffer(S)?S:f.from(S,ie),je=pe.length;if(je===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(ue=0;ue<W-M;++ue)this[ue+M]=pe[ue%je]}return this};const be={};function Ee(j,S,M){be[j]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(j,S){return`The "${j}" argument must be of type number. Received type ${typeof S}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(j,S,M){let W=`The value of "${j}" is out of range.`,ie=M;return Number.isInteger(M)&&Math.abs(M)>2**32?ie=Ge(String(M)):typeof M=="bigint"&&(ie=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(ie=Ge(ie)),ie+="n"),W+=` It must be ${S}. Received ${ie}`,W},RangeError);function Ge(j){let S="",M=j.length;const W=j[0]==="-"?1:0;for(;M>=W+4;M-=3)S=`_${j.slice(M-3,M)}${S}`;return`${j.slice(0,M)}${S}`}function st(j,S,M){Zn(S,"offset"),(j[S]===void 0||j[S+M]===void 0)&&lt(S,j.length-(M+1))}function dt(j,S,M,W,ie,ue){if(j>M||j<S){const pe=typeof S=="bigint"?"n":"";let je;throw S===0||S===BigInt(0)?je=`>= 0${pe} and < 2${pe} ** ${(ue+1)*8}${pe}`:je=`>= -(2${pe} ** ${(ue+1)*8-1}${pe}) and < 2 ** ${(ue+1)*8-1}${pe}`,new be.ERR_OUT_OF_RANGE("value",je,j)}st(W,ie,ue)}function Zn(j,S){if(typeof j!="number")throw new be.ERR_INVALID_ARG_TYPE(S,"number",j)}function lt(j,S,M){throw Math.floor(j)!==j?(Zn(j,M),new be.ERR_OUT_OF_RANGE("offset","an integer",j)):S<0?new be.ERR_BUFFER_OUT_OF_BOUNDS:new be.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,j)}const xt=/[^+/0-9A-Za-z-_]/g;function Qi(j){if(j=j.split("=")[0],j=j.trim().replace(xt,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function Mt(j,S){S=S||1/0;let M;const W=j.length;let ie=null;const ue=[];for(let pe=0;pe<W;++pe){if(M=j.charCodeAt(pe),M>55295&&M<57344){if(!ie){if(M>56319){(S-=3)>-1&&ue.push(239,191,189);continue}else if(pe+1===W){(S-=3)>-1&&ue.push(239,191,189);continue}ie=M;continue}if(M<56320){(S-=3)>-1&&ue.push(239,191,189),ie=M;continue}M=(ie-55296<<10|M-56320)+65536}else ie&&(S-=3)>-1&&ue.push(239,191,189);if(ie=null,M<128){if((S-=1)<0)break;ue.push(M)}else if(M<2048){if((S-=2)<0)break;ue.push(M>>6|192,M&63|128)}else if(M<65536){if((S-=3)<0)break;ue.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((S-=4)<0)break;ue.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return ue}function Nt(j){const S=[];for(let M=0;M<j.length;++M)S.push(j.charCodeAt(M)&255);return S}function Ji(j,S){let M,W,ie;const ue=[];for(let pe=0;pe<j.length&&!((S-=2)<0);++pe)M=j.charCodeAt(pe),W=M>>8,ie=M%256,ue.push(ie),ue.push(W);return ue}function St(j){return e.toByteArray(Qi(j))}function gt(j,S,M,W){let ie;for(ie=0;ie<W&&!(ie+M>=S.length||ie>=j.length);++ie)S[ie+M]=j[ie];return ie}function Qn(j,S){return j instanceof S||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===S.name}function Tt(j){return j!==j}const nt=(function(){const j="0123456789abcdef",S=new Array(256);for(let M=0;M<16;++M){const W=M*16;for(let ie=0;ie<16;++ie)S[W+ie]=j[M]+j[ie]}return S})();function ur(j){return typeof BigInt>"u"?kt:j}function kt(){throw new Error("BigInt not supported")}})(G0)),G0}var Ze=dh();const Eo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Lu(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function lp(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Ba(r,...e){if(!Lu(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function cS(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");lp(r.outputLen),lp(r.blockLen)}function $f(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function aT(r,e){Ba(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Xo(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function V0(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function ii(r,e){return r<<32-e|r>>>e}const fS=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",oT=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Ea(r){if(Ba(r),fS)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=oT[r[t]];return e}const Bi={_0:48,_9:57,A:65,F:70,a:97,f:102};function zb(r){if(r>=Bi._0&&r<=Bi._9)return r-Bi._0;if(r>=Bi.A&&r<=Bi.F)return r-(Bi.A-10);if(r>=Bi.a&&r<=Bi.f)return r-(Bi.a-10)}function Kf(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(fS)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let a=0,o=0;a<t;a++,o+=2){const u=zb(r.charCodeAt(o)),f=zb(r.charCodeAt(o+1));if(u===void 0||f===void 0){const h=r[o]+r[o+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+o)}i[a]=u*16+f}return i}function lT(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function fm(r){return typeof r=="string"&&(r=lT(r)),Ba(r),r}function ai(...r){let e=0;for(let i=0;i<r.length;i++){const a=r[i];Ba(a),e+=a.length}const t=new Uint8Array(e);for(let i=0,a=0;i<r.length;i++){const o=r[i];t.set(o,a),a+=o.length}return t}class hS{}function dS(r){const e=i=>r().update(fm(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function hm(r=32){if(Eo&&typeof Eo.getRandomValues=="function")return Eo.getRandomValues(new Uint8Array(r));if(Eo&&typeof Eo.randomBytes=="function")return Uint8Array.from(Eo.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function uT(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const a=BigInt(32),o=BigInt(4294967295),u=Number(t>>a&o),f=Number(t&o),h=i?4:0,g=i?0:4;r.setUint32(e+h,u,i),r.setUint32(e+g,f,i)}function cT(r,e,t){return r&e^~r&t}function fT(r,e,t){return r&e^r&t^e&t}class gS extends hS{constructor(e,t,i,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=a,this.buffer=new Uint8Array(e),this.view=V0(this.buffer)}update(e){$f(this),e=fm(e),Ba(e);const{view:t,buffer:i,blockLen:a}=this,o=e.length;for(let u=0;u<o;){const f=Math.min(a-this.pos,o-u);if(f===a){const h=V0(e);for(;a<=o-u;u+=a)this.process(h,u);continue}i.set(e.subarray(u,u+f),this.pos),this.pos+=f,u+=f,this.pos===a&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$f(this),aT(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:a,isLE:o}=this;let{pos:u}=this;t[u++]=128,Xo(this.buffer.subarray(u)),this.padOffset>a-u&&(this.process(i,0),u=0);for(let _=u;_<a;_++)t[_]=0;uT(i,a-8,BigInt(this.length*8),o),this.process(i,0);const f=V0(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,w=this.get();if(g>w.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<g;_++)f.setUint32(4*_,w[_],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:a,finished:o,destroyed:u,pos:f}=this;return e.destroyed=u,e.finished=o,e.length=a,e.pos=f,a%t&&e.buffer.set(i),e}clone(){return this._cloneInto()}}const xs=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Wn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),sf=BigInt(2**32-1),qb=BigInt(32);function hT(r,e=!1){return e?{h:Number(r&sf),l:Number(r>>qb&sf)}:{h:Number(r>>qb&sf)|0,l:Number(r&sf)|0}}function dT(r,e=!1){const t=r.length;let i=new Uint32Array(t),a=new Uint32Array(t);for(let o=0;o<t;o++){const{h:u,l:f}=hT(r[o],e);[i[o],a[o]]=[u,f]}return[i,a]}const Hb=(r,e,t)=>r>>>t,Pb=(r,e,t)=>r<<32-t|e>>>t,Ao=(r,e,t)=>r>>>t|e<<32-t,xo=(r,e,t)=>r<<32-t|e>>>t,af=(r,e,t)=>r<<64-t|e>>>t-32,of=(r,e,t)=>r>>>t-32|e<<64-t;function Oi(r,e,t,i){const a=(e>>>0)+(i>>>0);return{h:r+t+(a/2**32|0)|0,l:a|0}}const gT=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),pT=(r,e,t,i)=>e+t+i+(r/2**32|0)|0,mT=(r,e,t,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0),yT=(r,e,t,i,a)=>e+t+i+a+(r/2**32|0)|0,wT=(r,e,t,i,a)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0)+(a>>>0),vT=(r,e,t,i,a,o)=>e+t+i+a+o+(r/2**32|0)|0,bT=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ms=new Uint32Array(64);class _T extends gS{constructor(e=32){super(64,e,8,!1),this.A=xs[0]|0,this.B=xs[1]|0,this.C=xs[2]|0,this.D=xs[3]|0,this.E=xs[4]|0,this.F=xs[5]|0,this.G=xs[6]|0,this.H=xs[7]|0}get(){const{A:e,B:t,C:i,D:a,E:o,F:u,G:f,H:h}=this;return[e,t,i,a,o,u,f,h]}set(e,t,i,a,o,u,f,h){this.A=e|0,this.B=t|0,this.C=i|0,this.D=a|0,this.E=o|0,this.F=u|0,this.G=f|0,this.H=h|0}process(e,t){for(let _=0;_<16;_++,t+=4)Ms[_]=e.getUint32(t,!1);for(let _=16;_<64;_++){const x=Ms[_-15],E=Ms[_-2],C=ii(x,7)^ii(x,18)^x>>>3,B=ii(E,17)^ii(E,19)^E>>>10;Ms[_]=B+Ms[_-7]+C+Ms[_-16]|0}let{A:i,B:a,C:o,D:u,E:f,F:h,G:g,H:w}=this;for(let _=0;_<64;_++){const x=ii(f,6)^ii(f,11)^ii(f,25),E=w+x+cT(f,h,g)+bT[_]+Ms[_]|0,B=(ii(i,2)^ii(i,13)^ii(i,22))+fT(i,a,o)|0;w=g,g=h,h=f,f=u+E|0,u=o,o=a,a=i,i=E+B|0}i=i+this.A|0,a=a+this.B|0,o=o+this.C|0,u=u+this.D|0,f=f+this.E|0,h=h+this.F|0,g=g+this.G|0,w=w+this.H|0,this.set(i,a,o,u,f,h,g,w)}roundClean(){Xo(Ms)}destroy(){this.set(0,0,0,0,0,0,0,0),Xo(this.buffer)}}const pS=dT(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),ST=pS[0],ET=pS[1],Ts=new Uint32Array(80),Rs=new Uint32Array(80);class AT extends gS{constructor(e=64){super(128,e,16,!1),this.Ah=Wn[0]|0,this.Al=Wn[1]|0,this.Bh=Wn[2]|0,this.Bl=Wn[3]|0,this.Ch=Wn[4]|0,this.Cl=Wn[5]|0,this.Dh=Wn[6]|0,this.Dl=Wn[7]|0,this.Eh=Wn[8]|0,this.El=Wn[9]|0,this.Fh=Wn[10]|0,this.Fl=Wn[11]|0,this.Gh=Wn[12]|0,this.Gl=Wn[13]|0,this.Hh=Wn[14]|0,this.Hl=Wn[15]|0}get(){const{Ah:e,Al:t,Bh:i,Bl:a,Ch:o,Cl:u,Dh:f,Dl:h,Eh:g,El:w,Fh:_,Fl:x,Gh:E,Gl:C,Hh:B,Hl:k}=this;return[e,t,i,a,o,u,f,h,g,w,_,x,E,C,B,k]}set(e,t,i,a,o,u,f,h,g,w,_,x,E,C,B,k){this.Ah=e|0,this.Al=t|0,this.Bh=i|0,this.Bl=a|0,this.Ch=o|0,this.Cl=u|0,this.Dh=f|0,this.Dl=h|0,this.Eh=g|0,this.El=w|0,this.Fh=_|0,this.Fl=x|0,this.Gh=E|0,this.Gl=C|0,this.Hh=B|0,this.Hl=k|0}process(e,t){for(let L=0;L<16;L++,t+=4)Ts[L]=e.getUint32(t),Rs[L]=e.getUint32(t+=4);for(let L=16;L<80;L++){const G=Ts[L-15]|0,te=Rs[L-15]|0,J=Ao(G,te,1)^Ao(G,te,8)^Hb(G,te,7),se=xo(G,te,1)^xo(G,te,8)^Pb(G,te,7),oe=Ts[L-2]|0,P=Rs[L-2]|0,K=Ao(oe,P,19)^af(oe,P,61)^Hb(oe,P,6),Z=xo(oe,P,19)^of(oe,P,61)^Pb(oe,P,6),Q=mT(se,Z,Rs[L-7],Rs[L-16]),O=yT(Q,J,K,Ts[L-7],Ts[L-16]);Ts[L]=O|0,Rs[L]=Q|0}let{Ah:i,Al:a,Bh:o,Bl:u,Ch:f,Cl:h,Dh:g,Dl:w,Eh:_,El:x,Fh:E,Fl:C,Gh:B,Gl:k,Hh:U,Hl:q}=this;for(let L=0;L<80;L++){const G=Ao(_,x,14)^Ao(_,x,18)^af(_,x,41),te=xo(_,x,14)^xo(_,x,18)^of(_,x,41),J=_&E^~_&B,se=x&C^~x&k,oe=wT(q,te,se,ET[L],Rs[L]),P=vT(oe,U,G,J,ST[L],Ts[L]),K=oe|0,Z=Ao(i,a,28)^af(i,a,34)^af(i,a,39),Q=xo(i,a,28)^of(i,a,34)^of(i,a,39),O=i&o^i&f^o&f,m=a&u^a&h^u&h;U=B|0,q=k|0,B=E|0,k=C|0,E=_|0,C=x|0,{h:_,l:x}=Oi(g|0,w|0,P|0,K|0),g=f|0,w=h|0,f=o|0,h=u|0,o=i|0,u=a|0;const b=gT(K,Q,m);i=pT(b,P,Z,O),a=b|0}({h:i,l:a}=Oi(this.Ah|0,this.Al|0,i|0,a|0)),{h:o,l:u}=Oi(this.Bh|0,this.Bl|0,o|0,u|0),{h:f,l:h}=Oi(this.Ch|0,this.Cl|0,f|0,h|0),{h:g,l:w}=Oi(this.Dh|0,this.Dl|0,g|0,w|0),{h:_,l:x}=Oi(this.Eh|0,this.El|0,_|0,x|0),{h:E,l:C}=Oi(this.Fh|0,this.Fl|0,E|0,C|0),{h:B,l:k}=Oi(this.Gh|0,this.Gl|0,B|0,k|0),{h:U,l:q}=Oi(this.Hh|0,this.Hl|0,U|0,q|0),this.set(i,a,o,u,f,h,g,w,_,x,E,C,B,k,U,q)}roundClean(){Xo(Ts,Rs)}destroy(){Xo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const mS=dS(()=>new _T),xT=dS(()=>new AT);const dm=BigInt(0),up=BigInt(1);function xa(r,e=""){if(typeof r!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof r)}return r}function Kr(r,e,t=""){const i=Lu(r),a=r?.length,o=e!==void 0;if(!i||o&&a!==e){const u=t&&`"${t}" `,f=o?` of length ${e}`:"",h=i?`length=${a}`:`type=${typeof r}`;throw new Error(u+"expected Uint8Array"+f+", got "+h)}return r}function lf(r){const e=r.toString(16);return e.length&1?"0"+e:e}function yS(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?dm:BigInt("0x"+r)}function gh(r){return yS(Ea(r))}function Su(r){return Ba(r),yS(Ea(Uint8Array.from(r).reverse()))}function gm(r,e){return Kf(r.toString(16).padStart(e*2,"0"))}function wS(r,e){return gm(r,e).reverse()}function fn(r,e,t){let i;if(typeof e=="string")try{i=Kf(e)}catch(o){throw new Error(r+" must be hex string or Uint8Array, cause: "+o)}else if(Lu(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const a=i.length;if(typeof t=="number"&&a!==t)throw new Error(r+" of length "+t+" expected, got "+a);return i}function Wb(r){return Uint8Array.from(r)}const Y0=r=>typeof r=="bigint"&&dm<=r;function MT(r,e,t){return Y0(r)&&Y0(e)&&Y0(t)&&e<=r&&r<t}function cp(r,e,t,i){if(!MT(e,t,i))throw new Error("expected valid "+r+": "+t+" <= n < "+i+", got "+e)}function vS(r){let e;for(e=0;r>dm;r>>=up,e+=1);return e}const ju=r=>(up<<BigInt(r))-up;function TT(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const i=E=>new Uint8Array(E),a=E=>Uint8Array.of(E);let o=i(r),u=i(r),f=0;const h=()=>{o.fill(1),u.fill(0),f=0},g=(...E)=>t(u,o,...E),w=(E=i(0))=>{u=g(a(0),E),o=g(),E.length!==0&&(u=g(a(1),E),o=g())},_=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let E=0;const C=[];for(;E<e;){o=g();const B=o.slice();C.push(B),E+=o.length}return ai(...C)};return(E,C)=>{h(),w(E);let B;for(;!(B=C(_()));)w();return h(),B}}function Uu(r,e,t={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function i(a,o,u){const f=r[a];if(u&&f===void 0)return;const h=typeof f;if(h!==o||f===null)throw new Error(`param "${a}" is invalid: expected ${o}, got ${h}`)}Object.entries(e).forEach(([a,o])=>i(a,o,!1)),Object.entries(t).forEach(([a,o])=>i(a,o,!0))}function Ff(r){const e=new WeakMap;return(t,...i)=>{const a=e.get(t);if(a!==void 0)return a;const o=r(t,...i);return e.set(t,o),o}}const lr=BigInt(0),Hn=BigInt(1),da=BigInt(2),bS=BigInt(3),_S=BigInt(4),SS=BigInt(5),RT=BigInt(7),ES=BigInt(8),CT=BigInt(9),AS=BigInt(16);function En(r,e){const t=r%e;return t>=lr?t:e+t}function un(r,e,t){let i=r;for(;e-- >lr;)i*=i,i%=t;return i}function $b(r,e){if(r===lr)throw new Error("invert: expected non-zero number");if(e<=lr)throw new Error("invert: expected positive modulus, got "+e);let t=En(r,e),i=e,a=lr,o=Hn;for(;t!==lr;){const f=i/t,h=i%t,g=a-o*f;i=t,t=h,a=o,o=g}if(i!==Hn)throw new Error("invert: does not exist");return En(a,e)}function pm(r,e,t){if(!r.eql(r.sqr(e),t))throw new Error("Cannot find square root")}function xS(r,e){const t=(r.ORDER+Hn)/_S,i=r.pow(e,t);return pm(r,i,e),i}function BT(r,e){const t=(r.ORDER-SS)/ES,i=r.mul(e,da),a=r.pow(i,t),o=r.mul(e,a),u=r.mul(r.mul(o,da),a),f=r.mul(o,r.sub(u,r.ONE));return pm(r,f,e),f}function OT(r){const e=Oa(r),t=MS(r),i=t(e,e.neg(e.ONE)),a=t(e,i),o=t(e,e.neg(i)),u=(r+RT)/AS;return(f,h)=>{let g=f.pow(h,u),w=f.mul(g,i);const _=f.mul(g,a),x=f.mul(g,o),E=f.eql(f.sqr(w),h),C=f.eql(f.sqr(_),h);g=f.cmov(g,w,E),w=f.cmov(x,_,C);const B=f.eql(f.sqr(w),h),k=f.cmov(g,w,B);return pm(f,k,h),k}}function MS(r){if(r<bS)throw new Error("sqrt is not defined for small field");let e=r-Hn,t=0;for(;e%da===lr;)e/=da,t++;let i=da;const a=Oa(r);for(;Kb(a,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return xS;let o=a.pow(i,e);const u=(e+Hn)/da;return function(h,g){if(h.is0(g))return g;if(Kb(h,g)!==1)throw new Error("Cannot find square root");let w=t,_=h.mul(h.ONE,o),x=h.pow(g,e),E=h.pow(g,u);for(;!h.eql(x,h.ONE);){if(h.is0(x))return h.ZERO;let C=1,B=h.sqr(x);for(;!h.eql(B,h.ONE);)if(C++,B=h.sqr(B),C===w)throw new Error("Cannot find square root");const k=Hn<<BigInt(w-C-1),U=h.pow(_,k);w=C,_=h.sqr(U),x=h.mul(x,_),E=h.mul(E,U)}return E}}function NT(r){return r%_S===bS?xS:r%ES===SS?BT:r%AS===CT?OT(r):MS(r)}const kT=(r,e)=>(En(r,e)&Hn)===Hn,IT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LT(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=IT.reduce((i,a)=>(i[a]="function",i),e);return Uu(r,t),r}function jT(r,e,t){if(t<lr)throw new Error("invalid exponent, negatives unsupported");if(t===lr)return r.ONE;if(t===Hn)return e;let i=r.ONE,a=e;for(;t>lr;)t&Hn&&(i=r.mul(i,a)),a=r.sqr(a),t>>=Hn;return i}function TS(r,e,t=!1){const i=new Array(e.length).fill(t?r.ZERO:void 0),a=e.reduce((u,f,h)=>r.is0(f)?u:(i[h]=u,r.mul(u,f)),r.ONE),o=r.inv(a);return e.reduceRight((u,f,h)=>r.is0(f)?u:(i[h]=r.mul(u,i[h]),r.mul(u,f)),o),i}function Kb(r,e){const t=(r.ORDER-Hn)/da,i=r.pow(e,t),a=r.eql(i,r.ONE),o=r.eql(i,r.ZERO),u=r.eql(i,r.neg(r.ONE));if(!a&&!o&&!u)throw new Error("invalid Legendre symbol result");return a?1:o?0:-1}function RS(r,e){e!==void 0&&lp(e);const t=e!==void 0?e:r.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function Oa(r,e,t=!1,i={}){if(r<=lr)throw new Error("invalid field: expected ORDER > 0, got "+r);let a,o,u=!1,f;if(typeof e=="object"&&e!=null){if(i.sqrt||t)throw new Error("cannot specify opts in two arguments");const x=e;x.BITS&&(a=x.BITS),x.sqrt&&(o=x.sqrt),typeof x.isLE=="boolean"&&(t=x.isLE),typeof x.modFromBytes=="boolean"&&(u=x.modFromBytes),f=x.allowedLengths}else typeof e=="number"&&(a=e),i.sqrt&&(o=i.sqrt);const{nBitLength:h,nByteLength:g}=RS(r,a);if(g>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let w;const _=Object.freeze({ORDER:r,isLE:t,BITS:h,BYTES:g,MASK:ju(h),ZERO:lr,ONE:Hn,allowedLengths:f,create:x=>En(x,r),isValid:x=>{if(typeof x!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof x);return lr<=x&&x<r},is0:x=>x===lr,isValidNot0:x=>!_.is0(x)&&_.isValid(x),isOdd:x=>(x&Hn)===Hn,neg:x=>En(-x,r),eql:(x,E)=>x===E,sqr:x=>En(x*x,r),add:(x,E)=>En(x+E,r),sub:(x,E)=>En(x-E,r),mul:(x,E)=>En(x*E,r),pow:(x,E)=>jT(_,x,E),div:(x,E)=>En(x*$b(E,r),r),sqrN:x=>x*x,addN:(x,E)=>x+E,subN:(x,E)=>x-E,mulN:(x,E)=>x*E,inv:x=>$b(x,r),sqrt:o||(x=>(w||(w=NT(r)),w(_,x))),toBytes:x=>t?wS(x,g):gm(x,g),fromBytes:(x,E=!0)=>{if(f){if(!f.includes(x.length)||x.length>g)throw new Error("Field.fromBytes: expected "+f+" bytes, got "+x.length);const B=new Uint8Array(g);B.set(x,t?0:B.length-x.length),x=B}if(x.length!==g)throw new Error("Field.fromBytes: expected "+g+" bytes, got "+x.length);let C=t?Su(x):gh(x);if(u&&(C=En(C,r)),!E&&!_.isValid(C))throw new Error("invalid field element: outside of range 0..ORDER");return C},invertBatch:x=>TS(_,x),cmov:(x,E,C)=>C?E:x});return Object.freeze(_)}function CS(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function BS(r){const e=CS(r);return e+Math.ceil(e/2)}function UT(r,e,t=!1){const i=r.length,a=CS(e),o=BS(e);if(i<16||i<o||i>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+i);const u=t?Su(r):gh(r),f=En(u,e-Hn)+Hn;return t?wS(f,a):gm(f,a)}const el=BigInt(0),ga=BigInt(1);function Gf(r,e){const t=e.negate();return r?t:e}function pa(r,e){const t=TS(r.Fp,e.map(i=>i.Z));return e.map((i,a)=>r.fromAffine(i.toAffine(t[a])))}function OS(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function Z0(r,e){OS(r,e);const t=Math.ceil(e/r)+1,i=2**(r-1),a=2**r,o=ju(r),u=BigInt(r);return{windows:t,windowSize:i,mask:o,maxNumber:a,shiftBy:u}}function Fb(r,e,t){const{windowSize:i,mask:a,maxNumber:o,shiftBy:u}=t;let f=Number(r&a),h=r>>u;f>i&&(f-=o,h+=ga);const g=e*i,w=g+Math.abs(f)-1,_=f===0,x=f<0,E=e%2!==0;return{nextN:h,offset:w,isZero:_,isNeg:x,isNegF:E,offsetF:g}}function DT(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,i)=>{if(!(t instanceof e))throw new Error("invalid point at index "+i)})}function zT(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,i)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+i)})}const Q0=new WeakMap,NS=new WeakMap;function J0(r){return NS.get(r)||1}function Gb(r){if(r!==el)throw new Error("invalid wNAF")}class kS{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,i=this.ZERO){let a=e;for(;t>el;)t&ga&&(i=i.add(a)),a=a.double(),t>>=ga;return i}precomputeWindow(e,t){const{windows:i,windowSize:a}=Z0(t,this.bits),o=[];let u=e,f=u;for(let h=0;h<i;h++){f=u,o.push(f);for(let g=1;g<a;g++)f=f.add(u),o.push(f);u=f.double()}return o}wNAF(e,t,i){if(!this.Fn.isValid(i))throw new Error("invalid scalar");let a=this.ZERO,o=this.BASE;const u=Z0(e,this.bits);for(let f=0;f<u.windows;f++){const{nextN:h,offset:g,isZero:w,isNeg:_,isNegF:x,offsetF:E}=Fb(i,f,u);i=h,w?o=o.add(Gf(x,t[E])):a=a.add(Gf(_,t[g]))}return Gb(i),{p:a,f:o}}wNAFUnsafe(e,t,i,a=this.ZERO){const o=Z0(e,this.bits);for(let u=0;u<o.windows&&i!==el;u++){const{nextN:f,offset:h,isZero:g,isNeg:w}=Fb(i,u,o);if(i=f,!g){const _=t[h];a=a.add(w?_.negate():_)}}return Gb(i),a}getPrecomputes(e,t,i){let a=Q0.get(t);return a||(a=this.precomputeWindow(t,e),e!==1&&(typeof i=="function"&&(a=i(a)),Q0.set(t,a))),a}cached(e,t,i){const a=J0(e);return this.wNAF(a,this.getPrecomputes(a,e,i),t)}unsafe(e,t,i,a){const o=J0(e);return o===1?this._unsafeLadder(e,t,a):this.wNAFUnsafe(o,this.getPrecomputes(o,e,i),t,a)}createCache(e,t){OS(t,this.bits),NS.set(e,t),Q0.delete(e)}hasCache(e){return J0(e)!==1}}function qT(r,e,t,i){let a=e,o=r.ZERO,u=r.ZERO;for(;t>el||i>el;)t&ga&&(o=o.add(a)),i&ga&&(u=u.add(a)),a=a.double(),t>>=ga,i>>=ga;return{p1:o,p2:u}}function IS(r,e,t,i){DT(t,r),zT(i,e);const a=t.length,o=i.length;if(a!==o)throw new Error("arrays of points and scalars must have equal length");const u=r.ZERO,f=vS(BigInt(a));let h=1;f>12?h=f-3:f>4?h=f-2:f>0&&(h=2);const g=ju(h),w=new Array(Number(g)+1).fill(u),_=Math.floor((e.BITS-1)/h)*h;let x=u;for(let E=_;E>=0;E-=h){w.fill(u);for(let B=0;B<o;B++){const k=i[B],U=Number(k>>BigInt(E)&g);w[U]=w[U].add(t[B])}let C=u;for(let B=w.length-1,k=u;B>0;B--)k=k.add(w[B]),C=C.add(k);if(x=x.add(C),E!==0)for(let B=0;B<h;B++)x=x.double()}return x}function Vb(r,e,t){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return LT(e),e}else return Oa(r,{isLE:t})}function LS(r,e,t={},i){if(i===void 0&&(i=r==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(const h of["p","n","h"]){const g=e[h];if(!(typeof g=="bigint"&&g>el))throw new Error(`CURVE.${h} must be positive bigint`)}const a=Vb(e.p,t.Fp,i),o=Vb(e.n,t.Fn,i),f=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const h of f)if(!a.isValid(e[h]))throw new Error(`CURVE.${h} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:a,Fn:o}}const Cs=BigInt(0),Bn=BigInt(1),X0=BigInt(2),HT=BigInt(8);function PT(r,e,t,i){const a=r.sqr(t),o=r.sqr(i),u=r.add(r.mul(e.a,a),o),f=r.add(r.ONE,r.mul(e.d,r.mul(a,o)));return r.eql(u,f)}function WT(r,e={}){const t=LS("edwards",r,e,e.FpFnLE),{Fp:i,Fn:a}=t;let o=t.CURVE;const{h:u}=o;Uu(e,{},{uvRatio:"function"});const f=X0<<BigInt(a.BYTES*8)-Bn,h=k=>i.create(k),g=e.uvRatio||((k,U)=>{try{return{isValid:!0,value:i.sqrt(i.div(k,U))}}catch{return{isValid:!1,value:Cs}}});if(!PT(i,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function w(k,U,q=!1){const L=q?Bn:Cs;return cp("coordinate "+k,U,L,f),U}function _(k){if(!(k instanceof C))throw new Error("ExtendedPoint expected")}const x=Ff((k,U)=>{const{X:q,Y:L,Z:G}=k,te=k.is0();U==null&&(U=te?HT:i.inv(G));const J=h(q*U),se=h(L*U),oe=i.mul(G,U);if(te)return{x:Cs,y:Bn};if(oe!==Bn)throw new Error("invZ was invalid");return{x:J,y:se}}),E=Ff(k=>{const{a:U,d:q}=o;if(k.is0())throw new Error("bad point: ZERO");const{X:L,Y:G,Z:te,T:J}=k,se=h(L*L),oe=h(G*G),P=h(te*te),K=h(P*P),Z=h(se*U),Q=h(P*h(Z+oe)),O=h(K+h(q*h(se*oe)));if(Q!==O)throw new Error("bad point: equation left != right (1)");const m=h(L*G),b=h(te*J);if(m!==b)throw new Error("bad point: equation left != right (2)");return!0});class C{constructor(U,q,L,G){this.X=w("x",U),this.Y=w("y",q),this.Z=w("z",L,!0),this.T=w("t",G),Object.freeze(this)}static CURVE(){return o}static fromAffine(U){if(U instanceof C)throw new Error("extended point not allowed");const{x:q,y:L}=U||{};return w("x",q),w("y",L),new C(q,L,Bn,h(q*L))}static fromBytes(U,q=!1){const L=i.BYTES,{a:G,d:te}=o;U=Wb(Kr(U,L,"point")),xa(q,"zip215");const J=Wb(U),se=U[L-1];J[L-1]=se&-129;const oe=Su(J),P=q?f:i.ORDER;cp("point.y",oe,Cs,P);const K=h(oe*oe),Z=h(K-Bn),Q=h(te*K-G);let{isValid:O,value:m}=g(Z,Q);if(!O)throw new Error("bad point: invalid y coordinate");const b=(m&Bn)===Bn,A=(se&128)!==0;if(!q&&m===Cs&&A)throw new Error("bad point: x=0 and x_0=1");return A!==b&&(m=h(-m)),C.fromAffine({x:m,y:oe})}static fromHex(U,q=!1){return C.fromBytes(fn("point",U),q)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(U=8,q=!0){return B.createCache(this,U),q||this.multiply(X0),this}assertValidity(){E(this)}equals(U){_(U);const{X:q,Y:L,Z:G}=this,{X:te,Y:J,Z:se}=U,oe=h(q*se),P=h(te*G),K=h(L*se),Z=h(J*G);return oe===P&&K===Z}is0(){return this.equals(C.ZERO)}negate(){return new C(h(-this.X),this.Y,this.Z,h(-this.T))}double(){const{a:U}=o,{X:q,Y:L,Z:G}=this,te=h(q*q),J=h(L*L),se=h(X0*h(G*G)),oe=h(U*te),P=q+L,K=h(h(P*P)-te-J),Z=oe+J,Q=Z-se,O=oe-J,m=h(K*Q),b=h(Z*O),A=h(K*O),N=h(Q*Z);return new C(m,b,N,A)}add(U){_(U);const{a:q,d:L}=o,{X:G,Y:te,Z:J,T:se}=this,{X:oe,Y:P,Z:K,T:Z}=U,Q=h(G*oe),O=h(te*P),m=h(se*L*Z),b=h(J*K),A=h((G+te)*(oe+P)-Q-O),N=b-m,D=b+m,$=h(O-q*Q),F=h(A*N),T=h(D*$),y=h(A*$),v=h(N*D);return new C(F,T,v,y)}subtract(U){return this.add(U.negate())}multiply(U){if(!a.isValidNot0(U))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:q,f:L}=B.cached(this,U,G=>pa(C,G));return pa(C,[q,L])[0]}multiplyUnsafe(U,q=C.ZERO){if(!a.isValid(U))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return U===Cs?C.ZERO:this.is0()||U===Bn?this:B.unsafe(this,U,L=>pa(C,L),q)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return B.unsafe(this,o.n).is0()}toAffine(U){return x(this,U)}clearCofactor(){return u===Bn?this:this.multiplyUnsafe(u)}toBytes(){const{x:U,y:q}=this.toAffine(),L=i.toBytes(q);return L[L.length-1]|=U&Bn?128:0,L}toHex(){return Ea(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(U){return pa(C,U)}static msm(U,q){return IS(C,a,U,q)}_setWindowSize(U){this.precompute(U)}toRawBytes(){return this.toBytes()}}C.BASE=new C(o.Gx,o.Gy,Bn,h(o.Gx*o.Gy)),C.ZERO=new C(Cs,Bn,Bn,Cs),C.Fp=i,C.Fn=a;const B=new kS(C,a.BITS);return C.BASE.precompute(8),C}function $T(r,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');Uu(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:i}=t,{BASE:a,Fp:o,Fn:u}=r,f=t.randomBytes||hm,h=t.adjustScalarBytes||(P=>P),g=t.domain||((P,K,Z)=>{if(xa(Z,"phflag"),K.length||Z)throw new Error("Contexts/pre-hash are not supported");return P});function w(P){return u.create(Su(P))}function _(P){const K=L.secretKey;P=fn("private key",P,K);const Z=fn("hashed private key",e(P),2*K),Q=h(Z.slice(0,K)),O=Z.slice(K,2*K),m=w(Q);return{head:Q,prefix:O,scalar:m}}function x(P){const{head:K,prefix:Z,scalar:Q}=_(P),O=a.multiply(Q),m=O.toBytes();return{head:K,prefix:Z,scalar:Q,point:O,pointBytes:m}}function E(P){return x(P).pointBytes}function C(P=Uint8Array.of(),...K){const Z=ai(...K);return w(e(g(Z,fn("context",P),!!i)))}function B(P,K,Z={}){P=fn("message",P),i&&(P=i(P));const{prefix:Q,scalar:O,pointBytes:m}=x(K),b=C(Z.context,Q,P),A=a.multiply(b).toBytes(),N=C(Z.context,A,m,P),D=u.create(b+N*O);if(!u.isValid(D))throw new Error("sign failed: invalid s");const $=ai(A,u.toBytes(D));return Kr($,L.signature,"result")}const k={zip215:!0};function U(P,K,Z,Q=k){const{context:O,zip215:m}=Q,b=L.signature;P=fn("signature",P,b),K=fn("message",K),Z=fn("publicKey",Z,L.publicKey),m!==void 0&&xa(m,"zip215"),i&&(K=i(K));const A=b/2,N=P.subarray(0,A),D=Su(P.subarray(A,b));let $,F,T;try{$=r.fromBytes(Z,m),F=r.fromBytes(N,m),T=a.multiplyUnsafe(D)}catch{return!1}if(!m&&$.isSmallOrder())return!1;const y=C(O,F.toBytes(),$.toBytes(),K);return F.add($.multiplyUnsafe(y)).subtract(T).clearCofactor().is0()}const q=o.BYTES,L={secretKey:q,publicKey:q,signature:2*q,seed:q};function G(P=f(L.seed)){return Kr(P,L.seed,"seed")}function te(P){const K=oe.randomSecretKey(P);return{secretKey:K,publicKey:E(K)}}function J(P){return Lu(P)&&P.length===u.BYTES}function se(P,K){try{return!!r.fromBytes(P,K)}catch{return!1}}const oe={getExtendedPublicKey:x,randomSecretKey:G,isValidSecretKey:J,isValidPublicKey:se,toMontgomery(P){const{y:K}=r.fromBytes(P),Z=L.publicKey,Q=Z===32;if(!Q&&Z!==57)throw new Error("only defined for 25519 and 448");const O=Q?o.div(Bn+K,Bn-K):o.div(K-Bn,K+Bn);return o.toBytes(O)},toMontgomerySecret(P){const K=L.secretKey;Kr(P,K);const Z=e(P.subarray(0,K));return h(Z).subarray(0,K)},randomPrivateKey:G,precompute(P=8,K=r.BASE){return K.precompute(P,!1)}};return Object.freeze({keygen:te,getPublicKey:E,sign:B,verify:U,utils:oe,Point:r,lengths:L})}function KT(r){const e={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp,i=Oa(e.n,r.nBitLength,!0),a={Fp:t,Fn:i,uvRatio:r.uvRatio},o={randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:e,curveOpts:a,hash:r.hash,eddsaOpts:o}}function FT(r,e){const t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:r,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function GT(r){const{CURVE:e,curveOpts:t,hash:i,eddsaOpts:a}=KT(r),o=WT(e,t),u=$T(o,i,a);return FT(r,u)}const VT=BigInt(1),Yb=BigInt(2);BigInt(3);const YT=BigInt(5),ZT=BigInt(8),mm=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),jS={p:mm,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:ZT,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function QT(r){const e=BigInt(10),t=BigInt(20),i=BigInt(40),a=BigInt(80),o=mm,f=r*r%o*r%o,h=un(f,Yb,o)*f%o,g=un(h,VT,o)*r%o,w=un(g,YT,o)*g%o,_=un(w,e,o)*w%o,x=un(_,t,o)*_%o,E=un(x,i,o)*x%o,C=un(E,a,o)*E%o,B=un(C,a,o)*E%o,k=un(B,e,o)*w%o;return{pow_p_5_8:un(k,Yb,o)*r%o,b2:f}}function JT(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const Zb=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function XT(r,e){const t=mm,i=En(e*e*e,t),a=En(i*i*e,t),o=QT(r*a).pow_p_5_8;let u=En(r*i*o,t);const f=En(e*u*u,t),h=u,g=En(u*Zb,t),w=f===r,_=f===En(-r,t),x=f===En(-r*Zb,t);return w&&(u=h),(_||x)&&(u=g),kT(u,t)&&(u=En(-u,t)),{isValid:w||_,value:u}}const eR=Oa(jS.p,{isLE:!0}),tR={...jS,Fp:eR,hash:xT,adjustScalarBytes:JT,uvRatio:XT},Du=GT(tR);var Ef={exports:{}},nR=Ef.exports,Qb;function US(){return Qb||(Qb=1,(function(r){(function(e,t){function i(O,m){if(!O)throw new Error(m||"Assertion failed")}function a(O,m){O.super_=m;var b=function(){};b.prototype=m.prototype,O.prototype=new b,O.prototype.constructor=O}function o(O,m,b){if(o.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((m==="le"||m==="be")&&(b=m,m=10),this._init(O||0,m||10,b||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=dh().Buffer}catch{}o.isBN=function(m){return m instanceof o?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===o.wordSize&&Array.isArray(m.words)},o.max=function(m,b){return m.cmp(b)>0?m:b},o.min=function(m,b){return m.cmp(b)<0?m:b},o.prototype._init=function(m,b,A){if(typeof m=="number")return this._initNumber(m,b,A);if(typeof m=="object")return this._initArray(m,b,A);b==="hex"&&(b=16),i(b===(b|0)&&b>=2&&b<=36),m=m.toString().replace(/\s+/g,"");var N=0;m[0]==="-"&&(N++,this.negative=1),N<m.length&&(b===16?this._parseHex(m,N,A):(this._parseBase(m,b,N),A==="le"&&this._initArray(this.toArray(),b,A)))},o.prototype._initNumber=function(m,b,A){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(i(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),b,A)},o.prototype._initArray=function(m,b,A){if(i(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var D,$,F=0;if(A==="be")for(N=m.length-1,D=0;N>=0;N-=3)$=m[N]|m[N-1]<<8|m[N-2]<<16,this.words[D]|=$<<F&67108863,this.words[D+1]=$>>>26-F&67108863,F+=24,F>=26&&(F-=26,D++);else if(A==="le")for(N=0,D=0;N<m.length;N+=3)$=m[N]|m[N+1]<<8|m[N+2]<<16,this.words[D]|=$<<F&67108863,this.words[D+1]=$>>>26-F&67108863,F+=24,F>=26&&(F-=26,D++);return this._strip()};function f(O,m){var b=O.charCodeAt(m);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;i(!1,"Invalid character in "+O)}function h(O,m,b){var A=f(O,b);return b-1>=m&&(A|=f(O,b-1)<<4),A}o.prototype._parseHex=function(m,b,A){this.length=Math.ceil((m.length-b)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var D=0,$=0,F;if(A==="be")for(N=m.length-1;N>=b;N-=2)F=h(m,b,N)<<D,this.words[$]|=F&67108863,D>=18?(D-=18,$+=1,this.words[$]|=F>>>26):D+=8;else{var T=m.length-b;for(N=T%2===0?b+1:b;N<m.length;N+=2)F=h(m,b,N)<<D,this.words[$]|=F&67108863,D>=18?(D-=18,$+=1,this.words[$]|=F>>>26):D+=8}this._strip()};function g(O,m,b,A){for(var N=0,D=0,$=Math.min(O.length,b),F=m;F<$;F++){var T=O.charCodeAt(F)-48;N*=A,T>=49?D=T-49+10:T>=17?D=T-17+10:D=T,i(T>=0&&D<A,"Invalid character"),N+=D}return N}o.prototype._parseBase=function(m,b,A){this.words=[0],this.length=1;for(var N=0,D=1;D<=67108863;D*=b)N++;N--,D=D/b|0;for(var $=m.length-A,F=$%N,T=Math.min($,$-F)+A,y=0,v=A;v<T;v+=N)y=g(m,v,v+N,b),this.imuln(D),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(F!==0){var I=1;for(y=g(m,v,m.length,b),v=0;v<F;v++)I*=b;this.imuln(I),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this._strip()},o.prototype.copy=function(m){m.words=new Array(this.length);for(var b=0;b<this.length;b++)m.words[b]=this.words[b];m.length=this.length,m.negative=this.negative,m.red=this.red};function w(O,m){O.words=m.words,O.length=m.length,O.negative=m.negative,O.red=m.red}if(o.prototype._move=function(m){w(m,this)},o.prototype.clone=function(){var m=new o(null);return this.copy(m),m},o.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=_}catch{o.prototype.inspect=_}else o.prototype.inspect=_;function _(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(m,b){m=m||10,b=b|0||1;var A;if(m===16||m==="hex"){A="";for(var N=0,D=0,$=0;$<this.length;$++){var F=this.words[$],T=((F<<N|D)&16777215).toString(16);D=F>>>24-N&16777215,N+=2,N>=26&&(N-=26,$--),D!==0||$!==this.length-1?A=x[6-T.length]+T+A:A=T+A}for(D!==0&&(A=D.toString(16)+A);A.length%b!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(m===(m|0)&&m>=2&&m<=36){var y=E[m],v=C[m];A="";var I=this.clone();for(I.negative=0;!I.isZero();){var H=I.modrn(v).toString(m);I=I.idivn(v),I.isZero()?A=H+A:A=x[y-H.length]+H+A}for(this.isZero()&&(A="0"+A);A.length%b!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(m,b){return this.toArrayLike(u,m,b)}),o.prototype.toArray=function(m,b){return this.toArrayLike(Array,m,b)};var B=function(m,b){return m.allocUnsafe?m.allocUnsafe(b):new m(b)};o.prototype.toArrayLike=function(m,b,A){this._strip();var N=this.byteLength(),D=A||Math.max(1,N);i(N<=D,"byte array longer than desired length"),i(D>0,"Requested array length <= 0");var $=B(m,D),F=b==="le"?"LE":"BE";return this["_toArrayLike"+F]($,N),$},o.prototype._toArrayLikeLE=function(m,b){for(var A=0,N=0,D=0,$=0;D<this.length;D++){var F=this.words[D]<<$|N;m[A++]=F&255,A<m.length&&(m[A++]=F>>8&255),A<m.length&&(m[A++]=F>>16&255),$===6?(A<m.length&&(m[A++]=F>>24&255),N=0,$=0):(N=F>>>24,$+=2)}if(A<m.length)for(m[A++]=N;A<m.length;)m[A++]=0},o.prototype._toArrayLikeBE=function(m,b){for(var A=m.length-1,N=0,D=0,$=0;D<this.length;D++){var F=this.words[D]<<$|N;m[A--]=F&255,A>=0&&(m[A--]=F>>8&255),A>=0&&(m[A--]=F>>16&255),$===6?(A>=0&&(m[A--]=F>>24&255),N=0,$=0):(N=F>>>24,$+=2)}if(A>=0)for(m[A--]=N;A>=0;)m[A--]=0},Math.clz32?o.prototype._countBits=function(m){return 32-Math.clz32(m)}:o.prototype._countBits=function(m){var b=m,A=0;return b>=4096&&(A+=13,b>>>=13),b>=64&&(A+=7,b>>>=7),b>=8&&(A+=4,b>>>=4),b>=2&&(A+=2,b>>>=2),A+b},o.prototype._zeroBits=function(m){if(m===0)return 26;var b=m,A=0;return(b&8191)===0&&(A+=13,b>>>=13),(b&127)===0&&(A+=7,b>>>=7),(b&15)===0&&(A+=4,b>>>=4),(b&3)===0&&(A+=2,b>>>=2),(b&1)===0&&A++,A},o.prototype.bitLength=function(){var m=this.words[this.length-1],b=this._countBits(m);return(this.length-1)*26+b};function k(O){for(var m=new Array(O.bitLength()),b=0;b<m.length;b++){var A=b/26|0,N=b%26;m[b]=O.words[A]>>>N&1}return m}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,b=0;b<this.length;b++){var A=this._zeroBits(this.words[b]);if(m+=A,A!==26)break}return m},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},o.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var b=0;b<m.length;b++)this.words[b]=this.words[b]|m.words[b];return this._strip()},o.prototype.ior=function(m){return i((this.negative|m.negative)===0),this.iuor(m)},o.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},o.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},o.prototype.iuand=function(m){var b;this.length>m.length?b=m:b=this;for(var A=0;A<b.length;A++)this.words[A]=this.words[A]&m.words[A];return this.length=b.length,this._strip()},o.prototype.iand=function(m){return i((this.negative|m.negative)===0),this.iuand(m)},o.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},o.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},o.prototype.iuxor=function(m){var b,A;this.length>m.length?(b=this,A=m):(b=m,A=this);for(var N=0;N<A.length;N++)this.words[N]=b.words[N]^A.words[N];if(this!==b)for(;N<b.length;N++)this.words[N]=b.words[N];return this.length=b.length,this._strip()},o.prototype.ixor=function(m){return i((this.negative|m.negative)===0),this.iuxor(m)},o.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},o.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},o.prototype.inotn=function(m){i(typeof m=="number"&&m>=0);var b=Math.ceil(m/26)|0,A=m%26;this._expand(b),A>0&&b--;for(var N=0;N<b;N++)this.words[N]=~this.words[N]&67108863;return A>0&&(this.words[N]=~this.words[N]&67108863>>26-A),this._strip()},o.prototype.notn=function(m){return this.clone().inotn(m)},o.prototype.setn=function(m,b){i(typeof m=="number"&&m>=0);var A=m/26|0,N=m%26;return this._expand(A+1),b?this.words[A]=this.words[A]|1<<N:this.words[A]=this.words[A]&~(1<<N),this._strip()},o.prototype.iadd=function(m){var b;if(this.negative!==0&&m.negative===0)return this.negative=0,b=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,b=this.isub(m),m.negative=1,b._normSign();var A,N;this.length>m.length?(A=this,N=m):(A=m,N=this);for(var D=0,$=0;$<N.length;$++)b=(A.words[$]|0)+(N.words[$]|0)+D,this.words[$]=b&67108863,D=b>>>26;for(;D!==0&&$<A.length;$++)b=(A.words[$]|0)+D,this.words[$]=b&67108863,D=b>>>26;if(this.length=A.length,D!==0)this.words[this.length]=D,this.length++;else if(A!==this)for(;$<A.length;$++)this.words[$]=A.words[$];return this},o.prototype.add=function(m){var b;return m.negative!==0&&this.negative===0?(m.negative=0,b=this.sub(m),m.negative^=1,b):m.negative===0&&this.negative!==0?(this.negative=0,b=m.sub(this),this.negative=1,b):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},o.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var b=this.iadd(m);return m.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var A=this.cmp(m);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,D;A>0?(N=this,D=m):(N=m,D=this);for(var $=0,F=0;F<D.length;F++)b=(N.words[F]|0)-(D.words[F]|0)+$,$=b>>26,this.words[F]=b&67108863;for(;$!==0&&F<N.length;F++)b=(N.words[F]|0)+$,$=b>>26,this.words[F]=b&67108863;if($===0&&F<N.length&&N!==this)for(;F<N.length;F++)this.words[F]=N.words[F];return this.length=Math.max(this.length,F),N!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(m){return this.clone().isub(m)};function U(O,m,b){b.negative=m.negative^O.negative;var A=O.length+m.length|0;b.length=A,A=A-1|0;var N=O.words[0]|0,D=m.words[0]|0,$=N*D,F=$&67108863,T=$/67108864|0;b.words[0]=F;for(var y=1;y<A;y++){for(var v=T>>>26,I=T&67108863,H=Math.min(y,m.length-1),ee=Math.max(0,y-O.length+1);ee<=H;ee++){var le=y-ee|0;N=O.words[le]|0,D=m.words[ee]|0,$=N*D+I,v+=$/67108864|0,I=$&67108863}b.words[y]=I|0,T=v|0}return T!==0?b.words[y]=T|0:b.length--,b._strip()}var q=function(m,b,A){var N=m.words,D=b.words,$=A.words,F=0,T,y,v,I=N[0]|0,H=I&8191,ee=I>>>13,le=N[1]|0,be=le&8191,Ee=le>>>13,Ge=N[2]|0,st=Ge&8191,dt=Ge>>>13,Zn=N[3]|0,lt=Zn&8191,xt=Zn>>>13,Qi=N[4]|0,Mt=Qi&8191,Nt=Qi>>>13,Ji=N[5]|0,St=Ji&8191,gt=Ji>>>13,Qn=N[6]|0,Tt=Qn&8191,nt=Qn>>>13,ur=N[7]|0,kt=ur&8191,j=ur>>>13,S=N[8]|0,M=S&8191,W=S>>>13,ie=N[9]|0,ue=ie&8191,pe=ie>>>13,je=D[0]|0,ze=je&8191,Ne=je>>>13,Et=D[1]|0,Pe=Et&8191,nn=Et>>>13,qs=D[2]|0,It=qs&8191,Lt=qs>>>13,Yr=D[3]|0,jt=Yr&8191,Rt=Yr>>>13,Ku=D[4]|0,Vt=Ku&8191,zt=Ku>>>13,Xi=D[5]|0,rn=Xi&8191,Yt=Xi>>>13,cl=D[6]|0,Zt=cl&8191,qt=cl>>>13,Ua=D[7]|0,Qt=Ua&8191,Jt=Ua>>>13,jr=D[8]|0,Je=jr&8191,at=jr>>>13,ui=D[9]|0,Ht=ui&8191,sn=ui>>>13;A.negative=m.negative^b.negative,A.length=19,T=Math.imul(H,ze),y=Math.imul(H,Ne),y=y+Math.imul(ee,ze)|0,v=Math.imul(ee,Ne);var fl=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(fl>>>26)|0,fl&=67108863,T=Math.imul(be,ze),y=Math.imul(be,Ne),y=y+Math.imul(Ee,ze)|0,v=Math.imul(Ee,Ne),T=T+Math.imul(H,Pe)|0,y=y+Math.imul(H,nn)|0,y=y+Math.imul(ee,Pe)|0,v=v+Math.imul(ee,nn)|0;var Da=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Da>>>26)|0,Da&=67108863,T=Math.imul(st,ze),y=Math.imul(st,Ne),y=y+Math.imul(dt,ze)|0,v=Math.imul(dt,Ne),T=T+Math.imul(be,Pe)|0,y=y+Math.imul(be,nn)|0,y=y+Math.imul(Ee,Pe)|0,v=v+Math.imul(Ee,nn)|0,T=T+Math.imul(H,It)|0,y=y+Math.imul(H,Lt)|0,y=y+Math.imul(ee,It)|0,v=v+Math.imul(ee,Lt)|0;var ci=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(ci>>>26)|0,ci&=67108863,T=Math.imul(lt,ze),y=Math.imul(lt,Ne),y=y+Math.imul(xt,ze)|0,v=Math.imul(xt,Ne),T=T+Math.imul(st,Pe)|0,y=y+Math.imul(st,nn)|0,y=y+Math.imul(dt,Pe)|0,v=v+Math.imul(dt,nn)|0,T=T+Math.imul(be,It)|0,y=y+Math.imul(be,Lt)|0,y=y+Math.imul(Ee,It)|0,v=v+Math.imul(Ee,Lt)|0,T=T+Math.imul(H,jt)|0,y=y+Math.imul(H,Rt)|0,y=y+Math.imul(ee,jt)|0,v=v+Math.imul(ee,Rt)|0;var Hs=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Hs>>>26)|0,Hs&=67108863,T=Math.imul(Mt,ze),y=Math.imul(Mt,Ne),y=y+Math.imul(Nt,ze)|0,v=Math.imul(Nt,Ne),T=T+Math.imul(lt,Pe)|0,y=y+Math.imul(lt,nn)|0,y=y+Math.imul(xt,Pe)|0,v=v+Math.imul(xt,nn)|0,T=T+Math.imul(st,It)|0,y=y+Math.imul(st,Lt)|0,y=y+Math.imul(dt,It)|0,v=v+Math.imul(dt,Lt)|0,T=T+Math.imul(be,jt)|0,y=y+Math.imul(be,Rt)|0,y=y+Math.imul(Ee,jt)|0,v=v+Math.imul(Ee,Rt)|0,T=T+Math.imul(H,Vt)|0,y=y+Math.imul(H,zt)|0,y=y+Math.imul(ee,Vt)|0,v=v+Math.imul(ee,zt)|0;var Zr=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,T=Math.imul(St,ze),y=Math.imul(St,Ne),y=y+Math.imul(gt,ze)|0,v=Math.imul(gt,Ne),T=T+Math.imul(Mt,Pe)|0,y=y+Math.imul(Mt,nn)|0,y=y+Math.imul(Nt,Pe)|0,v=v+Math.imul(Nt,nn)|0,T=T+Math.imul(lt,It)|0,y=y+Math.imul(lt,Lt)|0,y=y+Math.imul(xt,It)|0,v=v+Math.imul(xt,Lt)|0,T=T+Math.imul(st,jt)|0,y=y+Math.imul(st,Rt)|0,y=y+Math.imul(dt,jt)|0,v=v+Math.imul(dt,Rt)|0,T=T+Math.imul(be,Vt)|0,y=y+Math.imul(be,zt)|0,y=y+Math.imul(Ee,Vt)|0,v=v+Math.imul(Ee,zt)|0,T=T+Math.imul(H,rn)|0,y=y+Math.imul(H,Yt)|0,y=y+Math.imul(ee,rn)|0,v=v+Math.imul(ee,Yt)|0;var Qr=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,T=Math.imul(Tt,ze),y=Math.imul(Tt,Ne),y=y+Math.imul(nt,ze)|0,v=Math.imul(nt,Ne),T=T+Math.imul(St,Pe)|0,y=y+Math.imul(St,nn)|0,y=y+Math.imul(gt,Pe)|0,v=v+Math.imul(gt,nn)|0,T=T+Math.imul(Mt,It)|0,y=y+Math.imul(Mt,Lt)|0,y=y+Math.imul(Nt,It)|0,v=v+Math.imul(Nt,Lt)|0,T=T+Math.imul(lt,jt)|0,y=y+Math.imul(lt,Rt)|0,y=y+Math.imul(xt,jt)|0,v=v+Math.imul(xt,Rt)|0,T=T+Math.imul(st,Vt)|0,y=y+Math.imul(st,zt)|0,y=y+Math.imul(dt,Vt)|0,v=v+Math.imul(dt,zt)|0,T=T+Math.imul(be,rn)|0,y=y+Math.imul(be,Yt)|0,y=y+Math.imul(Ee,rn)|0,v=v+Math.imul(Ee,Yt)|0,T=T+Math.imul(H,Zt)|0,y=y+Math.imul(H,qt)|0,y=y+Math.imul(ee,Zt)|0,v=v+Math.imul(ee,qt)|0;var fi=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(fi>>>26)|0,fi&=67108863,T=Math.imul(kt,ze),y=Math.imul(kt,Ne),y=y+Math.imul(j,ze)|0,v=Math.imul(j,Ne),T=T+Math.imul(Tt,Pe)|0,y=y+Math.imul(Tt,nn)|0,y=y+Math.imul(nt,Pe)|0,v=v+Math.imul(nt,nn)|0,T=T+Math.imul(St,It)|0,y=y+Math.imul(St,Lt)|0,y=y+Math.imul(gt,It)|0,v=v+Math.imul(gt,Lt)|0,T=T+Math.imul(Mt,jt)|0,y=y+Math.imul(Mt,Rt)|0,y=y+Math.imul(Nt,jt)|0,v=v+Math.imul(Nt,Rt)|0,T=T+Math.imul(lt,Vt)|0,y=y+Math.imul(lt,zt)|0,y=y+Math.imul(xt,Vt)|0,v=v+Math.imul(xt,zt)|0,T=T+Math.imul(st,rn)|0,y=y+Math.imul(st,Yt)|0,y=y+Math.imul(dt,rn)|0,v=v+Math.imul(dt,Yt)|0,T=T+Math.imul(be,Zt)|0,y=y+Math.imul(be,qt)|0,y=y+Math.imul(Ee,Zt)|0,v=v+Math.imul(Ee,qt)|0,T=T+Math.imul(H,Qt)|0,y=y+Math.imul(H,Jt)|0,y=y+Math.imul(ee,Qt)|0,v=v+Math.imul(ee,Jt)|0;var Jr=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,T=Math.imul(M,ze),y=Math.imul(M,Ne),y=y+Math.imul(W,ze)|0,v=Math.imul(W,Ne),T=T+Math.imul(kt,Pe)|0,y=y+Math.imul(kt,nn)|0,y=y+Math.imul(j,Pe)|0,v=v+Math.imul(j,nn)|0,T=T+Math.imul(Tt,It)|0,y=y+Math.imul(Tt,Lt)|0,y=y+Math.imul(nt,It)|0,v=v+Math.imul(nt,Lt)|0,T=T+Math.imul(St,jt)|0,y=y+Math.imul(St,Rt)|0,y=y+Math.imul(gt,jt)|0,v=v+Math.imul(gt,Rt)|0,T=T+Math.imul(Mt,Vt)|0,y=y+Math.imul(Mt,zt)|0,y=y+Math.imul(Nt,Vt)|0,v=v+Math.imul(Nt,zt)|0,T=T+Math.imul(lt,rn)|0,y=y+Math.imul(lt,Yt)|0,y=y+Math.imul(xt,rn)|0,v=v+Math.imul(xt,Yt)|0,T=T+Math.imul(st,Zt)|0,y=y+Math.imul(st,qt)|0,y=y+Math.imul(dt,Zt)|0,v=v+Math.imul(dt,qt)|0,T=T+Math.imul(be,Qt)|0,y=y+Math.imul(be,Jt)|0,y=y+Math.imul(Ee,Qt)|0,v=v+Math.imul(Ee,Jt)|0,T=T+Math.imul(H,Je)|0,y=y+Math.imul(H,at)|0,y=y+Math.imul(ee,Je)|0,v=v+Math.imul(ee,at)|0;var an=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(an>>>26)|0,an&=67108863,T=Math.imul(ue,ze),y=Math.imul(ue,Ne),y=y+Math.imul(pe,ze)|0,v=Math.imul(pe,Ne),T=T+Math.imul(M,Pe)|0,y=y+Math.imul(M,nn)|0,y=y+Math.imul(W,Pe)|0,v=v+Math.imul(W,nn)|0,T=T+Math.imul(kt,It)|0,y=y+Math.imul(kt,Lt)|0,y=y+Math.imul(j,It)|0,v=v+Math.imul(j,Lt)|0,T=T+Math.imul(Tt,jt)|0,y=y+Math.imul(Tt,Rt)|0,y=y+Math.imul(nt,jt)|0,v=v+Math.imul(nt,Rt)|0,T=T+Math.imul(St,Vt)|0,y=y+Math.imul(St,zt)|0,y=y+Math.imul(gt,Vt)|0,v=v+Math.imul(gt,zt)|0,T=T+Math.imul(Mt,rn)|0,y=y+Math.imul(Mt,Yt)|0,y=y+Math.imul(Nt,rn)|0,v=v+Math.imul(Nt,Yt)|0,T=T+Math.imul(lt,Zt)|0,y=y+Math.imul(lt,qt)|0,y=y+Math.imul(xt,Zt)|0,v=v+Math.imul(xt,qt)|0,T=T+Math.imul(st,Qt)|0,y=y+Math.imul(st,Jt)|0,y=y+Math.imul(dt,Qt)|0,v=v+Math.imul(dt,Jt)|0,T=T+Math.imul(be,Je)|0,y=y+Math.imul(be,at)|0,y=y+Math.imul(Ee,Je)|0,v=v+Math.imul(Ee,at)|0,T=T+Math.imul(H,Ht)|0,y=y+Math.imul(H,sn)|0,y=y+Math.imul(ee,Ht)|0,v=v+Math.imul(ee,sn)|0;var za=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(za>>>26)|0,za&=67108863,T=Math.imul(ue,Pe),y=Math.imul(ue,nn),y=y+Math.imul(pe,Pe)|0,v=Math.imul(pe,nn),T=T+Math.imul(M,It)|0,y=y+Math.imul(M,Lt)|0,y=y+Math.imul(W,It)|0,v=v+Math.imul(W,Lt)|0,T=T+Math.imul(kt,jt)|0,y=y+Math.imul(kt,Rt)|0,y=y+Math.imul(j,jt)|0,v=v+Math.imul(j,Rt)|0,T=T+Math.imul(Tt,Vt)|0,y=y+Math.imul(Tt,zt)|0,y=y+Math.imul(nt,Vt)|0,v=v+Math.imul(nt,zt)|0,T=T+Math.imul(St,rn)|0,y=y+Math.imul(St,Yt)|0,y=y+Math.imul(gt,rn)|0,v=v+Math.imul(gt,Yt)|0,T=T+Math.imul(Mt,Zt)|0,y=y+Math.imul(Mt,qt)|0,y=y+Math.imul(Nt,Zt)|0,v=v+Math.imul(Nt,qt)|0,T=T+Math.imul(lt,Qt)|0,y=y+Math.imul(lt,Jt)|0,y=y+Math.imul(xt,Qt)|0,v=v+Math.imul(xt,Jt)|0,T=T+Math.imul(st,Je)|0,y=y+Math.imul(st,at)|0,y=y+Math.imul(dt,Je)|0,v=v+Math.imul(dt,at)|0,T=T+Math.imul(be,Ht)|0,y=y+Math.imul(be,sn)|0,y=y+Math.imul(Ee,Ht)|0,v=v+Math.imul(Ee,sn)|0;var qa=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(qa>>>26)|0,qa&=67108863,T=Math.imul(ue,It),y=Math.imul(ue,Lt),y=y+Math.imul(pe,It)|0,v=Math.imul(pe,Lt),T=T+Math.imul(M,jt)|0,y=y+Math.imul(M,Rt)|0,y=y+Math.imul(W,jt)|0,v=v+Math.imul(W,Rt)|0,T=T+Math.imul(kt,Vt)|0,y=y+Math.imul(kt,zt)|0,y=y+Math.imul(j,Vt)|0,v=v+Math.imul(j,zt)|0,T=T+Math.imul(Tt,rn)|0,y=y+Math.imul(Tt,Yt)|0,y=y+Math.imul(nt,rn)|0,v=v+Math.imul(nt,Yt)|0,T=T+Math.imul(St,Zt)|0,y=y+Math.imul(St,qt)|0,y=y+Math.imul(gt,Zt)|0,v=v+Math.imul(gt,qt)|0,T=T+Math.imul(Mt,Qt)|0,y=y+Math.imul(Mt,Jt)|0,y=y+Math.imul(Nt,Qt)|0,v=v+Math.imul(Nt,Jt)|0,T=T+Math.imul(lt,Je)|0,y=y+Math.imul(lt,at)|0,y=y+Math.imul(xt,Je)|0,v=v+Math.imul(xt,at)|0,T=T+Math.imul(st,Ht)|0,y=y+Math.imul(st,sn)|0,y=y+Math.imul(dt,Ht)|0,v=v+Math.imul(dt,sn)|0;var Ur=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,T=Math.imul(ue,jt),y=Math.imul(ue,Rt),y=y+Math.imul(pe,jt)|0,v=Math.imul(pe,Rt),T=T+Math.imul(M,Vt)|0,y=y+Math.imul(M,zt)|0,y=y+Math.imul(W,Vt)|0,v=v+Math.imul(W,zt)|0,T=T+Math.imul(kt,rn)|0,y=y+Math.imul(kt,Yt)|0,y=y+Math.imul(j,rn)|0,v=v+Math.imul(j,Yt)|0,T=T+Math.imul(Tt,Zt)|0,y=y+Math.imul(Tt,qt)|0,y=y+Math.imul(nt,Zt)|0,v=v+Math.imul(nt,qt)|0,T=T+Math.imul(St,Qt)|0,y=y+Math.imul(St,Jt)|0,y=y+Math.imul(gt,Qt)|0,v=v+Math.imul(gt,Jt)|0,T=T+Math.imul(Mt,Je)|0,y=y+Math.imul(Mt,at)|0,y=y+Math.imul(Nt,Je)|0,v=v+Math.imul(Nt,at)|0,T=T+Math.imul(lt,Ht)|0,y=y+Math.imul(lt,sn)|0,y=y+Math.imul(xt,Ht)|0,v=v+Math.imul(xt,sn)|0;var Xr=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,T=Math.imul(ue,Vt),y=Math.imul(ue,zt),y=y+Math.imul(pe,Vt)|0,v=Math.imul(pe,zt),T=T+Math.imul(M,rn)|0,y=y+Math.imul(M,Yt)|0,y=y+Math.imul(W,rn)|0,v=v+Math.imul(W,Yt)|0,T=T+Math.imul(kt,Zt)|0,y=y+Math.imul(kt,qt)|0,y=y+Math.imul(j,Zt)|0,v=v+Math.imul(j,qt)|0,T=T+Math.imul(Tt,Qt)|0,y=y+Math.imul(Tt,Jt)|0,y=y+Math.imul(nt,Qt)|0,v=v+Math.imul(nt,Jt)|0,T=T+Math.imul(St,Je)|0,y=y+Math.imul(St,at)|0,y=y+Math.imul(gt,Je)|0,v=v+Math.imul(gt,at)|0,T=T+Math.imul(Mt,Ht)|0,y=y+Math.imul(Mt,sn)|0,y=y+Math.imul(Nt,Ht)|0,v=v+Math.imul(Nt,sn)|0;var hl=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(hl>>>26)|0,hl&=67108863,T=Math.imul(ue,rn),y=Math.imul(ue,Yt),y=y+Math.imul(pe,rn)|0,v=Math.imul(pe,Yt),T=T+Math.imul(M,Zt)|0,y=y+Math.imul(M,qt)|0,y=y+Math.imul(W,Zt)|0,v=v+Math.imul(W,qt)|0,T=T+Math.imul(kt,Qt)|0,y=y+Math.imul(kt,Jt)|0,y=y+Math.imul(j,Qt)|0,v=v+Math.imul(j,Jt)|0,T=T+Math.imul(Tt,Je)|0,y=y+Math.imul(Tt,at)|0,y=y+Math.imul(nt,Je)|0,v=v+Math.imul(nt,at)|0,T=T+Math.imul(St,Ht)|0,y=y+Math.imul(St,sn)|0,y=y+Math.imul(gt,Ht)|0,v=v+Math.imul(gt,sn)|0;var Ha=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Ha>>>26)|0,Ha&=67108863,T=Math.imul(ue,Zt),y=Math.imul(ue,qt),y=y+Math.imul(pe,Zt)|0,v=Math.imul(pe,qt),T=T+Math.imul(M,Qt)|0,y=y+Math.imul(M,Jt)|0,y=y+Math.imul(W,Qt)|0,v=v+Math.imul(W,Jt)|0,T=T+Math.imul(kt,Je)|0,y=y+Math.imul(kt,at)|0,y=y+Math.imul(j,Je)|0,v=v+Math.imul(j,at)|0,T=T+Math.imul(Tt,Ht)|0,y=y+Math.imul(Tt,sn)|0,y=y+Math.imul(nt,Ht)|0,v=v+Math.imul(nt,sn)|0;var Pa=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(Pa>>>26)|0,Pa&=67108863,T=Math.imul(ue,Qt),y=Math.imul(ue,Jt),y=y+Math.imul(pe,Qt)|0,v=Math.imul(pe,Jt),T=T+Math.imul(M,Je)|0,y=y+Math.imul(M,at)|0,y=y+Math.imul(W,Je)|0,v=v+Math.imul(W,at)|0,T=T+Math.imul(kt,Ht)|0,y=y+Math.imul(kt,sn)|0,y=y+Math.imul(j,Ht)|0,v=v+Math.imul(j,sn)|0;var dl=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(dl>>>26)|0,dl&=67108863,T=Math.imul(ue,Je),y=Math.imul(ue,at),y=y+Math.imul(pe,Je)|0,v=Math.imul(pe,at),T=T+Math.imul(M,Ht)|0,y=y+Math.imul(M,sn)|0,y=y+Math.imul(W,Ht)|0,v=v+Math.imul(W,sn)|0;var es=(F+T|0)+((y&8191)<<13)|0;F=(v+(y>>>13)|0)+(es>>>26)|0,es&=67108863,T=Math.imul(ue,Ht),y=Math.imul(ue,sn),y=y+Math.imul(pe,Ht)|0,v=Math.imul(pe,sn);var ts=(F+T|0)+((y&8191)<<13)|0;return F=(v+(y>>>13)|0)+(ts>>>26)|0,ts&=67108863,$[0]=fl,$[1]=Da,$[2]=ci,$[3]=Hs,$[4]=Zr,$[5]=Qr,$[6]=fi,$[7]=Jr,$[8]=an,$[9]=za,$[10]=qa,$[11]=Ur,$[12]=Xr,$[13]=hl,$[14]=Ha,$[15]=Pa,$[16]=dl,$[17]=es,$[18]=ts,F!==0&&($[19]=F,A.length++),A};Math.imul||(q=U);function L(O,m,b){b.negative=m.negative^O.negative,b.length=O.length+m.length;for(var A=0,N=0,D=0;D<b.length-1;D++){var $=N;N=0;for(var F=A&67108863,T=Math.min(D,m.length-1),y=Math.max(0,D-O.length+1);y<=T;y++){var v=D-y,I=O.words[v]|0,H=m.words[y]|0,ee=I*H,le=ee&67108863;$=$+(ee/67108864|0)|0,le=le+F|0,F=le&67108863,$=$+(le>>>26)|0,N+=$>>>26,$&=67108863}b.words[D]=F,A=$,$=N}return A!==0?b.words[D]=A:b.length--,b._strip()}function G(O,m,b){return L(O,m,b)}o.prototype.mulTo=function(m,b){var A,N=this.length+m.length;return this.length===10&&m.length===10?A=q(this,m,b):N<63?A=U(this,m,b):N<1024?A=L(this,m,b):A=G(this,m,b),A},o.prototype.mul=function(m){var b=new o(null);return b.words=new Array(this.length+m.length),this.mulTo(m,b)},o.prototype.mulf=function(m){var b=new o(null);return b.words=new Array(this.length+m.length),G(this,m,b)},o.prototype.imul=function(m){return this.clone().mulTo(m,this)},o.prototype.imuln=function(m){var b=m<0;b&&(m=-m),i(typeof m=="number"),i(m<67108864);for(var A=0,N=0;N<this.length;N++){var D=(this.words[N]|0)*m,$=(D&67108863)+(A&67108863);A>>=26,A+=D/67108864|0,A+=$>>>26,this.words[N]=$&67108863}return A!==0&&(this.words[N]=A,this.length++),this.length=m===0?1:this.length,b?this.ineg():this},o.prototype.muln=function(m){return this.clone().imuln(m)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(m){var b=k(m);if(b.length===0)return new o(1);for(var A=this,N=0;N<b.length&&b[N]===0;N++,A=A.sqr());if(++N<b.length)for(var D=A.sqr();N<b.length;N++,D=D.sqr())b[N]!==0&&(A=A.mul(D));return A},o.prototype.iushln=function(m){i(typeof m=="number"&&m>=0);var b=m%26,A=(m-b)/26,N=67108863>>>26-b<<26-b,D;if(b!==0){var $=0;for(D=0;D<this.length;D++){var F=this.words[D]&N,T=(this.words[D]|0)-F<<b;this.words[D]=T|$,$=F>>>26-b}$&&(this.words[D]=$,this.length++)}if(A!==0){for(D=this.length-1;D>=0;D--)this.words[D+A]=this.words[D];for(D=0;D<A;D++)this.words[D]=0;this.length+=A}return this._strip()},o.prototype.ishln=function(m){return i(this.negative===0),this.iushln(m)},o.prototype.iushrn=function(m,b,A){i(typeof m=="number"&&m>=0);var N;b?N=(b-b%26)/26:N=0;var D=m%26,$=Math.min((m-D)/26,this.length),F=67108863^67108863>>>D<<D,T=A;if(N-=$,N=Math.max(0,N),T){for(var y=0;y<$;y++)T.words[y]=this.words[y];T.length=$}if($!==0)if(this.length>$)for(this.length-=$,y=0;y<this.length;y++)this.words[y]=this.words[y+$];else this.words[0]=0,this.length=1;var v=0;for(y=this.length-1;y>=0&&(v!==0||y>=N);y--){var I=this.words[y]|0;this.words[y]=v<<26-D|I>>>D,v=I&F}return T&&v!==0&&(T.words[T.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(m,b,A){return i(this.negative===0),this.iushrn(m,b,A)},o.prototype.shln=function(m){return this.clone().ishln(m)},o.prototype.ushln=function(m){return this.clone().iushln(m)},o.prototype.shrn=function(m){return this.clone().ishrn(m)},o.prototype.ushrn=function(m){return this.clone().iushrn(m)},o.prototype.testn=function(m){i(typeof m=="number"&&m>=0);var b=m%26,A=(m-b)/26,N=1<<b;if(this.length<=A)return!1;var D=this.words[A];return!!(D&N)},o.prototype.imaskn=function(m){i(typeof m=="number"&&m>=0);var b=m%26,A=(m-b)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(b!==0&&A++,this.length=Math.min(A,this.length),b!==0){var N=67108863^67108863>>>b<<b;this.words[this.length-1]&=N}return this._strip()},o.prototype.maskn=function(m){return this.clone().imaskn(m)},o.prototype.iaddn=function(m){return i(typeof m=="number"),i(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},o.prototype._iaddn=function(m){this.words[0]+=m;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},o.prototype.isubn=function(m){if(i(typeof m=="number"),i(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},o.prototype.addn=function(m){return this.clone().iaddn(m)},o.prototype.subn=function(m){return this.clone().isubn(m)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(m,b,A){var N=m.length+A,D;this._expand(N);var $,F=0;for(D=0;D<m.length;D++){$=(this.words[D+A]|0)+F;var T=(m.words[D]|0)*b;$-=T&67108863,F=($>>26)-(T/67108864|0),this.words[D+A]=$&67108863}for(;D<this.length-A;D++)$=(this.words[D+A]|0)+F,F=$>>26,this.words[D+A]=$&67108863;if(F===0)return this._strip();for(i(F===-1),F=0,D=0;D<this.length;D++)$=-(this.words[D]|0)+F,F=$>>26,this.words[D]=$&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(m,b){var A=this.length-m.length,N=this.clone(),D=m,$=D.words[D.length-1]|0,F=this._countBits($);A=26-F,A!==0&&(D=D.ushln(A),N.iushln(A),$=D.words[D.length-1]|0);var T=N.length-D.length,y;if(b!=="mod"){y=new o(null),y.length=T+1,y.words=new Array(y.length);for(var v=0;v<y.length;v++)y.words[v]=0}var I=N.clone()._ishlnsubmul(D,1,T);I.negative===0&&(N=I,y&&(y.words[T]=1));for(var H=T-1;H>=0;H--){var ee=(N.words[D.length+H]|0)*67108864+(N.words[D.length+H-1]|0);for(ee=Math.min(ee/$|0,67108863),N._ishlnsubmul(D,ee,H);N.negative!==0;)ee--,N.negative=0,N._ishlnsubmul(D,1,H),N.isZero()||(N.negative^=1);y&&(y.words[H]=ee)}return y&&y._strip(),N._strip(),b!=="div"&&A!==0&&N.iushrn(A),{div:y||null,mod:N}},o.prototype.divmod=function(m,b,A){if(i(!m.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var N,D,$;return this.negative!==0&&m.negative===0?($=this.neg().divmod(m,b),b!=="mod"&&(N=$.div.neg()),b!=="div"&&(D=$.mod.neg(),A&&D.negative!==0&&D.iadd(m)),{div:N,mod:D}):this.negative===0&&m.negative!==0?($=this.divmod(m.neg(),b),b!=="mod"&&(N=$.div.neg()),{div:N,mod:$.mod}):(this.negative&m.negative)!==0?($=this.neg().divmod(m.neg(),b),b!=="div"&&(D=$.mod.neg(),A&&D.negative!==0&&D.isub(m)),{div:$.div,mod:D}):m.length>this.length||this.cmp(m)<0?{div:new o(0),mod:this}:m.length===1?b==="div"?{div:this.divn(m.words[0]),mod:null}:b==="mod"?{div:null,mod:new o(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new o(this.modrn(m.words[0]))}:this._wordDiv(m,b)},o.prototype.div=function(m){return this.divmod(m,"div",!1).div},o.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},o.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},o.prototype.divRound=function(m){var b=this.divmod(m);if(b.mod.isZero())return b.div;var A=b.div.negative!==0?b.mod.isub(m):b.mod,N=m.ushrn(1),D=m.andln(1),$=A.cmp(N);return $<0||D===1&&$===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},o.prototype.modrn=function(m){var b=m<0;b&&(m=-m),i(m<=67108863);for(var A=(1<<26)%m,N=0,D=this.length-1;D>=0;D--)N=(A*N+(this.words[D]|0))%m;return b?-N:N},o.prototype.modn=function(m){return this.modrn(m)},o.prototype.idivn=function(m){var b=m<0;b&&(m=-m),i(m<=67108863);for(var A=0,N=this.length-1;N>=0;N--){var D=(this.words[N]|0)+A*67108864;this.words[N]=D/m|0,A=D%m}return this._strip(),b?this.ineg():this},o.prototype.divn=function(m){return this.clone().idivn(m)},o.prototype.egcd=function(m){i(m.negative===0),i(!m.isZero());var b=this,A=m.clone();b.negative!==0?b=b.umod(m):b=b.clone();for(var N=new o(1),D=new o(0),$=new o(0),F=new o(1),T=0;b.isEven()&&A.isEven();)b.iushrn(1),A.iushrn(1),++T;for(var y=A.clone(),v=b.clone();!b.isZero();){for(var I=0,H=1;(b.words[0]&H)===0&&I<26;++I,H<<=1);if(I>0)for(b.iushrn(I);I-- >0;)(N.isOdd()||D.isOdd())&&(N.iadd(y),D.isub(v)),N.iushrn(1),D.iushrn(1);for(var ee=0,le=1;(A.words[0]&le)===0&&ee<26;++ee,le<<=1);if(ee>0)for(A.iushrn(ee);ee-- >0;)($.isOdd()||F.isOdd())&&($.iadd(y),F.isub(v)),$.iushrn(1),F.iushrn(1);b.cmp(A)>=0?(b.isub(A),N.isub($),D.isub(F)):(A.isub(b),$.isub(N),F.isub(D))}return{a:$,b:F,gcd:A.iushln(T)}},o.prototype._invmp=function(m){i(m.negative===0),i(!m.isZero());var b=this,A=m.clone();b.negative!==0?b=b.umod(m):b=b.clone();for(var N=new o(1),D=new o(0),$=A.clone();b.cmpn(1)>0&&A.cmpn(1)>0;){for(var F=0,T=1;(b.words[0]&T)===0&&F<26;++F,T<<=1);if(F>0)for(b.iushrn(F);F-- >0;)N.isOdd()&&N.iadd($),N.iushrn(1);for(var y=0,v=1;(A.words[0]&v)===0&&y<26;++y,v<<=1);if(y>0)for(A.iushrn(y);y-- >0;)D.isOdd()&&D.iadd($),D.iushrn(1);b.cmp(A)>=0?(b.isub(A),N.isub(D)):(A.isub(b),D.isub(N))}var I;return b.cmpn(1)===0?I=N:I=D,I.cmpn(0)<0&&I.iadd(m),I},o.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var b=this.clone(),A=m.clone();b.negative=0,A.negative=0;for(var N=0;b.isEven()&&A.isEven();N++)b.iushrn(1),A.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;A.isEven();)A.iushrn(1);var D=b.cmp(A);if(D<0){var $=b;b=A,A=$}else if(D===0||A.cmpn(1)===0)break;b.isub(A)}while(!0);return A.iushln(N)},o.prototype.invm=function(m){return this.egcd(m).a.umod(m)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(m){return this.words[0]&m},o.prototype.bincn=function(m){i(typeof m=="number");var b=m%26,A=(m-b)/26,N=1<<b;if(this.length<=A)return this._expand(A+1),this.words[A]|=N,this;for(var D=N,$=A;D!==0&&$<this.length;$++){var F=this.words[$]|0;F+=D,D=F>>>26,F&=67108863,this.words[$]=F}return D!==0&&(this.words[$]=D,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(m){var b=m<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this._strip();var A;if(this.length>1)A=1;else{b&&(m=-m),i(m<=67108863,"Number is too big");var N=this.words[0]|0;A=N===m?0:N<m?-1:1}return this.negative!==0?-A|0:A},o.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var b=this.ucmp(m);return this.negative!==0?-b|0:b},o.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var b=0,A=this.length-1;A>=0;A--){var N=this.words[A]|0,D=m.words[A]|0;if(N!==D){N<D?b=-1:N>D&&(b=1);break}}return b},o.prototype.gtn=function(m){return this.cmpn(m)===1},o.prototype.gt=function(m){return this.cmp(m)===1},o.prototype.gten=function(m){return this.cmpn(m)>=0},o.prototype.gte=function(m){return this.cmp(m)>=0},o.prototype.ltn=function(m){return this.cmpn(m)===-1},o.prototype.lt=function(m){return this.cmp(m)===-1},o.prototype.lten=function(m){return this.cmpn(m)<=0},o.prototype.lte=function(m){return this.cmp(m)<=0},o.prototype.eqn=function(m){return this.cmpn(m)===0},o.prototype.eq=function(m){return this.cmp(m)===0},o.red=function(m){return new Z(m)},o.prototype.toRed=function(m){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(m){return this.red=m,this},o.prototype.forceRed=function(m){return i(!this.red,"Already a number in reduction context"),this._forceRed(m)},o.prototype.redAdd=function(m){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},o.prototype.redIAdd=function(m){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},o.prototype.redSub=function(m){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},o.prototype.redISub=function(m){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},o.prototype.redShl=function(m){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},o.prototype.redMul=function(m){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},o.prototype.redIMul=function(m){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(m){return i(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var te={k256:null,p224:null,p192:null,p25519:null};function J(O,m){this.name=O,this.p=new o(m,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var m=new o(null);return m.words=new Array(Math.ceil(this.n/13)),m},J.prototype.ireduce=function(m){var b=m,A;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),A=b.bitLength();while(A>this.n);var N=A<this.n?-1:b.ucmp(this.p);return N===0?(b.words[0]=0,b.length=1):N>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},J.prototype.split=function(m,b){m.iushrn(this.n,0,b)},J.prototype.imulK=function(m){return m.imul(this.k)};function se(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(se,J),se.prototype.split=function(m,b){for(var A=4194303,N=Math.min(m.length,9),D=0;D<N;D++)b.words[D]=m.words[D];if(b.length=N,m.length<=9){m.words[0]=0,m.length=1;return}var $=m.words[9];for(b.words[b.length++]=$&A,D=10;D<m.length;D++){var F=m.words[D]|0;m.words[D-10]=(F&A)<<4|$>>>22,$=F}$>>>=22,m.words[D-10]=$,$===0&&m.length>10?m.length-=10:m.length-=9},se.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var b=0,A=0;A<m.length;A++){var N=m.words[A]|0;b+=N*977,m.words[A]=b&67108863,b=N*64+(b/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function oe(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(oe,J);function P(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(P,J);function K(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(K,J),K.prototype.imulK=function(m){for(var b=0,A=0;A<m.length;A++){var N=(m.words[A]|0)*19+b,D=N&67108863;N>>>=26,m.words[A]=D,b=N}return b!==0&&(m.words[m.length++]=b),m},o._prime=function(m){if(te[m])return te[m];var b;if(m==="k256")b=new se;else if(m==="p224")b=new oe;else if(m==="p192")b=new P;else if(m==="p25519")b=new K;else throw new Error("Unknown prime "+m);return te[m]=b,b};function Z(O){if(typeof O=="string"){var m=o._prime(O);this.m=m.p,this.prime=m}else i(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}Z.prototype._verify1=function(m){i(m.negative===0,"red works only with positives"),i(m.red,"red works only with red numbers")},Z.prototype._verify2=function(m,b){i((m.negative|b.negative)===0,"red works only with positives"),i(m.red&&m.red===b.red,"red works only with red numbers")},Z.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(w(m,m.umod(this.m)._forceRed(this)),m)},Z.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},Z.prototype.add=function(m,b){this._verify2(m,b);var A=m.add(b);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},Z.prototype.iadd=function(m,b){this._verify2(m,b);var A=m.iadd(b);return A.cmp(this.m)>=0&&A.isub(this.m),A},Z.prototype.sub=function(m,b){this._verify2(m,b);var A=m.sub(b);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},Z.prototype.isub=function(m,b){this._verify2(m,b);var A=m.isub(b);return A.cmpn(0)<0&&A.iadd(this.m),A},Z.prototype.shl=function(m,b){return this._verify1(m),this.imod(m.ushln(b))},Z.prototype.imul=function(m,b){return this._verify2(m,b),this.imod(m.imul(b))},Z.prototype.mul=function(m,b){return this._verify2(m,b),this.imod(m.mul(b))},Z.prototype.isqr=function(m){return this.imul(m,m.clone())},Z.prototype.sqr=function(m){return this.mul(m,m)},Z.prototype.sqrt=function(m){if(m.isZero())return m.clone();var b=this.m.andln(3);if(i(b%2===1),b===3){var A=this.m.add(new o(1)).iushrn(2);return this.pow(m,A)}for(var N=this.m.subn(1),D=0;!N.isZero()&&N.andln(1)===0;)D++,N.iushrn(1);i(!N.isZero());var $=new o(1).toRed(this),F=$.redNeg(),T=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new o(2*y*y).toRed(this);this.pow(y,T).cmp(F)!==0;)y.redIAdd(F);for(var v=this.pow(y,N),I=this.pow(m,N.addn(1).iushrn(1)),H=this.pow(m,N),ee=D;H.cmp($)!==0;){for(var le=H,be=0;le.cmp($)!==0;be++)le=le.redSqr();i(be<ee);var Ee=this.pow(v,new o(1).iushln(ee-be-1));I=I.redMul(Ee),v=Ee.redSqr(),H=H.redMul(v),ee=be}return I},Z.prototype.invm=function(m){var b=m._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},Z.prototype.pow=function(m,b){if(b.isZero())return new o(1).toRed(this);if(b.cmpn(1)===0)return m.clone();var A=4,N=new Array(1<<A);N[0]=new o(1).toRed(this),N[1]=m;for(var D=2;D<N.length;D++)N[D]=this.mul(N[D-1],m);var $=N[0],F=0,T=0,y=b.bitLength()%26;for(y===0&&(y=26),D=b.length-1;D>=0;D--){for(var v=b.words[D],I=y-1;I>=0;I--){var H=v>>I&1;if($!==N[0]&&($=this.sqr($)),H===0&&F===0){T=0;continue}F<<=1,F|=H,T++,!(T!==A&&(D!==0||I!==0))&&($=this.mul($,N[F]),T=0,F=0)}y=26}return $},Z.prototype.convertTo=function(m){var b=m.umod(this.m);return b===m?b.clone():b},Z.prototype.convertFrom=function(m){var b=m.clone();return b.red=null,b},o.mont=function(m){return new Q(m)};function Q(O){Z.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(Q,Z),Q.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},Q.prototype.convertFrom=function(m){var b=this.imod(m.mul(this.rinv));return b.red=null,b},Q.prototype.imul=function(m,b){if(m.isZero()||b.isZero())return m.words[0]=0,m.length=1,m;var A=m.imul(b),N=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=A.isub(N).iushrn(this.shift),$=D;return D.cmp(this.m)>=0?$=D.isub(this.m):D.cmpn(0)<0&&($=D.iadd(this.m)),$._forceRed(this)},Q.prototype.mul=function(m,b){if(m.isZero()||b.isZero())return new o(0)._forceRed(this);var A=m.mul(b),N=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=A.isub(N).iushrn(this.shift),$=D;return D.cmp(this.m)>=0?$=D.isub(this.m):D.cmpn(0)<0&&($=D.iadd(this.m)),$._forceRed(this)},Q.prototype.invm=function(m){var b=this.imod(m._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(r,nR)})(Ef)),Ef.exports}var rR=US();const Jb=Ra(rR);var uf={exports:{}};var Xb;function DS(){return Xb||(Xb=1,(function(r,e){var t=dh(),i=t.Buffer;function a(u,f){for(var h in u)f[h]=u[h]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=t:(a(t,e),e.Buffer=o);function o(u,f,h){return i(u,f,h)}o.prototype=Object.create(i.prototype),a(i,o),o.from=function(u,f,h){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,f,h)},o.alloc=function(u,f,h){if(typeof u!="number")throw new TypeError("Argument must be a number");var g=i(u);return f!==void 0?typeof h=="string"?g.fill(f,h):g.fill(f):g.fill(0),g},o.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},o.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}})(uf,uf.exports)),uf.exports}var eg,e1;function iR(){if(e1)return eg;e1=1;var r=DS().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),a=0;a<i.length;a++)i[a]=255;for(var o=0;o<t.length;o++){var u=t.charAt(o),f=u.charCodeAt(0);if(i[f]!==255)throw new TypeError(u+" is ambiguous");i[f]=o}var h=t.length,g=t.charAt(0),w=Math.log(h)/Math.log(256),_=Math.log(256)/Math.log(h);function x(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=r.from(B)),!r.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var k=0,U=0,q=0,L=B.length;q!==L&&B[q]===0;)q++,k++;for(var G=(L-q)*_+1>>>0,te=new Uint8Array(G);q!==L;){for(var J=B[q],se=0,oe=G-1;(J!==0||se<U)&&oe!==-1;oe--,se++)J+=256*te[oe]>>>0,te[oe]=J%h>>>0,J=J/h>>>0;if(J!==0)throw new Error("Non-zero carry");U=se,q++}for(var P=G-U;P!==G&&te[P]===0;)P++;for(var K=g.repeat(k);P<G;++P)K+=t.charAt(te[P]);return K}function E(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return r.alloc(0);for(var k=0,U=0,q=0;B[k]===g;)U++,k++;for(var L=(B.length-k)*w+1>>>0,G=new Uint8Array(L);k<B.length;){var te=B.charCodeAt(k);if(te>255)return;var J=i[te];if(J===255)return;for(var se=0,oe=L-1;(J!==0||se<q)&&oe!==-1;oe--,se++)J+=h*G[oe]>>>0,G[oe]=J%256>>>0,J=J/256>>>0;if(J!==0)throw new Error("Non-zero carry");q=se,k++}for(var P=L-q;P!==L&&G[P]===0;)P++;var K=r.allocUnsafe(U+(L-P));K.fill(0,0,U);for(var Z=U;P!==L;)K[Z++]=G[P++];return K}function C(B){var k=E(B);if(k)return k;throw new Error("Non-base"+h+" character")}return{encode:x,decodeUnsafe:E,decode:C}}return eg=e,eg}var tg,t1;function sR(){if(t1)return tg;t1=1;var r=iR(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return tg=r(e),tg}var aR=sR();const qn=Ra(aR),n1=mS;var yt={},ng,r1;function oR(){if(r1)return ng;r1=1;var r=DS().Buffer;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var i=new Uint8Array(256),a=0;a<i.length;a++)i[a]=255;for(var o=0;o<t.length;o++){var u=t.charAt(o),f=u.charCodeAt(0);if(i[f]!==255)throw new TypeError(u+" is ambiguous");i[f]=o}var h=t.length,g=t.charAt(0),w=Math.log(h)/Math.log(256),_=Math.log(256)/Math.log(h);function x(B){if((Array.isArray(B)||B instanceof Uint8Array)&&(B=r.from(B)),!r.isBuffer(B))throw new TypeError("Expected Buffer");if(B.length===0)return"";for(var k=0,U=0,q=0,L=B.length;q!==L&&B[q]===0;)q++,k++;for(var G=(L-q)*_+1>>>0,te=new Uint8Array(G);q!==L;){for(var J=B[q],se=0,oe=G-1;(J!==0||se<U)&&oe!==-1;oe--,se++)J+=256*te[oe]>>>0,te[oe]=J%h>>>0,J=J/h>>>0;if(J!==0)throw new Error("Non-zero carry");U=se,q++}for(var P=G-U;P!==G&&te[P]===0;)P++;for(var K=g.repeat(k);P<G;++P)K+=t.charAt(te[P]);return K}function E(B){if(typeof B!="string")throw new TypeError("Expected String");if(B.length===0)return r.alloc(0);for(var k=0,U=0,q=0;B[k]===g;)U++,k++;for(var L=(B.length-k)*w+1>>>0,G=new Uint8Array(L);k<B.length;){var te=B.charCodeAt(k);if(te>255)return;var J=i[te];if(J===255)return;for(var se=0,oe=L-1;(J!==0||se<q)&&oe!==-1;oe--,se++)J+=h*G[oe]>>>0,G[oe]=J%256>>>0,J=J/256>>>0;if(J!==0)throw new Error("Non-zero carry");q=se,k++}for(var P=L-q;P!==L&&G[P]===0;)P++;var K=r.allocUnsafe(U+(L-P));K.fill(0,0,U);for(var Z=U;P!==L;)K[Z++]=G[P++];return K}function C(B){var k=E(B);if(k)return k;throw new Error("Non-base"+h+" character")}return{encode:x,decodeUnsafe:E,decode:C}}return ng=e,ng}var rg,i1;function lR(){if(i1)return rg;i1=1;var r=oR(),e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return rg=r(e),rg}function Ui(r,e,t){return e<=r&&r<=t}function ph(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function uR(r){for(var e=String(r),t=e.length,i=0,a=[];i<t;){var o=e.charCodeAt(i);if(o<55296||o>57343)a.push(o);else if(56320<=o&&o<=57343)a.push(65533);else if(55296<=o&&o<=56319)if(i===t-1)a.push(65533);else{var u=r.charCodeAt(i+1);if(56320<=u&&u<=57343){var f=o&1023,h=u&1023;a.push(65536+(f<<10)+h),i+=1}else a.push(65533)}i+=1}return a}function cR(r){for(var e="",t=0;t<r.length;++t){var i=r[t];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return e}var Vf=-1;function ym(r){this.tokens=[].slice.call(r)}ym.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Vf},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var tl=-1;function ig(r,e){if(r)throw TypeError("Decoder error");return e||65533}var Yf="utf-8";function Zf(r,e){if(!(this instanceof Zf))return new Zf(r,e);if(r=r!==void 0?String(r).toLowerCase():Yf,r!==Yf)throw new Error("Encoding not supported. Only utf-8 is supported");e=ph(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Zf.prototype={decode:function(e,t){var i;typeof e=="object"&&e instanceof ArrayBuffer?i=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):i=new Uint8Array(0),t=ph(t),this._streaming||(this._decoder=new fR({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var a=new ym(i),o=[],u;!a.endOfStream()&&(u=this._decoder.handler(a,a.read()),u!==tl);)u!==null&&(Array.isArray(u)?o.push.apply(o,u):o.push(u));if(!this._streaming){do{if(u=this._decoder.handler(a,a.read()),u===tl)break;u!==null&&(Array.isArray(u)?o.push.apply(o,u):o.push(u))}while(!a.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),cR(o)}};function Qf(r,e){if(!(this instanceof Qf))return new Qf(r,e);if(r=r!==void 0?String(r).toLowerCase():Yf,r!==Yf)throw new Error("Encoding not supported. Only utf-8 is supported");e=ph(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Qf.prototype={encode:function(e,t){e=e?String(e):"",t=ph(t),this._streaming||(this._encoder=new hR(this._options)),this._streaming=!!t.stream;for(var i=[],a=new ym(uR(e)),o;!a.endOfStream()&&(o=this._encoder.handler(a,a.read()),o!==tl);)Array.isArray(o)?i.push.apply(i,o):i.push(o);if(!this._streaming){for(;o=this._encoder.handler(a,a.read()),o!==tl;)Array.isArray(o)?i.push.apply(i,o):i.push(o);this._encoder=null}return new Uint8Array(i)}};function fR(r){var e=r.fatal,t=0,i=0,a=0,o=128,u=191;this.handler=function(f,h){if(h===Vf&&a!==0)return a=0,ig(e);if(h===Vf)return tl;if(a===0){if(Ui(h,0,127))return h;if(Ui(h,194,223))a=1,t=h-192;else if(Ui(h,224,239))h===224&&(o=160),h===237&&(u=159),a=2,t=h-224;else if(Ui(h,240,244))h===240&&(o=144),h===244&&(u=143),a=3,t=h-240;else return ig(e);return t=t<<6*a,null}if(!Ui(h,o,u))return t=a=i=0,o=128,u=191,f.prepend(h),ig(e);if(o=128,u=191,i+=1,t+=h-128<<6*(a-i),i!==a)return null;var g=t;return t=a=i=0,g}}function hR(r){r.fatal,this.handler=function(e,t){if(t===Vf)return tl;if(Ui(t,0,127))return t;var i,a;Ui(t,128,2047)?(i=1,a=192):Ui(t,2048,65535)?(i=2,a=224):Ui(t,65536,1114111)&&(i=3,a=240);for(var o=[(t>>6*i)+a];i>0;){var u=t>>6*(i-1);o.push(128|u&63),i-=1}return o}}const dR=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Zf,TextEncoder:Qf},Symbol.toStringTag,{value:"Module"})),gR=W_(dR);var s1;function pR(){if(s1)return yt;s1=1;var r=yt&&yt.__createBinding||(Object.create?(function(P,K,Z,Q){Q===void 0&&(Q=Z),Object.defineProperty(P,Q,{enumerable:!0,get:function(){return K[Z]}})}):(function(P,K,Z,Q){Q===void 0&&(Q=Z),P[Q]=K[Z]})),e=yt&&yt.__setModuleDefault||(Object.create?(function(P,K){Object.defineProperty(P,"default",{enumerable:!0,value:K})}):function(P,K){P.default=K}),t=yt&&yt.__decorate||function(P,K,Z,Q){var O=arguments.length,m=O<3?K:Q===null?Q=Object.getOwnPropertyDescriptor(K,Z):Q,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(P,K,Z,Q);else for(var A=P.length-1;A>=0;A--)(b=P[A])&&(m=(O<3?b(m):O>3?b(K,Z,m):b(K,Z))||m);return O>3&&m&&Object.defineProperty(K,Z,m),m},i=yt&&yt.__importStar||function(P){if(P&&P.__esModule)return P;var K={};if(P!=null)for(var Z in P)Z!=="default"&&Object.hasOwnProperty.call(P,Z)&&r(K,P,Z);return e(K,P),K},a=yt&&yt.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(yt,"__esModule",{value:!0}),yt.deserializeUnchecked=yt.deserialize=yt.serialize=yt.BinaryReader=yt.BinaryWriter=yt.BorshError=yt.baseDecode=yt.baseEncode=void 0;const o=a(US()),u=a(lR()),f=i(gR),h=typeof TextDecoder!="function"?f.TextDecoder:TextDecoder,g=new h("utf-8",{fatal:!0});function w(P){return typeof P=="string"&&(P=Buffer.from(P,"utf8")),u.default.encode(Buffer.from(P))}yt.baseEncode=w;function _(P){return Buffer.from(u.default.decode(P))}yt.baseDecode=_;const x=1024;class E extends Error{constructor(K){super(K),this.fieldPath=[],this.originalMessage=K}addToFieldPath(K){this.fieldPath.splice(0,0,K),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}yt.BorshError=E;class C{constructor(){this.buf=Buffer.alloc(x),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(x)]))}writeU8(K){this.maybeResize(),this.buf.writeUInt8(K,this.length),this.length+=1}writeU16(K){this.maybeResize(),this.buf.writeUInt16LE(K,this.length),this.length+=2}writeU32(K){this.maybeResize(),this.buf.writeUInt32LE(K,this.length),this.length+=4}writeU64(K){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(K).toArray("le",8)))}writeU128(K){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(K).toArray("le",16)))}writeU256(K){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(K).toArray("le",32)))}writeU512(K){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(K).toArray("le",64)))}writeBuffer(K){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),K,Buffer.alloc(x)]),this.length+=K.length}writeString(K){this.maybeResize();const Z=Buffer.from(K,"utf8");this.writeU32(Z.length),this.writeBuffer(Z)}writeFixedArray(K){this.writeBuffer(Buffer.from(K))}writeArray(K,Z){this.maybeResize(),this.writeU32(K.length);for(const Q of K)this.maybeResize(),Z(Q)}toArray(){return this.buf.subarray(0,this.length)}}yt.BinaryWriter=C;function B(P,K,Z){const Q=Z.value;Z.value=function(...O){try{return Q.apply(this,O)}catch(m){if(m instanceof RangeError){const b=m.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(b)>=0)throw new E("Reached the end of buffer when deserializing")}throw m}}}class k{constructor(K){this.buf=K,this.offset=0}readU8(){const K=this.buf.readUInt8(this.offset);return this.offset+=1,K}readU16(){const K=this.buf.readUInt16LE(this.offset);return this.offset+=2,K}readU32(){const K=this.buf.readUInt32LE(this.offset);return this.offset+=4,K}readU64(){const K=this.readBuffer(8);return new o.default(K,"le")}readU128(){const K=this.readBuffer(16);return new o.default(K,"le")}readU256(){const K=this.readBuffer(32);return new o.default(K,"le")}readU512(){const K=this.readBuffer(64);return new o.default(K,"le")}readBuffer(K){if(this.offset+K>this.buf.length)throw new E(`Expected buffer length ${K} isn't within bounds`);const Z=this.buf.slice(this.offset,this.offset+K);return this.offset+=K,Z}readString(){const K=this.readU32(),Z=this.readBuffer(K);try{return g.decode(Z)}catch(Q){throw new E(`Error decoding UTF-8 string: ${Q}`)}}readFixedArray(K){return new Uint8Array(this.readBuffer(K))}readArray(K){const Z=this.readU32(),Q=Array();for(let O=0;O<Z;++O)Q.push(K());return Q}}t([B],k.prototype,"readU8",null),t([B],k.prototype,"readU16",null),t([B],k.prototype,"readU32",null),t([B],k.prototype,"readU64",null),t([B],k.prototype,"readU128",null),t([B],k.prototype,"readU256",null),t([B],k.prototype,"readU512",null),t([B],k.prototype,"readString",null),t([B],k.prototype,"readFixedArray",null),t([B],k.prototype,"readArray",null),yt.BinaryReader=k;function U(P){return P.charAt(0).toUpperCase()+P.slice(1)}function q(P,K,Z,Q,O){try{if(typeof Q=="string")O[`write${U(Q)}`](Z);else if(Q instanceof Array)if(typeof Q[0]=="number"){if(Z.length!==Q[0])throw new E(`Expecting byte array of length ${Q[0]}, but got ${Z.length} bytes`);O.writeFixedArray(Z)}else if(Q.length===2&&typeof Q[1]=="number"){if(Z.length!==Q[1])throw new E(`Expecting byte array of length ${Q[1]}, but got ${Z.length} bytes`);for(let m=0;m<Q[1];m++)q(P,null,Z[m],Q[0],O)}else O.writeArray(Z,m=>{q(P,K,m,Q[0],O)});else if(Q.kind!==void 0)switch(Q.kind){case"option":{Z==null?O.writeU8(0):(O.writeU8(1),q(P,K,Z,Q.type,O));break}case"map":{O.writeU32(Z.size),Z.forEach((m,b)=>{q(P,K,b,Q.key,O),q(P,K,m,Q.value,O)});break}default:throw new E(`FieldType ${Q} unrecognized`)}else L(P,Z,O)}catch(m){throw m instanceof E&&m.addToFieldPath(K),m}}function L(P,K,Z){if(typeof K.borshSerialize=="function"){K.borshSerialize(Z);return}const Q=P.get(K.constructor);if(!Q)throw new E(`Class ${K.constructor.name} is missing in schema`);if(Q.kind==="struct")Q.fields.map(([O,m])=>{q(P,O,K[O],m,Z)});else if(Q.kind==="enum"){const O=K[Q.field];for(let m=0;m<Q.values.length;++m){const[b,A]=Q.values[m];if(b===O){Z.writeU8(m),q(P,b,K[b],A,Z);break}}}else throw new E(`Unexpected schema kind: ${Q.kind} for ${K.constructor.name}`)}function G(P,K,Z=C){const Q=new Z;return L(P,K,Q),Q.toArray()}yt.serialize=G;function te(P,K,Z,Q){try{if(typeof Z=="string")return Q[`read${U(Z)}`]();if(Z instanceof Array){if(typeof Z[0]=="number")return Q.readFixedArray(Z[0]);if(typeof Z[1]=="number"){const O=[];for(let m=0;m<Z[1];m++)O.push(te(P,null,Z[0],Q));return O}else return Q.readArray(()=>te(P,K,Z[0],Q))}if(Z.kind==="option")return Q.readU8()?te(P,K,Z.type,Q):void 0;if(Z.kind==="map"){let O=new Map;const m=Q.readU32();for(let b=0;b<m;b++){const A=te(P,K,Z.key,Q),N=te(P,K,Z.value,Q);O.set(A,N)}return O}return J(P,Z,Q)}catch(O){throw O instanceof E&&O.addToFieldPath(K),O}}function J(P,K,Z){if(typeof K.borshDeserialize=="function")return K.borshDeserialize(Z);const Q=P.get(K);if(!Q)throw new E(`Class ${K.name} is missing in schema`);if(Q.kind==="struct"){const O={};for(const[m,b]of P.get(K).fields)O[m]=te(P,m,b,Z);return new K(O)}if(Q.kind==="enum"){const O=Z.readU8();if(O>=Q.values.length)throw new E(`Enum index: ${O} is out of range`);const[m,b]=Q.values[O],A=te(P,m,b,Z);return new K({[m]:A})}throw new E(`Unexpected schema kind: ${Q.kind} for ${K.constructor.name}`)}function se(P,K,Z,Q=k){const O=new Q(Z),m=J(P,K,O);if(O.offset<Z.length)throw new E(`Unexpected ${Z.length-O.offset} bytes after deserialized data`);return m}yt.deserialize=se;function oe(P,K,Z,Q=k){const O=new Q(Z);return J(P,K,O)}return yt.deserializeUnchecked=oe,yt}var sg=pR(),ge={},a1;function mR(){if(a1)return ge;a1=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.s16=ge.s8=ge.nu64be=ge.u48be=ge.u40be=ge.u32be=ge.u24be=ge.u16be=ge.nu64=ge.u48=ge.u40=ge.u32=ge.u24=ge.u16=ge.u8=ge.offset=ge.greedy=ge.Constant=ge.UTF8=ge.CString=ge.Blob=ge.Boolean=ge.BitField=ge.BitStructure=ge.VariantLayout=ge.Union=ge.UnionLayoutDiscriminator=ge.UnionDiscriminator=ge.Structure=ge.Sequence=ge.DoubleBE=ge.Double=ge.FloatBE=ge.Float=ge.NearInt64BE=ge.NearInt64=ge.NearUInt64BE=ge.NearUInt64=ge.IntBE=ge.Int=ge.UIntBE=ge.UInt=ge.OffsetLayout=ge.GreedyCount=ge.ExternalLayout=ge.bindConstructorLayout=ge.nameWithProperty=ge.Layout=ge.uint8ArrayToBuffer=ge.checkUint8Array=void 0,ge.constant=ge.utf8=ge.cstr=ge.blob=ge.unionLayoutDiscriminator=ge.union=ge.seq=ge.bits=ge.struct=ge.f64be=ge.f64=ge.f32be=ge.f32=ge.ns64be=ge.s48be=ge.s40be=ge.s32be=ge.s24be=ge.s16be=ge.ns64=ge.s48=ge.s40=ge.s32=ge.s24=void 0;const r=dh();function e(y){if(!(y instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}ge.checkUint8Array=e;function t(y){return e(y),r.Buffer.from(y.buffer,y.byteOffset,y.length)}ge.uint8ArrayToBuffer=t;let i=class{constructor(v,I){if(!Number.isInteger(v))throw new TypeError("span must be an integer");this.span=v,this.property=I}makeDestinationObject(){return{}}getSpan(v,I){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(v){const I=Object.create(this.constructor.prototype);return Object.assign(I,this),I.property=v,I}fromArray(v){}};ge.Layout=i;function a(y,v){return v.property?y+"["+v.property+"]":y}ge.nameWithProperty=a;function o(y,v){if(typeof y!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(y,"layout_"))throw new Error("Class is already bound to a layout");if(!(v&&v instanceof i))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(v,"boundConstructor_"))throw new Error("layout is already bound to a constructor");y.layout_=v,v.boundConstructor_=y,v.makeDestinationObject=(()=>new y),Object.defineProperty(y.prototype,"encode",{value(I,H){return v.encode(this,I,H)},writable:!0}),Object.defineProperty(y,"decode",{value(I,H){return v.decode(I,H)},writable:!0})}ge.bindConstructorLayout=o;class u extends i{isCount(){throw new Error("ExternalLayout is abstract")}}ge.ExternalLayout=u;class f extends u{constructor(v=1,I){if(!Number.isInteger(v)||0>=v)throw new TypeError("elementSpan must be a (positive) integer");super(-1,I),this.elementSpan=v}isCount(){return!0}decode(v,I=0){e(v);const H=v.length-I;return Math.floor(H/this.elementSpan)}encode(v,I,H){return 0}}ge.GreedyCount=f;class h extends u{constructor(v,I=0,H){if(!(v instanceof i))throw new TypeError("layout must be a Layout");if(!Number.isInteger(I))throw new TypeError("offset must be integer or undefined");super(v.span,H||v.property),this.layout=v,this.offset=I}isCount(){return this.layout instanceof g||this.layout instanceof w}decode(v,I=0){return this.layout.decode(v,I+this.offset)}encode(v,I,H=0){return this.layout.encode(v,I,H+this.offset)}}ge.OffsetLayout=h;class g extends i{constructor(v,I){if(super(v,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,I=0){return t(v).readUIntLE(I,this.span)}encode(v,I,H=0){return t(I).writeUIntLE(v,H,this.span),this.span}}ge.UInt=g;class w extends i{constructor(v,I){if(super(v,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,I=0){return t(v).readUIntBE(I,this.span)}encode(v,I,H=0){return t(I).writeUIntBE(v,H,this.span),this.span}}ge.UIntBE=w;class _ extends i{constructor(v,I){if(super(v,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,I=0){return t(v).readIntLE(I,this.span)}encode(v,I,H=0){return t(I).writeIntLE(v,H,this.span),this.span}}ge.Int=_;class x extends i{constructor(v,I){if(super(v,I),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,I=0){return t(v).readIntBE(I,this.span)}encode(v,I,H=0){return t(I).writeIntBE(v,H,this.span),this.span}}ge.IntBE=x;const E=Math.pow(2,32);function C(y){const v=Math.floor(y/E),I=y-v*E;return{hi32:v,lo32:I}}function B(y,v){return y*E+v}class k extends i{constructor(v){super(8,v)}decode(v,I=0){const H=t(v),ee=H.readUInt32LE(I),le=H.readUInt32LE(I+4);return B(le,ee)}encode(v,I,H=0){const ee=C(v),le=t(I);return le.writeUInt32LE(ee.lo32,H),le.writeUInt32LE(ee.hi32,H+4),8}}ge.NearUInt64=k;class U extends i{constructor(v){super(8,v)}decode(v,I=0){const H=t(v),ee=H.readUInt32BE(I),le=H.readUInt32BE(I+4);return B(ee,le)}encode(v,I,H=0){const ee=C(v),le=t(I);return le.writeUInt32BE(ee.hi32,H),le.writeUInt32BE(ee.lo32,H+4),8}}ge.NearUInt64BE=U;class q extends i{constructor(v){super(8,v)}decode(v,I=0){const H=t(v),ee=H.readUInt32LE(I),le=H.readInt32LE(I+4);return B(le,ee)}encode(v,I,H=0){const ee=C(v),le=t(I);return le.writeUInt32LE(ee.lo32,H),le.writeInt32LE(ee.hi32,H+4),8}}ge.NearInt64=q;class L extends i{constructor(v){super(8,v)}decode(v,I=0){const H=t(v),ee=H.readInt32BE(I),le=H.readUInt32BE(I+4);return B(ee,le)}encode(v,I,H=0){const ee=C(v),le=t(I);return le.writeInt32BE(ee.hi32,H),le.writeUInt32BE(ee.lo32,H+4),8}}ge.NearInt64BE=L;class G extends i{constructor(v){super(4,v)}decode(v,I=0){return t(v).readFloatLE(I)}encode(v,I,H=0){return t(I).writeFloatLE(v,H),4}}ge.Float=G;class te extends i{constructor(v){super(4,v)}decode(v,I=0){return t(v).readFloatBE(I)}encode(v,I,H=0){return t(I).writeFloatBE(v,H),4}}ge.FloatBE=te;class J extends i{constructor(v){super(8,v)}decode(v,I=0){return t(v).readDoubleLE(I)}encode(v,I,H=0){return t(I).writeDoubleLE(v,H),8}}ge.Double=J;class se extends i{constructor(v){super(8,v)}decode(v,I=0){return t(v).readDoubleBE(I)}encode(v,I,H=0){return t(I).writeDoubleBE(v,H),8}}ge.DoubleBE=se;class oe extends i{constructor(v,I,H){if(!(v instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(I instanceof u&&I.isCount()||Number.isInteger(I)&&0<=I))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let ee=-1;!(I instanceof u)&&0<v.span&&(ee=I*v.span),super(ee,H),this.elementLayout=v,this.count=I}getSpan(v,I=0){if(0<=this.span)return this.span;let H=0,ee=this.count;if(ee instanceof u&&(ee=ee.decode(v,I)),0<this.elementLayout.span)H=ee*this.elementLayout.span;else{let le=0;for(;le<ee;)H+=this.elementLayout.getSpan(v,I+H),++le}return H}decode(v,I=0){const H=[];let ee=0,le=this.count;for(le instanceof u&&(le=le.decode(v,I));ee<le;)H.push(this.elementLayout.decode(v,I)),I+=this.elementLayout.getSpan(v,I),ee+=1;return H}encode(v,I,H=0){const ee=this.elementLayout,le=v.reduce((be,Ee)=>be+ee.encode(Ee,I,H+be),0);return this.count instanceof u&&this.count.encode(v.length,I,H),le}}ge.Sequence=oe;class P extends i{constructor(v,I,H){if(!(Array.isArray(v)&&v.reduce((le,be)=>le&&be instanceof i,!0)))throw new TypeError("fields must be array of Layout instances");typeof I=="boolean"&&H===void 0&&(H=I,I=void 0);for(const le of v)if(0>le.span&&le.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let ee=-1;try{ee=v.reduce((le,be)=>le+be.getSpan(),0)}catch{}super(ee,I),this.fields=v,this.decodePrefixes=!!H}getSpan(v,I=0){if(0<=this.span)return this.span;let H=0;try{H=this.fields.reduce((ee,le)=>{const be=le.getSpan(v,I);return I+=be,ee+be},0)}catch{throw new RangeError("indeterminate span")}return H}decode(v,I=0){e(v);const H=this.makeDestinationObject();for(const ee of this.fields)if(ee.property!==void 0&&(H[ee.property]=ee.decode(v,I)),I+=ee.getSpan(v,I),this.decodePrefixes&&v.length===I)break;return H}encode(v,I,H=0){const ee=H;let le=0,be=0;for(const Ee of this.fields){let Ge=Ee.span;if(be=0<Ge?Ge:0,Ee.property!==void 0){const st=v[Ee.property];st!==void 0&&(be=Ee.encode(st,I,H),0>Ge&&(Ge=Ee.getSpan(I,H)))}le=H,H+=Ge}return le+be-ee}fromArray(v){const I=this.makeDestinationObject();for(const H of this.fields)H.property!==void 0&&0<v.length&&(I[H.property]=v.shift());return I}layoutFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const I of this.fields)if(I.property===v)return I}offsetOf(v){if(typeof v!="string")throw new TypeError("property must be string");let I=0;for(const H of this.fields){if(H.property===v)return I;0>H.span?I=-1:0<=I&&(I+=H.span)}}}ge.Structure=P;class K{constructor(v){this.property=v}decode(v,I){throw new Error("UnionDiscriminator is abstract")}encode(v,I,H){throw new Error("UnionDiscriminator is abstract")}}ge.UnionDiscriminator=K;class Z extends K{constructor(v,I){if(!(v instanceof u&&v.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(I||v.property||"variant"),this.layout=v}decode(v,I){return this.layout.decode(v,I)}encode(v,I,H){return this.layout.encode(v,I,H)}}ge.UnionLayoutDiscriminator=Z;class Q extends i{constructor(v,I,H){let ee;if(v instanceof g||v instanceof w)ee=new Z(new h(v));else if(v instanceof u&&v.isCount())ee=new Z(v);else if(v instanceof K)ee=v;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(I===void 0&&(I=null),!(I===null||I instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(I!==null){if(0>I.span)throw new Error("defaultLayout must have constant span");I.property===void 0&&(I=I.replicate("content"))}let le=-1;I&&(le=I.span,0<=le&&(v instanceof g||v instanceof w)&&(le+=ee.layout.span)),super(le,H),this.discriminator=ee,this.usesPrefixDiscriminator=v instanceof g||v instanceof w,this.defaultLayout=I,this.registry={};let be=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Ee){return be(Ee)},this.configGetSourceVariant=function(Ee){be=Ee.bind(this)}}getSpan(v,I=0){if(0<=this.span)return this.span;const H=this.getVariant(v,I);if(!H)throw new Error("unable to determine span for unrecognized variant");return H.getSpan(v,I)}defaultGetSourceVariant(v){if(Object.prototype.hasOwnProperty.call(v,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(v,this.defaultLayout.property))return;const I=this.registry[v[this.discriminator.property]];if(I&&(!I.layout||I.property&&Object.prototype.hasOwnProperty.call(v,I.property)))return I}else for(const I in this.registry){const H=this.registry[I];if(H.property&&Object.prototype.hasOwnProperty.call(v,H.property))return H}throw new Error("unable to infer src variant")}decode(v,I=0){let H;const ee=this.discriminator,le=ee.decode(v,I),be=this.registry[le];if(be===void 0){const Ee=this.defaultLayout;let Ge=0;this.usesPrefixDiscriminator&&(Ge=ee.layout.span),H=this.makeDestinationObject(),H[ee.property]=le,H[Ee.property]=Ee.decode(v,I+Ge)}else H=be.decode(v,I);return H}encode(v,I,H=0){const ee=this.getSourceVariant(v);if(ee===void 0){const le=this.discriminator,be=this.defaultLayout;let Ee=0;return this.usesPrefixDiscriminator&&(Ee=le.layout.span),le.encode(v[le.property],I,H),Ee+be.encode(v[be.property],I,H+Ee)}return ee.encode(v,I,H)}addVariant(v,I,H){const ee=new O(this,v,I,H);return this.registry[v]=ee,ee}getVariant(v,I=0){let H;return v instanceof Uint8Array?H=this.discriminator.decode(v,I):H=v,this.registry[H]}}ge.Union=Q;class O extends i{constructor(v,I,H,ee){if(!(v instanceof Q))throw new TypeError("union must be a Union");if(!Number.isInteger(I)||0>I)throw new TypeError("variant must be a (non-negative) integer");if(typeof H=="string"&&ee===void 0&&(ee=H,H=null),H){if(!(H instanceof i))throw new TypeError("layout must be a Layout");if(v.defaultLayout!==null&&0<=H.span&&H.span>v.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof ee!="string")throw new TypeError("variant must have a String property")}let le=v.span;0>v.span&&(le=H?H.span:0,0<=le&&v.usesPrefixDiscriminator&&(le+=v.discriminator.layout.span)),super(le,ee),this.union=v,this.variant=I,this.layout=H||null}getSpan(v,I=0){if(0<=this.span)return this.span;let H=0;this.union.usesPrefixDiscriminator&&(H=this.union.discriminator.layout.span);let ee=0;return this.layout&&(ee=this.layout.getSpan(v,I+H)),H+ee}decode(v,I=0){const H=this.makeDestinationObject();if(this!==this.union.getVariant(v,I))throw new Error("variant mismatch");let ee=0;return this.union.usesPrefixDiscriminator&&(ee=this.union.discriminator.layout.span),this.layout?H[this.property]=this.layout.decode(v,I+ee):this.property?H[this.property]=!0:this.union.usesPrefixDiscriminator&&(H[this.union.discriminator.property]=this.variant),H}encode(v,I,H=0){let ee=0;if(this.union.usesPrefixDiscriminator&&(ee=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(v,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,I,H);let le=ee;if(this.layout&&(this.layout.encode(v[this.property],I,H+ee),le+=this.layout.getSpan(I,H+ee),0<=this.union.span&&le>this.union.span))throw new Error("encoded variant overruns containing union");return le}fromArray(v){if(this.layout)return this.layout.fromArray(v)}}ge.VariantLayout=O;function m(y){return 0>y&&(y+=4294967296),y}class b extends i{constructor(v,I,H){if(!(v instanceof g||v instanceof w))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof I=="string"&&H===void 0&&(H=I,I=!1),4<v.span)throw new RangeError("word cannot exceed 32 bits");super(v.span,H),this.word=v,this.msb=!!I,this.fields=[];let ee=0;this._packedSetValue=function(le){return ee=m(le),this},this._packedGetValue=function(){return ee}}decode(v,I=0){const H=this.makeDestinationObject(),ee=this.word.decode(v,I);this._packedSetValue(ee);for(const le of this.fields)le.property!==void 0&&(H[le.property]=le.decode(v));return H}encode(v,I,H=0){const ee=this.word.decode(I,H);this._packedSetValue(ee);for(const le of this.fields)if(le.property!==void 0){const be=v[le.property];be!==void 0&&le.encode(be)}return this.word.encode(this._packedGetValue(),I,H)}addField(v,I){const H=new A(this,v,I);return this.fields.push(H),H}addBoolean(v){const I=new N(this,v);return this.fields.push(I),I}fieldFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const I of this.fields)if(I.property===v)return I}}ge.BitStructure=b;class A{constructor(v,I,H){if(!(v instanceof b))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(I)||0>=I)throw new TypeError("bits must be positive integer");const ee=8*v.span,le=v.fields.reduce((be,Ee)=>be+Ee.bits,0);if(I+le>ee)throw new Error("bits too long for span remainder ("+(ee-le)+" of "+ee+" remain)");this.container=v,this.bits=I,this.valueMask=(1<<I)-1,I===32&&(this.valueMask=4294967295),this.start=le,this.container.msb&&(this.start=ee-le-I),this.wordMask=m(this.valueMask<<this.start),this.property=H}decode(v,I){const H=this.container._packedGetValue();return m(H&this.wordMask)>>>this.start}encode(v){if(typeof v!="number"||!Number.isInteger(v)||v!==m(v&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const I=this.container._packedGetValue(),H=m(v<<this.start);this.container._packedSetValue(m(I&~this.wordMask)|H)}}ge.BitField=A;class N extends A{constructor(v,I){super(v,1,I)}decode(v,I){return!!super.decode(v,I)}encode(v){typeof v=="boolean"&&(v=+v),super.encode(v)}}ge.Boolean=N;class D extends i{constructor(v,I){if(!(v instanceof u&&v.isCount()||Number.isInteger(v)&&0<=v))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let H=-1;v instanceof u||(H=v),super(H,I),this.length=v}getSpan(v,I){let H=this.span;return 0>H&&(H=this.length.decode(v,I)),H}decode(v,I=0){let H=this.span;return 0>H&&(H=this.length.decode(v,I)),t(v).slice(I,I+H)}encode(v,I,H){let ee=this.length;if(this.length instanceof u&&(ee=v.length),!(v instanceof Uint8Array&&ee===v.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+ee+") Uint8Array as src");if(H+ee>I.length)throw new RangeError("encoding overruns Uint8Array");const le=t(v);return t(I).write(le.toString("hex"),H,ee,"hex"),this.length instanceof u&&this.length.encode(ee,I,H),ee}}ge.Blob=D;class $ extends i{constructor(v){super(-1,v)}getSpan(v,I=0){e(v);let H=I;for(;H<v.length&&v[H]!==0;)H+=1;return 1+H-I}decode(v,I=0){const H=this.getSpan(v,I);return t(v).slice(I,I+H-1).toString("utf-8")}encode(v,I,H=0){typeof v!="string"&&(v=String(v));const ee=r.Buffer.from(v,"utf8"),le=ee.length;if(H+le>I.length)throw new RangeError("encoding overruns Buffer");const be=t(I);return ee.copy(be,H),be[H+le]=0,le+1}}ge.CString=$;class F extends i{constructor(v,I){if(typeof v=="string"&&I===void 0&&(I=v,v=void 0),v===void 0)v=-1;else if(!Number.isInteger(v))throw new TypeError("maxSpan must be an integer");super(-1,I),this.maxSpan=v}getSpan(v,I=0){return e(v),v.length-I}decode(v,I=0){const H=this.getSpan(v,I);if(0<=this.maxSpan&&this.maxSpan<H)throw new RangeError("text length exceeds maxSpan");return t(v).slice(I,I+H).toString("utf-8")}encode(v,I,H=0){typeof v!="string"&&(v=String(v));const ee=r.Buffer.from(v,"utf8"),le=ee.length;if(0<=this.maxSpan&&this.maxSpan<le)throw new RangeError("text length exceeds maxSpan");if(H+le>I.length)throw new RangeError("encoding overruns Buffer");return ee.copy(t(I),H),le}}ge.UTF8=F;class T extends i{constructor(v,I){super(0,I),this.value=v}decode(v,I){return this.value}encode(v,I,H){return 0}}return ge.Constant=T,ge.greedy=((y,v)=>new f(y,v)),ge.offset=((y,v,I)=>new h(y,v,I)),ge.u8=(y=>new g(1,y)),ge.u16=(y=>new g(2,y)),ge.u24=(y=>new g(3,y)),ge.u32=(y=>new g(4,y)),ge.u40=(y=>new g(5,y)),ge.u48=(y=>new g(6,y)),ge.nu64=(y=>new k(y)),ge.u16be=(y=>new w(2,y)),ge.u24be=(y=>new w(3,y)),ge.u32be=(y=>new w(4,y)),ge.u40be=(y=>new w(5,y)),ge.u48be=(y=>new w(6,y)),ge.nu64be=(y=>new U(y)),ge.s8=(y=>new _(1,y)),ge.s16=(y=>new _(2,y)),ge.s24=(y=>new _(3,y)),ge.s32=(y=>new _(4,y)),ge.s40=(y=>new _(5,y)),ge.s48=(y=>new _(6,y)),ge.ns64=(y=>new q(y)),ge.s16be=(y=>new x(2,y)),ge.s24be=(y=>new x(3,y)),ge.s32be=(y=>new x(4,y)),ge.s40be=(y=>new x(5,y)),ge.s48be=(y=>new x(6,y)),ge.ns64be=(y=>new L(y)),ge.f32=(y=>new G(y)),ge.f32be=(y=>new te(y)),ge.f64=(y=>new J(y)),ge.f64be=(y=>new se(y)),ge.struct=((y,v,I)=>new P(y,v,I)),ge.bits=((y,v,I)=>new b(y,v,I)),ge.seq=((y,v,I)=>new oe(y,v,I)),ge.union=((y,v,I)=>new Q(y,v,I)),ge.unionLayoutDiscriminator=((y,v)=>new Z(y,v)),ge.blob=((y,v)=>new D(y,v)),ge.cstr=(y=>new $(y)),ge.utf8=((y,v)=>new F(y,v)),ge.constant=((y,v)=>new T(y,v)),ge}var Y=mR(),yR=8078e3,wR=8078001,vR=8078004,bR=8078005,_R=8078006,SR=8078011;function zS(r){return Array.isArray(r)?"%5B"+r.map(zS).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function ER([r,e]){return`${r}=${zS(e)}`}function AR(r){const e=Object.entries(r).map(ER).join("&");return btoa(e)}function xR(r,e={}){{let t=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(e).length&&(t+=` '${AR(e)}'`),`${t}\``}}var Vo=class extends Error{cause=this.cause;context;constructor(...[r,e]){let t,i;if(e){const{cause:o,...u}=e;o&&(i={cause:o}),Object.keys(u).length>0&&(t=u)}const a=xR(r,t);super(a,i),this.context={__code:r,...t},this.name="SolanaError"}};function MR(r,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(r)}function TR(r){return Object.freeze({...r,encode:e=>{const t=new Uint8Array(MR(e,r));return r.write(e,t,0),t}})}function RR(r){return Object.freeze({...r,decode:(e,t=0)=>r.read(e,t)[0]})}function Mo(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function CR(r,e){if(Mo(r)!==Mo(e))throw new Vo(vR);if(Mo(r)&&Mo(e)&&r.fixedSize!==e.fixedSize)throw new Vo(bR,{decoderFixedSize:e.fixedSize,encoderFixedSize:r.fixedSize});if(!Mo(r)&&!Mo(e)&&r.maxSize!==e.maxSize)throw new Vo(_R,{decoderMaxSize:e.maxSize,encoderMaxSize:r.maxSize});return{...e,...r,decode:e.decode,encode:r.encode,read:e.read,write:r.write}}function BR(r,e,t=0){if(e.length-t<=0)throw new Vo(yR,{codecDescription:r})}function OR(r,e,t,i=0){const a=t.length-i;if(a<e)throw new Vo(wR,{bytesLength:a,codecDescription:r,expected:e})}function NR(r,e,t,i){if(i<e||i>t)throw new Vo(SR,{codecDescription:r,max:t,min:e,value:i})}function qS(r){return r?.endian!==1}function kR(r){return TR({fixedSize:r.size,write(e,t,i){r.range&&NR(r.name,r.range[0],r.range[1],e);const a=new ArrayBuffer(r.size);return r.set(new DataView(a),e,qS(r.config)),t.set(new Uint8Array(a),i),i+r.size}})}function IR(r){return RR({fixedSize:r.size,read(e,t=0){BR(r.name,e,t),OR(r.name,r.size,e,t);const i=new DataView(LR(e,t,r.size));return[r.get(i,qS(r.config)),t+r.size]}})}function LR(r,e,t){const i=r.byteOffset+(e??0),a=t??r.byteLength;return r.buffer.slice(i,i+a)}var jR=(r={})=>kR({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,i)=>e.setBigUint64(0,BigInt(t),i),size:8}),UR=(r={})=>IR({config:r,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),DR=(r={})=>CR(jR(r),UR(r));class zR extends TypeError{constructor(e,t){let i;const{message:a,explanation:o,...u}=e,{path:f}=e,h=f.length===0?a:`At path: ${f.join(".")} -- ${a}`;super(o??h),o!=null&&(this.cause=h),Object.assign(this,u),this.name=this.constructor.name,this.failures=()=>i??(i=[e,...t()])}}function qR(r){return zu(r)&&typeof r[Symbol.iterator]=="function"}function zu(r){return typeof r=="object"&&r!=null}function Jf(r){return zu(r)&&!Array.isArray(r)}function Gr(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function HR(r){const{done:e,value:t}=r.next();return e?void 0:t}function PR(r,e,t,i){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:a,branch:o}=e,{type:u}=t,{refinement:f,message:h=`Expected a value of type \`${u}\`${f?` with refinement \`${f}\``:""}, but received: \`${Gr(i)}\``}=r;return{value:i,type:u,refinement:f,key:a[a.length-1],path:a,branch:o,...r,message:h}}function*o1(r,e,t,i){qR(r)||(r=[r]);for(const a of r){const o=PR(a,e,t,i);o&&(yield o)}}function*wm(r,e,t={}){const{path:i=[],branch:a=[r],coerce:o=!1,mask:u=!1}=t,f={path:i,branch:a,mask:u};o&&(r=e.coercer(r,f));let h="valid";for(const g of e.validator(r,f))g.explanation=t.message,h="not_valid",yield[g,void 0];for(let[g,w,_]of e.entries(r,f)){const x=wm(w,_,{path:g===void 0?i:[...i,g],branch:g===void 0?a:[...a,w],coerce:o,mask:u,message:t.message});for(const E of x)E[0]?(h=E[0].refinement!=null?"not_refined":"not_valid",yield[E[0],void 0]):o&&(w=E[1],g===void 0?r=w:r instanceof Map?r.set(g,w):r instanceof Set?r.add(w):zu(r)&&(w!==void 0||g in r)&&(r[g]=w))}if(h!=="not_valid")for(const g of e.refiner(r,f))g.explanation=t.message,h="not_refined",yield[g,void 0];h==="valid"&&(yield[void 0,r])}let li=class{constructor(e){const{type:t,schema:i,validator:a,refiner:o,coercer:u=h=>h,entries:f=function*(){}}=e;this.type=t,this.schema=i,this.entries=f,this.coercer=u,a?this.validator=(h,g)=>{const w=a(h,g);return o1(w,g,this,h)}:this.validator=()=>[],o?this.refiner=(h,g)=>{const w=o(h,g);return o1(w,g,this,h)}:this.refiner=()=>[]}assert(e,t){return WR(e,this,t)}create(e,t){return Me(e,this,t)}is(e){return HS(e,this)}mask(e,t){return $R(e,this,t)}validate(e,t={}){return qu(e,this,t)}};function WR(r,e,t){const i=qu(r,e,{message:t});if(i[0])throw i[0]}function Me(r,e,t){const i=qu(r,e,{coerce:!0,message:t});if(i[0])throw i[0];return i[1]}function $R(r,e,t){const i=qu(r,e,{coerce:!0,mask:!0,message:t});if(i[0])throw i[0];return i[1]}function HS(r,e){return!qu(r,e)[0]}function qu(r,e,t={}){const i=wm(r,e,t),a=HR(i);return a[0]?[new zR(a[0],function*(){for(const u of i)u[0]&&(yield u[0])}),void 0]:[void 0,a[1]]}function Na(r,e){return new li({type:r,schema:null,validator:e})}function KR(){return Na("any",()=>!0)}function Te(r){return new li({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,i]of e.entries())yield[t,i,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Gr(e)}`}})}function oi(){return Na("boolean",r=>typeof r=="boolean")}function vm(r){return Na("instance",e=>e instanceof r||`Expected a \`${r.name}\` instance, but received: ${Gr(e)}`)}function en(r){const e=Gr(r),t=typeof r;return new li({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(i){return i===r||`Expected the literal \`${e}\`, but received: ${Gr(i)}`}})}function FR(){return Na("never",()=>!1)}function Re(r){return new li({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function ce(){return Na("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${Gr(r)}`)}function Ue(r){return new li({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function PS(r,e){return new li({type:"record",schema:null,*entries(t){if(zu(t))for(const i in t){const a=t[i];yield[i,i,r],yield[i,a,e]}},validator(t){return Jf(t)||`Expected an object, but received: ${Gr(t)}`},coercer(t){return Jf(t)?{...t}:t}})}function Ae(){return Na("string",r=>typeof r=="string"||`Expected a string, but received: ${Gr(r)}`)}function bm(r){const e=FR();return new li({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const i=Math.max(r.length,t.length);for(let a=0;a<i;a++)yield[a,t[a],r[a]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Gr(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Se(r){const e=Object.keys(r);return new li({type:"type",schema:r,*entries(t){if(zu(t))for(const i of e)yield[i,t[i],r[i]]},validator(t){return Jf(t)||`Expected an object, but received: ${Gr(t)}`},coercer(t){return Jf(t)?{...t}:t}})}function er(r){const e=r.map(t=>t.type).join(" | ");return new li({type:"union",schema:null,coercer(t,i){for(const a of r){const[o,u]=a.validate(t,{coerce:!0,mask:i.mask});if(!o)return u}return t},validator(t,i){const a=[];for(const o of r){const[...u]=wm(t,o,i),[f]=u;if(f[0])for(const[h]of u)h&&a.push(h);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Gr(t)}`,...a]}})}function ol(){return Na("unknown",()=>!0)}function Hu(r,e,t){return new li({...r,coercer:(i,a)=>HS(i,e)?r.coercer(t(i,a),a):r.coercer(i,a)})}var cf,GR=new Uint8Array(16);function WS(){if(!cf&&(cf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!cf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cf(GR)}const VR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mh(r){return typeof r=="string"&&VR.test(r)}var Un=[];for(var ag=0;ag<256;++ag)Un.push((ag+256).toString(16).substr(1));function yh(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Un[r[e+0]]+Un[r[e+1]]+Un[r[e+2]]+Un[r[e+3]]+"-"+Un[r[e+4]]+Un[r[e+5]]+"-"+Un[r[e+6]]+Un[r[e+7]]+"-"+Un[r[e+8]]+Un[r[e+9]]+"-"+Un[r[e+10]]+Un[r[e+11]]+Un[r[e+12]]+Un[r[e+13]]+Un[r[e+14]]+Un[r[e+15]]).toLowerCase();if(!mh(t))throw TypeError("Stringified UUID is invalid");return t}var l1,og,lg=0,ug=0;function YR(r,e,t){var i=e&&t||0,a=e||new Array(16);r=r||{};var o=r.node||l1,u=r.clockseq!==void 0?r.clockseq:og;if(o==null||u==null){var f=r.random||(r.rng||WS)();o==null&&(o=l1=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),u==null&&(u=og=(f[6]<<8|f[7])&16383)}var h=r.msecs!==void 0?r.msecs:Date.now(),g=r.nsecs!==void 0?r.nsecs:ug+1,w=h-lg+(g-ug)/1e4;if(w<0&&r.clockseq===void 0&&(u=u+1&16383),(w<0||h>lg)&&r.nsecs===void 0&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");lg=h,ug=g,og=u,h+=122192928e5;var _=((h&268435455)*1e4+g)%4294967296;a[i++]=_>>>24&255,a[i++]=_>>>16&255,a[i++]=_>>>8&255,a[i++]=_&255;var x=h/4294967296*1e4&268435455;a[i++]=x>>>8&255,a[i++]=x&255,a[i++]=x>>>24&15|16,a[i++]=x>>>16&255,a[i++]=u>>>8|128,a[i++]=u&255;for(var E=0;E<6;++E)a[i+E]=o[E];return e||yh(a)}function $S(r){if(!mh(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function ZR(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var QR="6ba7b810-9dad-11d1-80b4-00c04fd430c8",JR="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function KS(r,e,t){function i(a,o,u,f){if(typeof a=="string"&&(a=ZR(a)),typeof o=="string"&&(o=$S(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+a.length);if(h.set(o),h.set(a,o.length),h=t(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,u){f=f||0;for(var g=0;g<16;++g)u[f+g]=h[g];return u}return yh(h)}try{i.name=r}catch{}return i.DNS=QR,i.URL=JR,i}function XR(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return e4(t4(n4(r),r.length*8))}function e4(r){for(var e=[],t=r.length*32,i="0123456789abcdef",a=0;a<t;a+=8){var o=r[a>>5]>>>a%32&255,u=parseInt(i.charAt(o>>>4&15)+i.charAt(o&15),16);e.push(u)}return e}function FS(r){return(r+64>>>9<<4)+14+1}function t4(r,e){r[e>>5]|=128<<e%32,r[FS(e)-1]=e;for(var t=1732584193,i=-271733879,a=-1732584194,o=271733878,u=0;u<r.length;u+=16){var f=t,h=i,g=a,w=o;t=$n(t,i,a,o,r[u],7,-680876936),o=$n(o,t,i,a,r[u+1],12,-389564586),a=$n(a,o,t,i,r[u+2],17,606105819),i=$n(i,a,o,t,r[u+3],22,-1044525330),t=$n(t,i,a,o,r[u+4],7,-176418897),o=$n(o,t,i,a,r[u+5],12,1200080426),a=$n(a,o,t,i,r[u+6],17,-1473231341),i=$n(i,a,o,t,r[u+7],22,-45705983),t=$n(t,i,a,o,r[u+8],7,1770035416),o=$n(o,t,i,a,r[u+9],12,-1958414417),a=$n(a,o,t,i,r[u+10],17,-42063),i=$n(i,a,o,t,r[u+11],22,-1990404162),t=$n(t,i,a,o,r[u+12],7,1804603682),o=$n(o,t,i,a,r[u+13],12,-40341101),a=$n(a,o,t,i,r[u+14],17,-1502002290),i=$n(i,a,o,t,r[u+15],22,1236535329),t=Kn(t,i,a,o,r[u+1],5,-165796510),o=Kn(o,t,i,a,r[u+6],9,-1069501632),a=Kn(a,o,t,i,r[u+11],14,643717713),i=Kn(i,a,o,t,r[u],20,-373897302),t=Kn(t,i,a,o,r[u+5],5,-701558691),o=Kn(o,t,i,a,r[u+10],9,38016083),a=Kn(a,o,t,i,r[u+15],14,-660478335),i=Kn(i,a,o,t,r[u+4],20,-405537848),t=Kn(t,i,a,o,r[u+9],5,568446438),o=Kn(o,t,i,a,r[u+14],9,-1019803690),a=Kn(a,o,t,i,r[u+3],14,-187363961),i=Kn(i,a,o,t,r[u+8],20,1163531501),t=Kn(t,i,a,o,r[u+13],5,-1444681467),o=Kn(o,t,i,a,r[u+2],9,-51403784),a=Kn(a,o,t,i,r[u+7],14,1735328473),i=Kn(i,a,o,t,r[u+12],20,-1926607734),t=Fn(t,i,a,o,r[u+5],4,-378558),o=Fn(o,t,i,a,r[u+8],11,-2022574463),a=Fn(a,o,t,i,r[u+11],16,1839030562),i=Fn(i,a,o,t,r[u+14],23,-35309556),t=Fn(t,i,a,o,r[u+1],4,-1530992060),o=Fn(o,t,i,a,r[u+4],11,1272893353),a=Fn(a,o,t,i,r[u+7],16,-155497632),i=Fn(i,a,o,t,r[u+10],23,-1094730640),t=Fn(t,i,a,o,r[u+13],4,681279174),o=Fn(o,t,i,a,r[u],11,-358537222),a=Fn(a,o,t,i,r[u+3],16,-722521979),i=Fn(i,a,o,t,r[u+6],23,76029189),t=Fn(t,i,a,o,r[u+9],4,-640364487),o=Fn(o,t,i,a,r[u+12],11,-421815835),a=Fn(a,o,t,i,r[u+15],16,530742520),i=Fn(i,a,o,t,r[u+2],23,-995338651),t=Gn(t,i,a,o,r[u],6,-198630844),o=Gn(o,t,i,a,r[u+7],10,1126891415),a=Gn(a,o,t,i,r[u+14],15,-1416354905),i=Gn(i,a,o,t,r[u+5],21,-57434055),t=Gn(t,i,a,o,r[u+12],6,1700485571),o=Gn(o,t,i,a,r[u+3],10,-1894986606),a=Gn(a,o,t,i,r[u+10],15,-1051523),i=Gn(i,a,o,t,r[u+1],21,-2054922799),t=Gn(t,i,a,o,r[u+8],6,1873313359),o=Gn(o,t,i,a,r[u+15],10,-30611744),a=Gn(a,o,t,i,r[u+6],15,-1560198380),i=Gn(i,a,o,t,r[u+13],21,1309151649),t=Gn(t,i,a,o,r[u+4],6,-145523070),o=Gn(o,t,i,a,r[u+11],10,-1120210379),a=Gn(a,o,t,i,r[u+2],15,718787259),i=Gn(i,a,o,t,r[u+9],21,-343485551),t=Ds(t,f),i=Ds(i,h),a=Ds(a,g),o=Ds(o,w)}return[t,i,a,o]}function n4(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(FS(e)),i=0;i<e;i+=8)t[i>>5]|=(r[i/8]&255)<<i%32;return t}function Ds(r,e){var t=(r&65535)+(e&65535),i=(r>>16)+(e>>16)+(t>>16);return i<<16|t&65535}function r4(r,e){return r<<e|r>>>32-e}function wh(r,e,t,i,a,o){return Ds(r4(Ds(Ds(e,r),Ds(i,o)),a),t)}function $n(r,e,t,i,a,o,u){return wh(e&t|~e&i,r,e,a,o,u)}function Kn(r,e,t,i,a,o,u){return wh(e&i|t&~i,r,e,a,o,u)}function Fn(r,e,t,i,a,o,u){return wh(e^t^i,r,e,a,o,u)}function Gn(r,e,t,i,a,o,u){return wh(t^(e|~i),r,e,a,o,u)}var i4=KS("v3",48,XR);function s4(r,e,t){r=r||{};var i=r.random||(r.rng||WS)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var a=0;a<16;++a)e[t+a]=i[a];return e}return yh(i)}function a4(r,e,t,i){switch(r){case 0:return e&t^~e&i;case 1:return e^t^i;case 2:return e&t^e&i^t&i;case 3:return e^t^i}}function cg(r,e){return r<<e|r>>>32-e}function o4(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var i=unescape(encodeURIComponent(r));r=[];for(var a=0;a<i.length;++a)r.push(i.charCodeAt(a))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,u=Math.ceil(o/16),f=new Array(u),h=0;h<u;++h){for(var g=new Uint32Array(16),w=0;w<16;++w)g[w]=r[h*64+w*4]<<24|r[h*64+w*4+1]<<16|r[h*64+w*4+2]<<8|r[h*64+w*4+3];f[h]=g}f[u-1][14]=(r.length-1)*8/Math.pow(2,32),f[u-1][14]=Math.floor(f[u-1][14]),f[u-1][15]=(r.length-1)*8&4294967295;for(var _=0;_<u;++_){for(var x=new Uint32Array(80),E=0;E<16;++E)x[E]=f[_][E];for(var C=16;C<80;++C)x[C]=cg(x[C-3]^x[C-8]^x[C-14]^x[C-16],1);for(var B=t[0],k=t[1],U=t[2],q=t[3],L=t[4],G=0;G<80;++G){var te=Math.floor(G/20),J=cg(B,5)+a4(te,k,U,q)+L+e[te]+x[G]>>>0;L=q,q=U,U=cg(k,30)>>>0,k=B,B=J}t[0]=t[0]+B>>>0,t[1]=t[1]+k>>>0,t[2]=t[2]+U>>>0,t[3]=t[3]+q>>>0,t[4]=t[4]+L>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var l4=KS("v5",80,o4);const u4="00000000-0000-0000-0000-000000000000";function c4(r){if(!mh(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const f4=Object.freeze(Object.defineProperty({__proto__:null,NIL:u4,parse:$S,stringify:yh,v1:YR,v3:i4,v4:s4,v5:l4,validate:mh,version:c4},Symbol.toStringTag,{value:"Module"})),GS=W_(f4);var fg,u1;function h4(){if(u1)return fg;u1=1;const r=GS.v4;return fg=function(t,i,a,o){if(typeof t!="string")throw new TypeError(t+" must be a string");o=o||{};const u=typeof o.version=="number"?o.version:2;if(u!==1&&u!==2)throw new TypeError(u+" must be 1 or 2");const f={method:t};if(u===2&&(f.jsonrpc="2.0"),i){if(typeof i!="object"&&!Array.isArray(i))throw new TypeError(i+" must be an object, array or omitted");f.params=i}if(typeof a>"u"){const h=typeof o.generator=="function"?o.generator:function(){return r()};f.id=h(f,o)}else u===2&&a===null?o.notificationIdNull&&(f.id=null):f.id=a;return f},fg}var hg,c1;function d4(){if(c1)return hg;c1=1;const r=GS.v4,e=h4(),t=function(i,a){if(!(this instanceof t))return new t(i,a);a||(a={}),this.options={reviver:typeof a.reviver<"u"?a.reviver:null,replacer:typeof a.replacer<"u"?a.replacer:null,generator:typeof a.generator<"u"?a.generator:function(){return r()},version:typeof a.version<"u"?a.version:2,notificationIdNull:typeof a.notificationIdNull=="boolean"?a.notificationIdNull:!1},this.callServer=i};return hg=t,t.prototype.request=function(i,a,o,u){const f=this;let h=null;const g=Array.isArray(i)&&typeof a=="function";if(this.options.version===1&&g)throw new TypeError("JSON-RPC 1.0 does not support batching");if(g||!g&&i&&typeof i=="object"&&typeof a=="function")u=a,h=i;else{typeof o=="function"&&(u=o,o=void 0);const x=typeof u=="function";try{h=e(i,a,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(E){if(x){u(E);return}throw E}if(!x)return h}let _;try{_=JSON.stringify(h,this.options.replacer)}catch(x){u(x);return}return this.callServer(_,function(x,E){f._parseResponse(x,E,u)}),h},t.prototype._parseResponse=function(i,a,o){if(i){o(i);return}if(!a){o();return}let u;try{u=JSON.parse(a,this.options.reviver)}catch(f){o(f);return}if(o.length===3)if(Array.isArray(u)){const f=function(g){return typeof g.error<"u"},h=function(g){return!f(g)};o(null,u.filter(f),u.filter(h));return}else{o(null,u.error,u.result);return}o(null,u)},hg}var g4=d4();const p4=Ra(g4);var dg={exports:{}},f1;function m4(){return f1||(f1=1,(function(r){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function a(h,g,w){this.fn=h,this.context=g,this.once=w||!1}function o(h,g,w,_,x){if(typeof w!="function")throw new TypeError("The listener must be a function");var E=new a(w,_||h,x),C=t?t+g:g;return h._events[C]?h._events[C].fn?h._events[C]=[h._events[C],E]:h._events[C].push(E):(h._events[C]=E,h._eventsCount++),h}function u(h,g){--h._eventsCount===0?h._events=new i:delete h._events[g]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],w,_;if(this._eventsCount===0)return g;for(_ in w=this._events)e.call(w,_)&&g.push(t?_.slice(1):_);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(w)):g},f.prototype.listeners=function(g){var w=t?t+g:g,_=this._events[w];if(!_)return[];if(_.fn)return[_.fn];for(var x=0,E=_.length,C=new Array(E);x<E;x++)C[x]=_[x].fn;return C},f.prototype.listenerCount=function(g){var w=t?t+g:g,_=this._events[w];return _?_.fn?1:_.length:0},f.prototype.emit=function(g,w,_,x,E,C){var B=t?t+g:g;if(!this._events[B])return!1;var k=this._events[B],U=arguments.length,q,L;if(k.fn){switch(k.once&&this.removeListener(g,k.fn,void 0,!0),U){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,w),!0;case 3:return k.fn.call(k.context,w,_),!0;case 4:return k.fn.call(k.context,w,_,x),!0;case 5:return k.fn.call(k.context,w,_,x,E),!0;case 6:return k.fn.call(k.context,w,_,x,E,C),!0}for(L=1,q=new Array(U-1);L<U;L++)q[L-1]=arguments[L];k.fn.apply(k.context,q)}else{var G=k.length,te;for(L=0;L<G;L++)switch(k[L].once&&this.removeListener(g,k[L].fn,void 0,!0),U){case 1:k[L].fn.call(k[L].context);break;case 2:k[L].fn.call(k[L].context,w);break;case 3:k[L].fn.call(k[L].context,w,_);break;case 4:k[L].fn.call(k[L].context,w,_,x);break;default:if(!q)for(te=1,q=new Array(U-1);te<U;te++)q[te-1]=arguments[te];k[L].fn.apply(k[L].context,q)}}return!0},f.prototype.on=function(g,w,_){return o(this,g,w,_,!1)},f.prototype.once=function(g,w,_){return o(this,g,w,_,!0)},f.prototype.removeListener=function(g,w,_,x){var E=t?t+g:g;if(!this._events[E])return this;if(!w)return u(this,E),this;var C=this._events[E];if(C.fn)C.fn===w&&(!x||C.once)&&(!_||C.context===_)&&u(this,E);else{for(var B=0,k=[],U=C.length;B<U;B++)(C[B].fn!==w||x&&!C[B].once||_&&C[B].context!==_)&&k.push(C[B]);k.length?this._events[E]=k.length===1?k[0]:k:u(this,E)}return this},f.prototype.removeAllListeners=function(g){var w;return g?(w=t?t+g:g,this._events[w]&&u(this,w)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=t,f.EventEmitter=f,r.exports=f})(dg)),dg.exports}var y4=m4();const _m=Ra(y4);var w4=class extends _m{socket;constructor(r,e){super(),this.socket=new window.WebSocket(r,e.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(r,e,t){const i=t||e;try{this.socket.send(r),i()}catch(a){i(a)}}close(r,e){this.socket.close(r,e)}addEventListener(r,e,t){this.socket.addEventListener(r,e,t)}};function v4(r,e){return new w4(r,e)}var b4=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},_4=class extends _m{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(r,e="ws://localhost:8080",{autoconnect:t=!0,reconnect:i=!0,reconnect_interval:a=1e3,max_reconnects:o=5,...u}={},f,h){super(),this.webSocketFactory=r,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=t,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=a,this.max_reconnects=o,this.rest_options=u,this.current_reconnects=0,this.generate_request_id=f||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),h?this.dataPack=h:this.dataPack=new b4,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(r,e,t,i){return!i&&typeof t=="object"&&(i=t,t=null),new Promise((a,o)=>{if(!this.ready)return o(new Error("socket not ready"));const u=this.generate_request_id(r,e),f={jsonrpc:"2.0",method:r,params:e||void 0,id:u};this.socket.send(this.dataPack.encode(f),i,h=>{if(h)return o(h);this.queue[u]={promise:[a,o]},t&&(this.queue[u].timeout=setTimeout(()=>{delete this.queue[u],o(new Error("reply timeout"))},t))})})}async login(r){const e=await this.call("rpc.login",r);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(r,e){return new Promise((t,i)=>{if(!this.ready)return i(new Error("socket not ready"));const a={jsonrpc:"2.0",method:r,params:e};this.socket.send(this.dataPack.encode(a),o=>{if(o)return i(o);t()})})}async subscribe(r){typeof r=="string"&&(r=[r]);const e=await this.call("rpc.on",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed subscribing to an event '"+r+"' with: "+e[r]);return e}async unsubscribe(r){typeof r=="string"&&(r=[r]);const e=await this.call("rpc.off",r);if(typeof r=="string"&&e[r]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(r,e){this.socket&&this.socket.close(r||1e3,e)}setAutoReconnect(r){this.reconnect=r}setReconnectInterval(r){this.reconnect_interval=r}setMaxReconnects(r){this.max_reconnects=r}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(r,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(r,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=Ze.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch{return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const i=[t.notification];if(t.params.constructor===Object)i.push(t.params);else for(let a=0;a<t.params.length;a++)i.push(t.params[a]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t?.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:t,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",t,i),0),this.ready=!1,this.socket=void 0,t!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(r,e),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",t,i),1))})}};class VS extends hS{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,cS(e);const i=fm(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,o=new Uint8Array(a);o.set(i.length>a?e.create().update(i).digest():i);for(let u=0;u<o.length;u++)o[u]^=54;this.iHash.update(o),this.oHash=e.create();for(let u=0;u<o.length;u++)o[u]^=106;this.oHash.update(o),Xo(o)}update(e){return $f(this),this.iHash.update(e),this}digestInto(e){$f(this),Ba(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:a,destroyed:o,blockLen:u,outputLen:f}=this;return e=e,e.finished=a,e.destroyed=o,e.blockLen=u,e.outputLen=f,e.oHash=t._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const YS=(r,e,t)=>new VS(r,e).update(t).digest();YS.create=(r,e)=>new VS(r,e);const h1=(r,e)=>(r+(r>=0?e:-e)/ZS)/e;function S4(r,e,t){const[[i,a],[o,u]]=e,f=h1(u*r,t),h=h1(-a*r,t);let g=r-f*i-h*o,w=-f*a-h*u;const _=g<Hi,x=w<Hi;_&&(g=-g),x&&(w=-w);const E=ju(Math.ceil(vS(t)/2))+Yo;if(g<Hi||g>=E||w<Hi||w>=E)throw new Error("splitScalar (endomorphism): failed, k="+r);return{k1neg:_,k1:g,k2neg:x,k2:w}}function fp(r){if(!["compact","recovered","der"].includes(r))throw new Error('Signature format must be "compact", "recovered", or "der"');return r}function gg(r,e){const t={};for(let i of Object.keys(e))t[i]=r[i]===void 0?e[i]:r[i];return xa(t.lowS,"lowS"),xa(t.prehash,"prehash"),t.format!==void 0&&fp(t.format),t}class E4 extends Error{constructor(e=""){super(e)}}const Li={Err:E4,_tlv:{encode:(r,e)=>{const{Err:t}=Li;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const i=e.length/2,a=lf(i);if(a.length/2&128)throw new t("tlv.encode: long form length too big");const o=i>127?lf(a.length/2|128):"";return lf(r)+o+a+e},decode(r,e){const{Err:t}=Li;let i=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[i++]!==r)throw new t("tlv.decode: wrong tlv");const a=e[i++],o=!!(a&128);let u=0;if(!o)u=a;else{const h=a&127;if(!h)throw new t("tlv.decode(long): indefinite length not supported");if(h>4)throw new t("tlv.decode(long): byte length is too big");const g=e.subarray(i,i+h);if(g.length!==h)throw new t("tlv.decode: length bytes not complete");if(g[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const w of g)u=u<<8|w;if(i+=h,u<128)throw new t("tlv.decode(long): not minimal encoding")}const f=e.subarray(i,i+u);if(f.length!==u)throw new t("tlv.decode: wrong value length");return{v:f,l:e.subarray(i+u)}}},_int:{encode(r){const{Err:e}=Li;if(r<Hi)throw new e("integer: negative integers are not allowed");let t=lf(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=Li;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return gh(r)}},toSig(r){const{Err:e,_int:t,_tlv:i}=Li,a=fn("signature",r),{v:o,l:u}=i.decode(48,a);if(u.length)throw new e("invalid signature: left bytes after parsing");const{v:f,l:h}=i.decode(2,o),{v:g,l:w}=i.decode(2,h);if(w.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(f),s:t.decode(g)}},hexFromSig(r){const{_tlv:e,_int:t}=Li,i=e.encode(2,t.encode(r.r)),a=e.encode(2,t.encode(r.s)),o=i+a;return e.encode(48,o)}},Hi=BigInt(0),Yo=BigInt(1),ZS=BigInt(2),ff=BigInt(3),A4=BigInt(4);function Wo(r,e){const{BYTES:t}=r;let i;if(typeof e=="bigint")i=e;else{let a=fn("private key",e);try{i=r.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!r.isValidNot0(i))throw new Error("invalid private key: out of range [1..N-1]");return i}function x4(r,e={}){const t=LS("weierstrass",r,e),{Fp:i,Fn:a}=t;let o=t.CURVE;const{h:u,n:f}=o;Uu(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:h}=e;if(h&&(!i.is0(o.a)||typeof h.beta!="bigint"||!Array.isArray(h.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const g=JS(i,a);function w(){if(!i.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function _(Q,O,m){const{x:b,y:A}=O.toAffine(),N=i.toBytes(b);if(xa(m,"isCompressed"),m){w();const D=!i.isOdd(A);return ai(QS(D),N)}else return ai(Uint8Array.of(4),N,i.toBytes(A))}function x(Q){Kr(Q,void 0,"Point");const{publicKey:O,publicKeyUncompressed:m}=g,b=Q.length,A=Q[0],N=Q.subarray(1);if(b===O&&(A===2||A===3)){const D=i.fromBytes(N);if(!i.isValid(D))throw new Error("bad point: is not on curve, wrong x");const $=B(D);let F;try{F=i.sqrt($)}catch(v){const I=v instanceof Error?": "+v.message:"";throw new Error("bad point: is not on curve, sqrt error"+I)}w();const T=i.isOdd(F);return(A&1)===1!==T&&(F=i.neg(F)),{x:D,y:F}}else if(b===m&&A===4){const D=i.BYTES,$=i.fromBytes(N.subarray(0,D)),F=i.fromBytes(N.subarray(D,D*2));if(!k($,F))throw new Error("bad point: is not on curve");return{x:$,y:F}}else throw new Error(`bad point: got length ${b}, expected compressed=${O} or uncompressed=${m}`)}const E=e.toBytes||_,C=e.fromBytes||x;function B(Q){const O=i.sqr(Q),m=i.mul(O,Q);return i.add(i.add(m,i.mul(Q,o.a)),o.b)}function k(Q,O){const m=i.sqr(O),b=B(Q);return i.eql(m,b)}if(!k(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const U=i.mul(i.pow(o.a,ff),A4),q=i.mul(i.sqr(o.b),BigInt(27));if(i.is0(i.add(U,q)))throw new Error("bad curve params: a or b");function L(Q,O,m=!1){if(!i.isValid(O)||m&&i.is0(O))throw new Error(`bad point coordinate ${Q}`);return O}function G(Q){if(!(Q instanceof P))throw new Error("ProjectivePoint expected")}function te(Q){if(!h||!h.basises)throw new Error("no endo");return S4(Q,h.basises,a.ORDER)}const J=Ff((Q,O)=>{const{X:m,Y:b,Z:A}=Q;if(i.eql(A,i.ONE))return{x:m,y:b};const N=Q.is0();O==null&&(O=N?i.ONE:i.inv(A));const D=i.mul(m,O),$=i.mul(b,O),F=i.mul(A,O);if(N)return{x:i.ZERO,y:i.ZERO};if(!i.eql(F,i.ONE))throw new Error("invZ was invalid");return{x:D,y:$}}),se=Ff(Q=>{if(Q.is0()){if(e.allowInfinityPoint&&!i.is0(Q.Y))return;throw new Error("bad point: ZERO")}const{x:O,y:m}=Q.toAffine();if(!i.isValid(O)||!i.isValid(m))throw new Error("bad point: x or y not field elements");if(!k(O,m))throw new Error("bad point: equation left != right");if(!Q.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function oe(Q,O,m,b,A){return m=new P(i.mul(m.X,Q),m.Y,m.Z),O=Gf(b,O),m=Gf(A,m),O.add(m)}class P{constructor(O,m,b){this.X=L("x",O),this.Y=L("y",m,!0),this.Z=L("z",b),Object.freeze(this)}static CURVE(){return o}static fromAffine(O){const{x:m,y:b}=O||{};if(!O||!i.isValid(m)||!i.isValid(b))throw new Error("invalid affine point");if(O instanceof P)throw new Error("projective point not allowed");return i.is0(m)&&i.is0(b)?P.ZERO:new P(m,b,i.ONE)}static fromBytes(O){const m=P.fromAffine(C(Kr(O,void 0,"point")));return m.assertValidity(),m}static fromHex(O){return P.fromBytes(fn("pointHex",O))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(O=8,m=!0){return Z.createCache(this,O),m||this.multiply(ff),this}assertValidity(){se(this)}hasEvenY(){const{y:O}=this.toAffine();if(!i.isOdd)throw new Error("Field doesn't support isOdd");return!i.isOdd(O)}equals(O){G(O);const{X:m,Y:b,Z:A}=this,{X:N,Y:D,Z:$}=O,F=i.eql(i.mul(m,$),i.mul(N,A)),T=i.eql(i.mul(b,$),i.mul(D,A));return F&&T}negate(){return new P(this.X,i.neg(this.Y),this.Z)}double(){const{a:O,b:m}=o,b=i.mul(m,ff),{X:A,Y:N,Z:D}=this;let $=i.ZERO,F=i.ZERO,T=i.ZERO,y=i.mul(A,A),v=i.mul(N,N),I=i.mul(D,D),H=i.mul(A,N);return H=i.add(H,H),T=i.mul(A,D),T=i.add(T,T),$=i.mul(O,T),F=i.mul(b,I),F=i.add($,F),$=i.sub(v,F),F=i.add(v,F),F=i.mul($,F),$=i.mul(H,$),T=i.mul(b,T),I=i.mul(O,I),H=i.sub(y,I),H=i.mul(O,H),H=i.add(H,T),T=i.add(y,y),y=i.add(T,y),y=i.add(y,I),y=i.mul(y,H),F=i.add(F,y),I=i.mul(N,D),I=i.add(I,I),y=i.mul(I,H),$=i.sub($,y),T=i.mul(I,v),T=i.add(T,T),T=i.add(T,T),new P($,F,T)}add(O){G(O);const{X:m,Y:b,Z:A}=this,{X:N,Y:D,Z:$}=O;let F=i.ZERO,T=i.ZERO,y=i.ZERO;const v=o.a,I=i.mul(o.b,ff);let H=i.mul(m,N),ee=i.mul(b,D),le=i.mul(A,$),be=i.add(m,b),Ee=i.add(N,D);be=i.mul(be,Ee),Ee=i.add(H,ee),be=i.sub(be,Ee),Ee=i.add(m,A);let Ge=i.add(N,$);return Ee=i.mul(Ee,Ge),Ge=i.add(H,le),Ee=i.sub(Ee,Ge),Ge=i.add(b,A),F=i.add(D,$),Ge=i.mul(Ge,F),F=i.add(ee,le),Ge=i.sub(Ge,F),y=i.mul(v,Ee),F=i.mul(I,le),y=i.add(F,y),F=i.sub(ee,y),y=i.add(ee,y),T=i.mul(F,y),ee=i.add(H,H),ee=i.add(ee,H),le=i.mul(v,le),Ee=i.mul(I,Ee),ee=i.add(ee,le),le=i.sub(H,le),le=i.mul(v,le),Ee=i.add(Ee,le),H=i.mul(ee,Ee),T=i.add(T,H),H=i.mul(Ge,Ee),F=i.mul(be,F),F=i.sub(F,H),H=i.mul(be,ee),y=i.mul(Ge,y),y=i.add(y,H),new P(F,T,y)}subtract(O){return this.add(O.negate())}is0(){return this.equals(P.ZERO)}multiply(O){const{endo:m}=e;if(!a.isValidNot0(O))throw new Error("invalid scalar: out of range");let b,A;const N=D=>Z.cached(this,D,$=>pa(P,$));if(m){const{k1neg:D,k1:$,k2neg:F,k2:T}=te(O),{p:y,f:v}=N($),{p:I,f:H}=N(T);A=v.add(H),b=oe(m.beta,y,I,D,F)}else{const{p:D,f:$}=N(O);b=D,A=$}return pa(P,[b,A])[0]}multiplyUnsafe(O){const{endo:m}=e,b=this;if(!a.isValid(O))throw new Error("invalid scalar: out of range");if(O===Hi||b.is0())return P.ZERO;if(O===Yo)return b;if(Z.hasCache(this))return this.multiply(O);if(m){const{k1neg:A,k1:N,k2neg:D,k2:$}=te(O),{p1:F,p2:T}=qT(P,b,N,$);return oe(m.beta,F,T,A,D)}else return Z.unsafe(b,O)}multiplyAndAddUnsafe(O,m,b){const A=this.multiplyUnsafe(m).add(O.multiplyUnsafe(b));return A.is0()?void 0:A}toAffine(O){return J(this,O)}isTorsionFree(){const{isTorsionFree:O}=e;return u===Yo?!0:O?O(P,this):Z.unsafe(this,f).is0()}clearCofactor(){const{clearCofactor:O}=e;return u===Yo?this:O?O(P,this):this.multiplyUnsafe(u)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}toBytes(O=!0){return xa(O,"isCompressed"),this.assertValidity(),E(P,this,O)}toHex(O=!0){return Ea(this.toBytes(O))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(O=!0){return this.toBytes(O)}_setWindowSize(O){this.precompute(O)}static normalizeZ(O){return pa(P,O)}static msm(O,m){return IS(P,a,O,m)}static fromPrivateKey(O){return P.BASE.multiply(Wo(a,O))}}P.BASE=new P(o.Gx,o.Gy,i.ONE),P.ZERO=new P(i.ZERO,i.ONE,i.ZERO),P.Fp=i,P.Fn=a;const K=a.BITS,Z=new kS(P,e.endo?Math.ceil(K/2):K);return P.BASE.precompute(8),P}function QS(r){return Uint8Array.of(r?2:3)}function JS(r,e){return{secretKey:e.BYTES,publicKey:1+r.BYTES,publicKeyUncompressed:1+2*r.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function M4(r,e={}){const{Fn:t}=r,i=e.randomBytes||hm,a=Object.assign(JS(r.Fp,t),{seed:BS(t.ORDER)});function o(E){try{return!!Wo(t,E)}catch{return!1}}function u(E,C){const{publicKey:B,publicKeyUncompressed:k}=a;try{const U=E.length;return C===!0&&U!==B||C===!1&&U!==k?!1:!!r.fromBytes(E)}catch{return!1}}function f(E=i(a.seed)){return UT(Kr(E,a.seed,"seed"),t.ORDER)}function h(E,C=!0){return r.BASE.multiply(Wo(t,E)).toBytes(C)}function g(E){const C=f(E);return{secretKey:C,publicKey:h(C)}}function w(E){if(typeof E=="bigint")return!1;if(E instanceof r)return!0;const{secretKey:C,publicKey:B,publicKeyUncompressed:k}=a;if(t.allowedLengths||C===B)return;const U=fn("key",E).length;return U===B||U===k}function _(E,C,B=!0){if(w(E)===!0)throw new Error("first arg must be private key");if(w(C)===!1)throw new Error("second arg must be public key");const k=Wo(t,E);return r.fromHex(C).multiply(k).toBytes(B)}return Object.freeze({getPublicKey:h,getSharedSecret:_,keygen:g,Point:r,utils:{isValidSecretKey:o,isValidPublicKey:u,randomSecretKey:f,isValidPrivateKey:o,randomPrivateKey:f,normPrivateKeyToScalar:E=>Wo(t,E),precompute(E=8,C=r.BASE){return C.precompute(E,!1)}},lengths:a})}function T4(r,e,t={}){cS(e),Uu(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=t.randomBytes||hm,a=t.hmac||((m,...b)=>YS(e,m,ai(...b))),{Fp:o,Fn:u}=r,{ORDER:f,BITS:h}=u,{keygen:g,getPublicKey:w,getSharedSecret:_,utils:x,lengths:E}=M4(r,t),C={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},B="compact";function k(m){const b=f>>Yo;return m>b}function U(m,b){if(!u.isValidNot0(b))throw new Error(`invalid signature ${m}: out of range 1..Point.Fn.ORDER`);return b}function q(m,b){fp(b);const A=E.signature,N=b==="compact"?A:b==="recovered"?A+1:void 0;return Kr(m,N,`${b} signature`)}class L{constructor(b,A,N){this.r=U("r",b),this.s=U("s",A),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(b,A=B){q(b,A);let N;if(A==="der"){const{r:T,s:y}=Li.toSig(Kr(b));return new L(T,y)}A==="recovered"&&(N=b[0],A="compact",b=b.subarray(1));const D=u.BYTES,$=b.subarray(0,D),F=b.subarray(D,D*2);return new L(u.fromBytes($),u.fromBytes(F),N)}static fromHex(b,A){return this.fromBytes(Kf(b),A)}addRecoveryBit(b){return new L(this.r,this.s,b)}recoverPublicKey(b){const A=o.ORDER,{r:N,s:D,recovery:$}=this;if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");if(f*ZS<A&&$>1)throw new Error("recovery id is ambiguous for h>1 curve");const T=$===2||$===3?N+f:N;if(!o.isValid(T))throw new Error("recovery id 2 or 3 invalid");const y=o.toBytes(T),v=r.fromBytes(ai(QS(($&1)===0),y)),I=u.inv(T),H=te(fn("msgHash",b)),ee=u.create(-H*I),le=u.create(D*I),be=r.BASE.multiplyUnsafe(ee).add(v.multiplyUnsafe(le));if(be.is0())throw new Error("point at infinify");return be.assertValidity(),be}hasHighS(){return k(this.s)}toBytes(b=B){if(fp(b),b==="der")return Kf(Li.hexFromSig(this));const A=u.toBytes(this.r),N=u.toBytes(this.s);if(b==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return ai(Uint8Array.of(this.recovery),A,N)}return ai(A,N)}toHex(b){return Ea(this.toBytes(b))}assertValidity(){}static fromCompact(b){return L.fromBytes(fn("sig",b),"compact")}static fromDER(b){return L.fromBytes(fn("sig",b),"der")}normalizeS(){return this.hasHighS()?new L(this.r,u.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ea(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ea(this.toBytes("compact"))}}const G=t.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");const A=gh(b),N=b.length*8-h;return N>0?A>>BigInt(N):A},te=t.bits2int_modN||function(b){return u.create(G(b))},J=ju(h);function se(m){return cp("num < 2^"+h,m,Hi,J),u.toBytes(m)}function oe(m,b){return Kr(m,void 0,"message"),b?Kr(e(m),void 0,"prehashed message"):m}function P(m,b,A){if(["recovered","canonical"].some(ee=>ee in A))throw new Error("sign() legacy options not supported");const{lowS:N,prehash:D,extraEntropy:$}=gg(A,C);m=oe(m,D);const F=te(m),T=Wo(u,b),y=[se(T),se(F)];if($!=null&&$!==!1){const ee=$===!0?i(E.secretKey):$;y.push(fn("extraEntropy",ee))}const v=ai(...y),I=F;function H(ee){const le=G(ee);if(!u.isValidNot0(le))return;const be=u.inv(le),Ee=r.BASE.multiply(le).toAffine(),Ge=u.create(Ee.x);if(Ge===Hi)return;const st=u.create(be*u.create(I+Ge*T));if(st===Hi)return;let dt=(Ee.x===Ge?0:2)|Number(Ee.y&Yo),Zn=st;return N&&k(st)&&(Zn=u.neg(st),dt^=1),new L(Ge,Zn,dt)}return{seed:v,k2sig:H}}function K(m,b,A={}){m=fn("message",m);const{seed:N,k2sig:D}=P(m,b,A);return TT(e.outputLen,u.BYTES,a)(N,D)}function Z(m){let b;const A=typeof m=="string"||Lu(m),N=!A&&m!==null&&typeof m=="object"&&typeof m.r=="bigint"&&typeof m.s=="bigint";if(!A&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)b=new L(m.r,m.s);else if(A){try{b=L.fromBytes(fn("sig",m),"der")}catch(D){if(!(D instanceof Li.Err))throw D}if(!b)try{b=L.fromBytes(fn("sig",m),"compact")}catch{return!1}}return b||!1}function Q(m,b,A,N={}){const{lowS:D,prehash:$,format:F}=gg(N,C);if(A=fn("publicKey",A),b=oe(fn("message",b),$),"strict"in N)throw new Error("options.strict was renamed to lowS");const T=F===void 0?Z(m):L.fromBytes(fn("sig",m),F);if(T===!1)return!1;try{const y=r.fromBytes(A);if(D&&T.hasHighS())return!1;const{r:v,s:I}=T,H=te(b),ee=u.inv(I),le=u.create(H*ee),be=u.create(v*ee),Ee=r.BASE.multiplyUnsafe(le).add(y.multiplyUnsafe(be));return Ee.is0()?!1:u.create(Ee.x)===v}catch{return!1}}function O(m,b,A={}){const{prehash:N}=gg(A,C);return b=oe(b,N),L.fromBytes(m,"recovered").recoverPublicKey(b).toBytes()}return Object.freeze({keygen:g,getPublicKey:w,getSharedSecret:_,utils:x,lengths:E,Point:r,sign:K,verify:Q,recoverPublicKey:O,Signature:L,hash:e})}function R4(r){const e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp;let i=r.allowedPrivateKeyLengths?Array.from(new Set(r.allowedPrivateKeyLengths.map(u=>Math.ceil(u/2)))):void 0;const a=Oa(e.n,{BITS:r.nBitLength,allowedLengths:i,modFromBytes:r.wrapPrivateKey}),o={Fp:t,Fn:a,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:o}}function C4(r){const{CURVE:e,curveOpts:t}=R4(r),i={hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:t,hash:r.hash,ecdsaOpts:i}}function B4(r,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},r,RS(t.Fn.ORDER,t.Fn.BITS))})}function O4(r){const{CURVE:e,curveOpts:t,hash:i,ecdsaOpts:a}=C4(r),o=x4(e,t),u=T4(o,i,a);return B4(r,u)}function N4(r,e){const t=i=>O4({...r,hash:i});return{...t(e),create:t}}const Sm={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},k4={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},d1=BigInt(2);function I4(r){const e=Sm.p,t=BigInt(3),i=BigInt(6),a=BigInt(11),o=BigInt(22),u=BigInt(23),f=BigInt(44),h=BigInt(88),g=r*r*r%e,w=g*g*r%e,_=un(w,t,e)*w%e,x=un(_,t,e)*w%e,E=un(x,d1,e)*g%e,C=un(E,a,e)*E%e,B=un(C,o,e)*C%e,k=un(B,f,e)*B%e,U=un(k,h,e)*k%e,q=un(U,f,e)*B%e,L=un(q,t,e)*w%e,G=un(L,u,e)*C%e,te=un(G,i,e)*g%e,J=un(te,d1,e);if(!hp.eql(hp.sqr(J),r))throw new Error("Cannot find square root");return J}const hp=Oa(Sm.p,{sqrt:I4}),L4=N4({...Sm,Fp:hp,lowS:!0,endo:k4},mS);Du.utils.randomPrivateKey;Du.getPublicKey;function g1(r){try{return Du.ExtendedPoint.fromHex(r),!0}catch{return!1}}const XS=(r,e)=>Du.sign(r,e.slice(0,32)),j4=Du.verify,nl=r=>Ze.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Ze.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Ze.Buffer.from(r);class U4{constructor(e){Object.assign(this,e)}encode(){return Ze.Buffer.from(sg.serialize(Af,this))}static decode(e){return sg.deserialize(Af,this,e)}static decodeUnchecked(e){return sg.deserializeUnchecked(Af,this,e)}}const Af=new Map;var eE;const D4=32,zs=32;function z4(r){return r._bn!==void 0}let p1=1;class De extends U4{constructor(e){if(super({}),this._bn=void 0,z4(e))this._bn=e._bn;else{if(typeof e=="string"){const t=qn.decode(e);if(t.length!=zs)throw new Error("Invalid public key input");this._bn=new Jb(t)}else this._bn=new Jb(e);if(this._bn.byteLength()>zs)throw new Error("Invalid public key input")}}static unique(){const e=new De(p1);return p1+=1,new De(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return qn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Ze.Buffer);if(e.length===zs)return e;const t=Ze.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,i){const a=Ze.Buffer.concat([e.toBuffer(),Ze.Buffer.from(t),i.toBuffer()]),o=n1(a);return new De(o)}static createProgramAddressSync(e,t){let i=Ze.Buffer.alloc(0);e.forEach(function(o){if(o.length>D4)throw new TypeError("Max seed length exceeded");i=Ze.Buffer.concat([i,nl(o)])}),i=Ze.Buffer.concat([i,t.toBuffer(),Ze.Buffer.from("ProgramDerivedAddress")]);const a=n1(i);if(g1(a))throw new Error("Invalid seeds, address must fall off the curve");return new De(a)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let i=255,a;for(;i!=0;){try{const o=e.concat(Ze.Buffer.from([i]));a=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[a,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new De(e);return g1(t.toBytes())}}eE=De;De.default=new eE("11111111111111111111111111111111");Af.set(De,{kind:"struct",fields:[["_bn","u256"]]});new De("BPFLoader1111111111111111111111111111111111");const Zo=1232,Em=127,Xf=64;class tE extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(tE.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class nE extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(nE.prototype,"name",{value:"TransactionExpiredTimeoutError"});class uu extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(uu.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class eh{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const i=new Map;this.keySegments().flat().forEach((o,u)=>{i.set(o.toBase58(),u)});const a=o=>{const u=i.get(o.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return e.map(o=>({programIdIndex:a(o.programId),accountKeyIndexes:o.keys.map(u=>a(u.pubkey)),data:o.data}))}}const tt=(r="publicKey")=>Y.blob(32,r),q4=(r="signature")=>Y.blob(64,r),$o=(r="string")=>{const e=Y.struct([Y.u32("length"),Y.u32("lengthPadding"),Y.blob(Y.offset(Y.u32(),-8),"chars")],r),t=e.decode.bind(e),i=e.encode.bind(e),a=e;return a.decode=(o,u)=>t(o,u).chars.toString(),a.encode=(o,u,f)=>{const h={chars:Ze.Buffer.from(o,"utf8")};return i(h,u,f)},a.alloc=o=>Y.u32().span+Y.u32().span+Ze.Buffer.from(o,"utf8").length,a},H4=(r="authorized")=>Y.struct([tt("staker"),tt("withdrawer")],r),P4=(r="lockup")=>Y.struct([Y.ns64("unixTimestamp"),Y.ns64("epoch"),tt("custodian")],r),W4=(r="voteInit")=>Y.struct([tt("nodePubkey"),tt("authorizedVoter"),tt("authorizedWithdrawer"),Y.u8("commission")],r),$4=(r="voteAuthorizeWithSeedArgs")=>Y.struct([Y.u32("voteAuthorizationType"),tt("currentAuthorityDerivedKeyOwnerPubkey"),$o("currentAuthorityDerivedKeySeed"),tt("newAuthorized")],r);function br(r){let e=0,t=0;for(;;){let i=r.shift();if(e|=(i&127)<<t*7,t+=1,(i&128)===0)break}return e}function _r(r,e){let t=e;for(;;){let i=t&127;if(t>>=7,t==0){r.push(i);break}else i|=128,r.push(i)}}function $t(r,e){if(!r)throw new Error(e||"Assertion failed")}class vh{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const i=new Map,a=u=>{const f=u.toBase58();let h=i.get(f);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},i.set(f,h)),h},o=a(t);o.isSigner=!0,o.isWritable=!0;for(const u of e){a(u.programId).isInvoked=!0;for(const f of u.keys){const h=a(f.pubkey);h.isSigner||=f.isSigner,h.isWritable||=f.isWritable}}return new vh(t,i)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];$t(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,h])=>h.isSigner&&h.isWritable),i=e.filter(([,h])=>h.isSigner&&!h.isWritable),a=e.filter(([,h])=>!h.isSigner&&h.isWritable),o=e.filter(([,h])=>!h.isSigner&&!h.isWritable),u={numRequiredSignatures:t.length+i.length,numReadonlySignedAccounts:i.length,numReadonlyUnsignedAccounts:o.length};{$t(t.length>0,"Expected at least one writable signer key");const[h]=t[0];$t(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const f=[...t.map(([h])=>new De(h)),...i.map(([h])=>new De(h)),...a.map(([h])=>new De(h)),...o.map(([h])=>new De(h))];return[u,f]}extractTableLookup(e){const[t,i]=this.drainKeysFoundInLookupTable(e.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[a,o]=this.drainKeysFoundInLookupTable(e.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(t.length===0&&a.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:a},{writable:i,readonly:o}]}drainKeysFoundInLookupTable(e,t){const i=new Array,a=new Array;for(const[o,u]of this.keyMetaMap.entries())if(t(u)){const f=new De(o),h=e.findIndex(g=>g.equals(f));h>=0&&($t(h<256,"Max lookup table index exceeded"),i.push(h),a.push(f),this.keyMetaMap.delete(o))}return[i,a]}}const rE="Reached end of buffer unexpectedly";function Di(r){if(r.length===0)throw new Error(rE);return r.shift()}function Sr(r,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>r.length:t>=r.length)throw new Error(rE);return r.splice(...e)}class Fi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new De(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:qn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new eh(this.staticAccountKeys)}static compile(e){const t=vh.compile(e.instructions,e.payerKey),[i,a]=t.getMessageComponents(),u=new eh(a).compileInstructions(e.instructions).map(f=>({programIdIndex:f.programIdIndex,accounts:f.accountKeyIndexes,data:qn.encode(f.data)}));return new Fi({header:i,accountKeys:a,recentBlockhash:e.recentBlockhash,instructions:u})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const i=e-t,o=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];_r(t,e);const i=this.instructions.map(_=>{const{accounts:x,programIdIndex:E}=_,C=Array.from(qn.decode(_.data));let B=[];_r(B,x.length);let k=[];return _r(k,C.length),{programIdIndex:E,keyIndicesCount:Ze.Buffer.from(B),keyIndices:x,dataLength:Ze.Buffer.from(k),data:C}});let a=[];_r(a,i.length);let o=Ze.Buffer.alloc(Zo);Ze.Buffer.from(a).copy(o);let u=a.length;i.forEach(_=>{const E=Y.struct([Y.u8("programIdIndex"),Y.blob(_.keyIndicesCount.length,"keyIndicesCount"),Y.seq(Y.u8("keyIndex"),_.keyIndices.length,"keyIndices"),Y.blob(_.dataLength.length,"dataLength"),Y.seq(Y.u8("userdatum"),_.data.length,"data")]).encode(_,o,u);u+=E}),o=o.slice(0,u);const f=Y.struct([Y.blob(1,"numRequiredSignatures"),Y.blob(1,"numReadonlySignedAccounts"),Y.blob(1,"numReadonlyUnsignedAccounts"),Y.blob(t.length,"keyCount"),Y.seq(tt("key"),e,"keys"),tt("recentBlockhash")]),h={numRequiredSignatures:Ze.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ze.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ze.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ze.Buffer.from(t),keys:this.accountKeys.map(_=>nl(_.toBytes())),recentBlockhash:qn.decode(this.recentBlockhash)};let g=Ze.Buffer.alloc(2048);const w=f.encode(h,g);return o.copy(g,w),g.slice(0,w+o.length)}static from(e){let t=[...e];const i=Di(t);if(i!==(i&Em))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const a=Di(t),o=Di(t),u=br(t);let f=[];for(let x=0;x<u;x++){const E=Sr(t,0,zs);f.push(new De(Ze.Buffer.from(E)))}const h=Sr(t,0,zs),g=br(t);let w=[];for(let x=0;x<g;x++){const E=Di(t),C=br(t),B=Sr(t,0,C),k=br(t),U=Sr(t,0,k),q=qn.encode(Ze.Buffer.from(U));w.push({programIdIndex:E,accounts:B,data:q})}const _={header:{numRequiredSignatures:i,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:o},recentBlockhash:qn.encode(Ze.Buffer.from(h)),accountKeys:f,instructions:w};return new Fi(_)}}class Eu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new eh(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,i=this.staticAccountKeys.length;if(e>=i){const a=e-i,o=this.addressTableLookups.reduce((u,f)=>u+f.writableIndexes.length,0);return a<o}else if(e>=this.header.numRequiredSignatures){const a=e-t,u=i-t-this.header.numReadonlyUnsignedAccounts;return a<u}else{const a=t-this.header.numReadonlySignedAccounts;return e<a}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const i of this.addressTableLookups){const a=e.find(o=>o.key.equals(i.accountKey));if(!a)throw new Error(`Failed to find address lookup table account for table key ${i.accountKey.toBase58()}`);for(const o of i.writableIndexes)if(o<a.state.addresses.length)t.writable.push(a.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`);for(const o of i.readonlyIndexes)if(o<a.state.addresses.length)t.readonly.push(a.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${i.accountKey.toBase58()}`)}return t}static compile(e){const t=vh.compile(e.instructions,e.payerKey),i=new Array,a={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const w of o){const _=t.extractTableLookup(w);if(_!==void 0){const[x,{writable:E,readonly:C}]=_;i.push(x),a.writable.push(...E),a.readonly.push(...C)}}const[u,f]=t.getMessageComponents(),g=new eh(f,a).compileInstructions(e.instructions);return new Eu({header:u,staticAccountKeys:f,recentBlockhash:e.recentBlockhash,compiledInstructions:g,addressTableLookups:i})}serialize(){const e=Array();_r(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),i=Array();_r(i,this.compiledInstructions.length);const a=this.serializeAddressTableLookups(),o=Array();_r(o,this.addressTableLookups.length);const u=Y.struct([Y.u8("prefix"),Y.struct([Y.u8("numRequiredSignatures"),Y.u8("numReadonlySignedAccounts"),Y.u8("numReadonlyUnsignedAccounts")],"header"),Y.blob(e.length,"staticAccountKeysLength"),Y.seq(tt(),this.staticAccountKeys.length,"staticAccountKeys"),tt("recentBlockhash"),Y.blob(i.length,"instructionsLength"),Y.blob(t.length,"serializedInstructions"),Y.blob(o.length,"addressTableLookupsLength"),Y.blob(a.length,"serializedAddressTableLookups")]),f=new Uint8Array(Zo),g=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(w=>w.toBytes()),recentBlockhash:qn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(i),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:a},f);return f.slice(0,g)}serializeInstructions(){let e=0;const t=new Uint8Array(Zo);for(const i of this.compiledInstructions){const a=Array();_r(a,i.accountKeyIndexes.length);const o=Array();_r(o,i.data.length);const u=Y.struct([Y.u8("programIdIndex"),Y.blob(a.length,"encodedAccountKeyIndexesLength"),Y.seq(Y.u8(),i.accountKeyIndexes.length,"accountKeyIndexes"),Y.blob(o.length,"encodedDataLength"),Y.blob(i.data.length,"data")]);e+=u.encode({programIdIndex:i.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:i.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:i.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Zo);for(const i of this.addressTableLookups){const a=Array();_r(a,i.writableIndexes.length);const o=Array();_r(o,i.readonlyIndexes.length);const u=Y.struct([tt("accountKey"),Y.blob(a.length,"encodedWritableIndexesLength"),Y.seq(Y.u8(),i.writableIndexes.length,"writableIndexes"),Y.blob(o.length,"encodedReadonlyIndexesLength"),Y.seq(Y.u8(),i.readonlyIndexes.length,"readonlyIndexes")]);e+=u.encode({accountKey:i.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:i.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:i.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const i=Di(t),a=i&Em;$t(i!==a,"Expected versioned message but received legacy message");const o=a;$t(o===0,`Expected versioned message with version 0 but found version ${o}`);const u={numRequiredSignatures:Di(t),numReadonlySignedAccounts:Di(t),numReadonlyUnsignedAccounts:Di(t)},f=[],h=br(t);for(let C=0;C<h;C++)f.push(new De(Sr(t,0,zs)));const g=qn.encode(Sr(t,0,zs)),w=br(t),_=[];for(let C=0;C<w;C++){const B=Di(t),k=br(t),U=Sr(t,0,k),q=br(t),L=new Uint8Array(Sr(t,0,q));_.push({programIdIndex:B,accountKeyIndexes:U,data:L})}const x=br(t),E=[];for(let C=0;C<x;C++){const B=new De(Sr(t,0,zs)),k=br(t),U=Sr(t,0,k),q=br(t),L=Sr(t,0,q);E.push({accountKey:B,writableIndexes:U,readonlyIndexes:L})}return new Eu({header:u,staticAccountKeys:f,recentBlockhash:g,compiledInstructions:_,addressTableLookups:E})}}const Am={deserializeMessageVersion(r){const e=r[0],t=e&Em;return t===e?"legacy":t},deserialize:r=>{const e=Am.deserializeMessageVersion(r);if(e==="legacy")return Fi.from(r);if(e===0)return Eu.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Bs=(function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r})({});const K4=Ze.Buffer.alloc(Xf).fill(0);class m1{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Ze.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:i})=>({pubkey:e.toJSON(),isSigner:t,isWritable:i})),programId:this.programId.toJSON(),data:[...this.data]}}}class $r{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:i}=e;this.minNonceContextSlot=t,this.nonceInfo=i}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:i}=e;this.recentBlockhash=t,this.lastValidBlockHeight=i}else{const{recentBlockhash:t,nonceInfo:i}=e;i&&(this.nonceInfo=i),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new m1(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let i;if(this.feePayer)i=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)i=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let B=0;B<t.length;B++)if(t[B].programId===void 0)throw new Error(`Transaction instruction index ${B} has undefined program id`);const a=[],o=[];t.forEach(B=>{B.keys.forEach(U=>{o.push({...U})});const k=B.programId.toString();a.includes(k)||a.push(k)}),a.forEach(B=>{o.push({pubkey:new De(B),isSigner:!1,isWritable:!1})});const u=[];o.forEach(B=>{const k=B.pubkey.toString(),U=u.findIndex(q=>q.pubkey.toString()===k);U>-1?(u[U].isWritable=u[U].isWritable||B.isWritable,u[U].isSigner=u[U].isSigner||B.isSigner):u.push(B)}),u.sort(function(B,k){if(B.isSigner!==k.isSigner)return B.isSigner?-1:1;if(B.isWritable!==k.isWritable)return B.isWritable?-1:1;const U={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return B.pubkey.toBase58().localeCompare(k.pubkey.toBase58(),"en",U)});const f=u.findIndex(B=>B.pubkey.equals(i));if(f>-1){const[B]=u.splice(f,1);B.isSigner=!0,B.isWritable=!0,u.unshift(B)}else u.unshift({pubkey:i,isSigner:!0,isWritable:!0});for(const B of this.signatures){const k=u.findIndex(U=>U.pubkey.equals(B.publicKey));if(k>-1)u[k].isSigner||(u[k].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${B.publicKey.toString()}`)}let h=0,g=0,w=0;const _=[],x=[];u.forEach(({pubkey:B,isSigner:k,isWritable:U})=>{k?(_.push(B.toString()),h+=1,U||(g+=1)):(x.push(B.toString()),U||(w+=1))});const E=_.concat(x),C=t.map(B=>{const{data:k,programId:U}=B;return{programIdIndex:E.indexOf(U.toString()),accounts:B.keys.map(q=>E.indexOf(q.pubkey.toString())),data:qn.encode(k)}});return C.forEach(B=>{$t(B.programIdIndex>=0),B.accounts.forEach(k=>$t(k>=0))}),new Fi({header:{numRequiredSignatures:h,numReadonlySignedAccounts:g,numReadonlyUnsignedAccounts:w},accountKeys:E,recentBlockhash:e,instructions:C})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((a,o)=>t[o].equals(a.publicKey))||(this.signatures=t.map(i=>({signature:null,publicKey:i}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(i=>{const a=i.toString();return t.has(a)?!1:(t.add(a),!0)}).map(i=>({signature:null,publicKey:i}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,i=[];for(const o of e){const u=o.publicKey.toString();t.has(u)||(t.add(u),i.push(o))}this.signatures=i.map(o=>({signature:null,publicKey:o.publicKey}));const a=this._compile();this._partialSign(a,...i)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,i=[];for(const o of e){const u=o.publicKey.toString();t.has(u)||(t.add(u),i.push(o))}const a=this._compile();this._partialSign(a,...i)}_partialSign(e,...t){const i=e.serialize();t.forEach(a=>{const o=XS(i,a.secretKey);this._addSignature(a.publicKey,nl(o))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){$t(t.length===64);const i=this.signatures.findIndex(a=>e.equals(a.publicKey));if(i<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[i].signature=Ze.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const i={};for(const{signature:a,publicKey:o}of this.signatures)a===null?t&&(i.missing||=[]).push(o):j4(a,e,o.toBytes())||(i.invalid||=[]).push(o);return i.invalid||i.missing?i:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:i}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),a=this.serializeMessage();if(i){const o=this._getMessageSignednessErrors(a,t);if(o){let u="Signature verification failed.";throw o.invalid&&(u+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(f=>f.toBase58()).join("`, `")}\`].`),o.missing&&(u+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(f=>f.toBase58()).join("`, `")}\`].`),new Error(u)}}return this._serialize(a)}_serialize(e){const{signatures:t}=this,i=[];_r(i,t.length);const a=i.length+t.length*64+e.length,o=Ze.Buffer.alloc(a);return $t(t.length<256),Ze.Buffer.from(i).copy(o,0),t.forEach(({signature:u},f)=>{u!==null&&($t(u.length===64,"signature has invalid length"),Ze.Buffer.from(u).copy(o,i.length+f*64))}),e.copy(o,i.length+t.length*64),$t(o.length<=Zo,`Transaction too large: ${o.length} > ${Zo}`),o}get keys(){return $t(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return $t(this.instructions.length===1),this.instructions[0].programId}get data(){return $t(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const i=br(t);let a=[];for(let o=0;o<i;o++){const u=Sr(t,0,Xf);a.push(qn.encode(Ze.Buffer.from(u)))}return $r.populate(Fi.from(t),a)}static populate(e,t=[]){const i=new $r;return i.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(i.feePayer=e.accountKeys[0]),t.forEach((a,o)=>{const u={signature:a==qn.encode(K4)?null:qn.decode(a),publicKey:e.accountKeys[o]};i.signatures.push(u)}),e.instructions.forEach(a=>{const o=a.accounts.map(u=>{const f=e.accountKeys[u];return{pubkey:f,isSigner:i.signatures.some(h=>h.publicKey.toString()===f.toString())||e.isAccountSigner(u),isWritable:e.isAccountWritable(u)}});i.instructions.push(new m1({keys:o,programId:e.accountKeys[a.programIdIndex],data:qn.decode(a.data)}))}),i._message=e,i._json=i.toJSON(),i}}class Au{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)$t(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const i=[];for(let a=0;a<e.header.numRequiredSignatures;a++)i.push(new Uint8Array(Xf));this.signatures=i}this.message=e}serialize(){const e=this.message.serialize(),t=Array();_r(t,this.signatures.length);const i=Y.struct([Y.blob(t.length,"encodedSignaturesLength"),Y.seq(q4(),this.signatures.length,"signatures"),Y.blob(e.length,"serializedMessage")]),a=new Uint8Array(2048),o=i.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},a);return a.slice(0,o)}static deserialize(e){let t=[...e];const i=[],a=br(t);for(let u=0;u<a;u++)i.push(new Uint8Array(Sr(t,0,Xf)));const o=Am.deserialize(new Uint8Array(t));return new Au(o,i)}sign(e){const t=this.message.serialize(),i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const a of e){const o=i.findIndex(u=>u.equals(a.publicKey));$t(o>=0,`Cannot sign with non signer key ${a.publicKey.toBase58()}`),this.signatures[o]=XS(t,a.secretKey)}}addSignature(e,t){$t(t.byteLength===64,"Signature must be 64 bytes long");const a=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));$t(a>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[a]=t}}const F4=160,G4=64,V4=F4/G4,Y4=1e3/V4;new De("SysvarC1ock11111111111111111111111111111111");new De("SysvarEpochSchedu1e111111111111111111111111");new De("Sysvar1nstructions1111111111111111111111111");new De("SysvarRecentB1ockHashes11111111111111111111");new De("SysvarRent111111111111111111111111111111111");new De("SysvarRewards111111111111111111111111111111");new De("SysvarS1otHashes111111111111111111111111111");new De("SysvarS1otHistory11111111111111111111111111");new De("SysvarStakeHistory1111111111111111111111111");class y1 extends Error{constructor({action:e,signature:t,transactionMessage:i,logs:a}){const o=a?`Logs: 
${JSON.stringify(a.slice(-10),null,2)}. `:"",u="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let f;switch(e){case"send":f=`Transaction ${t} resulted in an error. 
${i}. `+o+u;break;case"simulate":f=`Simulation failed. 
Message: ${i}. 
`+o+u;break;default:f=`Unknown action '${(h=>h)(e)}'`}super(f),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=i,this.transactionLogs=a||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,i)=>{e.getTransaction(this.signature).then(a=>{if(a&&a.meta&&a.meta.logMessages){const o=a.meta.logMessages;this.transactionLogs=o,t(o)}else i(new Error("Log messages not found"))}).catch(i)})),await this.transactionLogs}}class Ie extends Error{constructor({code:e,message:t,data:i},a){super(a!=null?`${a}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=i,this.name="SolanaJSONRPCError"}}function Io(r){return new Promise(e=>setTimeout(e,r))}const Z4=Y.nu64("lamportsPerSignature"),iE=Y.struct([Y.u32("version"),Y.u32("state"),tt("authorizedPubkey"),tt("nonce"),Y.struct([Z4],"feeCalculator")]);iE.span;class xm{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=iE.decode(nl(e),0);return new xm({authorizedPubkey:new De(t.authorizedPubkey),nonce:new De(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function rl(r){const e=Y.blob(8,r),t=e.decode.bind(e),i=e.encode.bind(e),a=e,o=DR();return a.decode=(u,f)=>{const h=t(u,f);return o.decode(h)},a.encode=(u,f,h)=>{const g=o.encode(u);return i(g,f,h)},a}Object.freeze({Create:{index:0,layout:Y.struct([Y.u32("instruction"),Y.ns64("lamports"),Y.ns64("space"),tt("programId")])},Assign:{index:1,layout:Y.struct([Y.u32("instruction"),tt("programId")])},Transfer:{index:2,layout:Y.struct([Y.u32("instruction"),rl("lamports")])},CreateWithSeed:{index:3,layout:Y.struct([Y.u32("instruction"),tt("base"),$o("seed"),Y.ns64("lamports"),Y.ns64("space"),tt("programId")])},AdvanceNonceAccount:{index:4,layout:Y.struct([Y.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Y.struct([Y.u32("instruction"),Y.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Y.struct([Y.u32("instruction"),tt("authorized")])},AuthorizeNonceAccount:{index:7,layout:Y.struct([Y.u32("instruction"),tt("authorized")])},Allocate:{index:8,layout:Y.struct([Y.u32("instruction"),Y.ns64("space")])},AllocateWithSeed:{index:9,layout:Y.struct([Y.u32("instruction"),tt("base"),$o("seed"),Y.ns64("space"),tt("programId")])},AssignWithSeed:{index:10,layout:Y.struct([Y.u32("instruction"),tt("base"),$o("seed"),tt("programId")])},TransferWithSeed:{index:11,layout:Y.struct([Y.u32("instruction"),rl("lamports"),$o("seed"),tt("programId")])},UpgradeNonceAccount:{index:12,layout:Y.struct([Y.u32("instruction")])}});new De("11111111111111111111111111111111");new De("BPFLoader2111111111111111111111111111111111");function Q4(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pg,w1;function J4(){if(w1)return pg;w1=1;var r=Object.prototype.toString,e=Object.keys||function(i){var a=[];for(var o in i)a.push(o);return a};function t(i,a){var o,u,f,h,g,w,_;if(i===!0)return"true";if(i===!1)return"false";switch(typeof i){case"object":if(i===null)return null;if(i.toJSON&&typeof i.toJSON=="function")return t(i.toJSON(),a);if(_=r.call(i),_==="[object Array]"){for(f="[",u=i.length-1,o=0;o<u;o++)f+=t(i[o],!0)+",";return u>-1&&(f+=t(i[o],!0)),f+"]"}else if(_==="[object Object]"){for(h=e(i).sort(),u=h.length,f="",o=0;o<u;)g=h[o],w=t(i[g],!1),w!==void 0&&(f&&(f+=","),f+=JSON.stringify(g)+":"+w),o++;return"{"+f+"}"}else return JSON.stringify(i);case"function":case"undefined":return a?null:void 0;case"string":return JSON.stringify(i);default:return isFinite(i)?i:null}}return pg=function(i){var a=t(i,!1);if(a!==void 0)return""+a},pg}var X4=J4(),v1=Q4(X4);const su=32;function mg(r){let e=0;for(;r>1;)r/=2,e++;return e}function eC(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class tC{constructor(e,t,i,a,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=i,this.firstNormalEpoch=a,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=mg(eC(e+su+1))-mg(su)-1,i=this.getSlotsInEpoch(t),a=e-(i-su);return[t,a]}else{const t=e-this.firstNormalSlot,i=Math.floor(t/this.slotsPerEpoch),a=this.firstNormalEpoch+i,o=t%this.slotsPerEpoch;return[a,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*su:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+mg(su)):this.slotsPerEpoch}}var nC=globalThis.fetch;class rC extends _4{constructor(e,t,i){const a=o=>{const u=v4(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(a,e,t,i),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function iC(r,e){let t;try{t=r.layout.decode(e)}catch(i){throw new Error("invalid instruction; "+i)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}const b1=56;class _1{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=iC(sC,e),i=e.length-b1;$t(i>=0,"lookup table is invalid"),$t(i%32===0,"lookup table is invalid");const a=i/32,{addresses:o}=Y.struct([Y.seq(tt(),a,"addresses")]).decode(e.slice(b1));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new De(t.authority[0]):void 0,addresses:o.map(u=>new De(u))}}}const sC={index:1,layout:Y.struct([Y.u32("typeIndex"),rl("deactivationSlot"),Y.nu64("lastExtendedSlot"),Y.u8("lastExtendedStartIndex"),Y.u8(),Y.seq(tt(),Y.offset(Y.u8(),-1),"authority")])},aC=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function oC(r){const e=r.match(aC);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[t,i,a,o]=e,u=r.startsWith("https:")?"wss:":"ws:",f=a==null?null:parseInt(a.slice(1),10),h=f==null?"":`:${f+1}`;return`${u}//${i}${h}${o}`}const tn=Hu(vm(De),Ae(),r=>new De(r)),sE=bm([Ae(),en("base64")]),Mm=Hu(vm(Ze.Buffer),sE,r=>Ze.Buffer.from(r[0],"base64")),lC=30*1e3;function uC(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function Ct(r){let e,t;if(typeof r=="string")e=r;else if(r){const{commitment:i,...a}=r;e=i,t=a}return{commitment:e,config:t}}function S1(r){return r.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function aE(r){return er([Se({jsonrpc:en("2.0"),id:Ae(),result:r}),Se({jsonrpc:en("2.0"),id:Ae(),error:Se({code:ol(),message:Ae(),data:Ue(KR())})})])}const cC=aE(ol());function Ye(r){return Hu(aE(r),cC,e=>"error"in e?e:{...e,result:Me(e.result,r)})}function gn(r){return Ye(Se({context:Se({slot:ce()}),value:r}))}function bh(r){return Se({context:Se({slot:ce()}),value:r})}function yg(r,e){return r===0?new Eu({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new De(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:qn.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Fi(e)}const fC=Se({foundation:ce(),foundationTerm:ce(),initial:ce(),taper:ce(),terminal:ce()}),hC=Ye(Te(Re(Se({epoch:ce(),effectiveSlot:ce(),amount:ce(),postBalance:ce(),commission:Ue(Re(ce()))})))),dC=Te(Se({slot:ce(),prioritizationFee:ce()})),gC=Se({total:ce(),validator:ce(),foundation:ce(),epoch:ce()}),pC=Se({epoch:ce(),slotIndex:ce(),slotsInEpoch:ce(),absoluteSlot:ce(),blockHeight:Ue(ce()),transactionCount:Ue(ce())}),mC=Se({slotsPerEpoch:ce(),leaderScheduleSlotOffset:ce(),warmup:oi(),firstNormalEpoch:ce(),firstNormalSlot:ce()}),yC=PS(Ae(),Te(ce())),ka=Re(er([Se({}),Ae()])),wC=Se({err:ka}),vC=en("receivedSignature"),bC=Se({"solana-core":Ae(),"feature-set":Ue(ce())}),_C=Se({program:Ae(),programId:tn,parsed:ol()}),SC=Se({programId:tn,accounts:Te(tn),data:Ae()}),E1=gn(Se({err:Re(er([Se({}),Ae()])),logs:Re(Te(Ae())),accounts:Ue(Re(Te(Re(Se({executable:oi(),owner:Ae(),lamports:ce(),data:Te(Ae()),rentEpoch:Ue(ce())}))))),unitsConsumed:Ue(ce()),returnData:Ue(Re(Se({programId:Ae(),data:bm([Ae(),en("base64")])}))),innerInstructions:Ue(Re(Te(Se({index:ce(),instructions:Te(er([_C,SC]))}))))})),EC=gn(Se({byIdentity:PS(Ae(),Te(ce())),range:Se({firstSlot:ce(),lastSlot:ce()})}));function AC(r,e,t,i,a,o){const u=t||nC;let f;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let h;return i&&(h=async(w,_)=>{const x=await new Promise((E,C)=>{try{i(w,_,(B,k)=>E([B,k]))}catch(B){C(B)}});return await u(...x)}),new p4(async(w,_)=>{const x={method:"POST",body:w,agent:f,headers:Object.assign({"Content-Type":"application/json"},e||{},A3)};try{let E=5,C,B=500;for(;h?C=await h(r,x):C=await u(r,x),!(C.status!==429||a===!0||(E-=1,E===0));)console.error(`Server responded with ${C.status} ${C.statusText}.  Retrying after ${B}ms delay...`),await Io(B),B*=2;const k=await C.text();C.ok?_(null,k):_(new Error(`${C.status} ${C.statusText}: ${k}`))}catch(E){E instanceof Error&&_(E)}},{})}function xC(r){return(e,t)=>new Promise((i,a)=>{r.request(e,t,(o,u)=>{if(o){a(o);return}i(u)})})}function MC(r){return e=>new Promise((t,i)=>{e.length===0&&t([]);const a=e.map(o=>r.request(o.methodName,o.args));r.request(a,(o,u)=>{if(o){i(o);return}t(u)})})}const TC=Ye(fC),RC=Ye(gC),CC=Ye(dC),BC=Ye(pC),OC=Ye(mC),NC=Ye(yC),kC=Ye(ce()),IC=gn(Se({total:ce(),circulating:ce(),nonCirculating:ce(),nonCirculatingAccounts:Te(tn)})),dp=Se({amount:Ae(),uiAmount:Re(ce()),decimals:ce(),uiAmountString:Ue(Ae())}),LC=gn(Te(Se({address:tn,amount:Ae(),uiAmount:Re(ce()),decimals:ce(),uiAmountString:Ue(Ae())}))),jC=gn(Te(Se({pubkey:tn,account:Se({executable:oi(),owner:tn,lamports:ce(),data:Mm,rentEpoch:ce()})}))),gp=Se({program:Ae(),parsed:ol(),space:ce()}),UC=gn(Te(Se({pubkey:tn,account:Se({executable:oi(),owner:tn,lamports:ce(),data:gp,rentEpoch:ce()})}))),DC=gn(Te(Se({lamports:ce(),address:tn}))),xu=Se({executable:oi(),owner:tn,lamports:ce(),data:Mm,rentEpoch:ce()}),zC=Se({pubkey:tn,account:xu}),qC=Hu(er([vm(Ze.Buffer),gp]),er([sE,gp]),r=>Array.isArray(r)?Me(r,Mm):r),pp=Se({executable:oi(),owner:tn,lamports:ce(),data:qC,rentEpoch:ce()}),HC=Se({pubkey:tn,account:pp}),PC=Se({state:er([en("active"),en("inactive"),en("activating"),en("deactivating")]),active:ce(),inactive:ce()}),WC=Ye(Te(Se({signature:Ae(),slot:ce(),err:ka,memo:Re(Ae()),blockTime:Ue(Re(ce()))}))),$C=Ye(Te(Se({signature:Ae(),slot:ce(),err:ka,memo:Re(Ae()),blockTime:Ue(Re(ce()))}))),KC=Se({subscription:ce(),result:bh(xu)}),FC=Se({pubkey:tn,account:xu}),GC=Se({subscription:ce(),result:bh(FC)}),VC=Se({parent:ce(),slot:ce(),root:ce()}),YC=Se({subscription:ce(),result:VC}),ZC=er([Se({type:er([en("firstShredReceived"),en("completed"),en("optimisticConfirmation"),en("root")]),slot:ce(),timestamp:ce()}),Se({type:en("createdBank"),parent:ce(),slot:ce(),timestamp:ce()}),Se({type:en("frozen"),slot:ce(),timestamp:ce(),stats:Se({numTransactionEntries:ce(),numSuccessfulTransactions:ce(),numFailedTransactions:ce(),maxTransactionsPerEntry:ce()})}),Se({type:en("dead"),slot:ce(),timestamp:ce(),err:Ae()})]),QC=Se({subscription:ce(),result:ZC}),JC=Se({subscription:ce(),result:bh(er([wC,vC]))}),XC=Se({subscription:ce(),result:ce()}),e3=Se({pubkey:Ae(),gossip:Re(Ae()),tpu:Re(Ae()),rpc:Re(Ae()),version:Re(Ae())}),A1=Se({votePubkey:Ae(),nodePubkey:Ae(),activatedStake:ce(),epochVoteAccount:oi(),epochCredits:Te(bm([ce(),ce(),ce()])),commission:ce(),lastVote:ce(),rootSlot:Re(ce())}),t3=Ye(Se({current:Te(A1),delinquent:Te(A1)})),n3=er([en("processed"),en("confirmed"),en("finalized")]),r3=Se({slot:ce(),confirmations:Re(ce()),err:ka,confirmationStatus:Ue(n3)}),i3=gn(Te(Re(r3))),s3=Ye(ce()),oE=Se({accountKey:tn,writableIndexes:Te(ce()),readonlyIndexes:Te(ce())}),Tm=Se({signatures:Te(Ae()),message:Se({accountKeys:Te(Ae()),header:Se({numRequiredSignatures:ce(),numReadonlySignedAccounts:ce(),numReadonlyUnsignedAccounts:ce()}),instructions:Te(Se({accounts:Te(ce()),data:Ae(),programIdIndex:ce()})),recentBlockhash:Ae(),addressTableLookups:Ue(Te(oE))})}),lE=Se({pubkey:tn,signer:oi(),writable:oi(),source:Ue(er([en("transaction"),en("lookupTable")]))}),uE=Se({accountKeys:Te(lE),signatures:Te(Ae())}),cE=Se({parsed:ol(),program:Ae(),programId:tn}),fE=Se({accounts:Te(tn),data:Ae(),programId:tn}),a3=er([fE,cE]),o3=er([Se({parsed:ol(),program:Ae(),programId:Ae()}),Se({accounts:Te(Ae()),data:Ae(),programId:Ae()})]),hE=Hu(a3,o3,r=>"accounts"in r?Me(r,fE):Me(r,cE)),dE=Se({signatures:Te(Ae()),message:Se({accountKeys:Te(lE),instructions:Te(hE),recentBlockhash:Ae(),addressTableLookups:Ue(Re(Te(oE)))})}),th=Se({accountIndex:ce(),mint:Ae(),owner:Ue(Ae()),programId:Ue(Ae()),uiTokenAmount:dp}),gE=Se({writable:Te(tn),readonly:Te(tn)}),_h=Se({err:ka,fee:ce(),innerInstructions:Ue(Re(Te(Se({index:ce(),instructions:Te(Se({accounts:Te(ce()),data:Ae(),programIdIndex:ce()}))})))),preBalances:Te(ce()),postBalances:Te(ce()),logMessages:Ue(Re(Te(Ae()))),preTokenBalances:Ue(Re(Te(th))),postTokenBalances:Ue(Re(Te(th))),loadedAddresses:Ue(gE),computeUnitsConsumed:Ue(ce()),costUnits:Ue(ce())}),Rm=Se({err:ka,fee:ce(),innerInstructions:Ue(Re(Te(Se({index:ce(),instructions:Te(hE)})))),preBalances:Te(ce()),postBalances:Te(ce()),logMessages:Ue(Re(Te(Ae()))),preTokenBalances:Ue(Re(Te(th))),postTokenBalances:Ue(Re(Te(th))),loadedAddresses:Ue(gE),computeUnitsConsumed:Ue(ce()),costUnits:Ue(ce())}),ll=er([en(0),en("legacy")]),Ia=Se({pubkey:Ae(),lamports:ce(),postBalance:Re(ce()),rewardType:Re(Ae()),commission:Ue(Re(ce()))}),l3=Ye(Re(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ce(),transactions:Te(Se({transaction:Tm,meta:Re(_h),version:Ue(ll)})),rewards:Ue(Te(Ia)),blockTime:Re(ce()),blockHeight:Re(ce())}))),u3=Ye(Re(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ce(),rewards:Ue(Te(Ia)),blockTime:Re(ce()),blockHeight:Re(ce())}))),c3=Ye(Re(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ce(),transactions:Te(Se({transaction:uE,meta:Re(_h),version:Ue(ll)})),rewards:Ue(Te(Ia)),blockTime:Re(ce()),blockHeight:Re(ce())}))),f3=Ye(Re(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ce(),transactions:Te(Se({transaction:dE,meta:Re(Rm),version:Ue(ll)})),rewards:Ue(Te(Ia)),blockTime:Re(ce()),blockHeight:Re(ce())}))),h3=Ye(Re(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ce(),transactions:Te(Se({transaction:uE,meta:Re(Rm),version:Ue(ll)})),rewards:Ue(Te(Ia)),blockTime:Re(ce()),blockHeight:Re(ce())}))),d3=Ye(Re(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ce(),rewards:Ue(Te(Ia)),blockTime:Re(ce()),blockHeight:Re(ce())}))),g3=Ye(Re(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ce(),transactions:Te(Se({transaction:Tm,meta:Re(_h)})),rewards:Ue(Te(Ia)),blockTime:Re(ce())}))),x1=Ye(Re(Se({blockhash:Ae(),previousBlockhash:Ae(),parentSlot:ce(),signatures:Te(Ae()),blockTime:Re(ce())}))),wg=Ye(Re(Se({slot:ce(),meta:Re(_h),blockTime:Ue(Re(ce())),transaction:Tm,version:Ue(ll)}))),hf=Ye(Re(Se({slot:ce(),transaction:dE,meta:Re(Rm),blockTime:Ue(Re(ce())),version:Ue(ll)}))),p3=gn(Se({blockhash:Ae(),lastValidBlockHeight:ce()})),m3=gn(oi()),y3=Se({slot:ce(),numTransactions:ce(),numSlots:ce(),samplePeriodSecs:ce()}),w3=Ye(Te(y3)),v3=gn(Re(Se({feeCalculator:Se({lamportsPerSignature:ce()})}))),b3=Ye(Ae()),_3=Ye(Ae()),S3=Se({err:ka,logs:Te(Ae()),signature:Ae()}),E3=Se({result:bh(S3),subscription:ce()}),A3={"solana-client":"js/1.0.0-maintenance"};class x3{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const g={};return async w=>{const{commitment:_,config:x}=Ct(w),E=this._buildArgs([],_,void 0,x),C=v1(E);return g[C]=g[C]??(async()=>{try{const B=await this._rpcRequest("getBlockHeight",E),k=Me(B,Ye(ce()));if("error"in k)throw new Ie(k.error,"failed to get block height information");return k.result}finally{delete g[C]}})(),await g[C]}})();let i,a,o,u,f,h;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,i=t.wsEndpoint,a=t.httpHeaders,o=t.fetch,u=t.fetchMiddleware,f=t.disableRetryOnRateLimit,h=t.httpAgent),this._rpcEndpoint=uC(e),this._rpcWsEndpoint=i||oC(e),this._rpcClient=AC(e,a,o,u,f,h),this._rpcRequest=xC(this._rpcClient),this._rpcBatchRequest=MC(this._rpcClient),this._rpcWebSocket=new rC(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgs([e.toBase58()],i,void 0,a),u=await this._rpcRequest("getBalance",o),f=Me(u,gn(ce()));if("error"in f)throw new Ie(f.error,`failed to get balance for ${e.toBase58()}`);return f.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(i=>i.value).catch(i=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+i)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),i=Me(t,Ye(Re(ce())));if("error"in i)throw new Ie(i.error,`failed to get block time for slot ${e}`);return i.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=Me(e,Ye(ce()));if("error"in t)throw new Ie(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=Me(e,kC);if("error"in t)throw new Ie(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const i=await this._rpcRequest("getSupply",[t]),a=Me(i,IC);if("error"in a)throw new Ie(a.error,"failed to get supply");return a.result}async getTokenSupply(e,t){const i=this._buildArgs([e.toBase58()],t),a=await this._rpcRequest("getTokenSupply",i),o=Me(a,gn(dp));if("error"in o)throw new Ie(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,t){const i=this._buildArgs([e.toBase58()],t),a=await this._rpcRequest("getTokenAccountBalance",i),o=Me(a,gn(dp));if("error"in o)throw new Ie(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,t,i){const{commitment:a,config:o}=Ct(i);let u=[e.toBase58()];"mint"in t?u.push({mint:t.mint.toBase58()}):u.push({programId:t.programId.toBase58()});const f=this._buildArgs(u,a,"base64",o),h=await this._rpcRequest("getTokenAccountsByOwner",f),g=Me(h,jC);if("error"in g)throw new Ie(g.error,`failed to get token accounts owned by account ${e.toBase58()}`);return g.result}async getParsedTokenAccountsByOwner(e,t,i){let a=[e.toBase58()];"mint"in t?a.push({mint:t.mint.toBase58()}):a.push({programId:t.programId.toBase58()});const o=this._buildArgs(a,i,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",o),f=Me(u,UC);if("error"in f)throw new Ie(f.error,`failed to get token accounts owned by account ${e.toBase58()}`);return f.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},i=t.filter||t.commitment?[t]:[],a=await this._rpcRequest("getLargestAccounts",i),o=Me(a,DC);if("error"in o)throw new Ie(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,t){const i=this._buildArgs([e.toBase58()],t),a=await this._rpcRequest("getTokenLargestAccounts",i),o=Me(a,LC);if("error"in o)throw new Ie(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgs([e.toBase58()],i,"base64",a),u=await this._rpcRequest("getAccountInfo",o),f=Me(u,gn(Re(xu)));if("error"in f)throw new Ie(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getParsedAccountInfo(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgs([e.toBase58()],i,"jsonParsed",a),u=await this._rpcRequest("getAccountInfo",o),f=Me(u,gn(Re(pp)));if("error"in f)throw new Ie(f.error,`failed to get info about account ${e.toBase58()}`);return f.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(i){throw new Error("failed to get info about account "+e.toBase58()+": "+i)}}async getMultipleParsedAccounts(e,t){const{commitment:i,config:a}=Ct(t),o=e.map(g=>g.toBase58()),u=this._buildArgs([o],i,"jsonParsed",a),f=await this._rpcRequest("getMultipleAccounts",u),h=Me(f,gn(Te(Re(pp))));if("error"in h)throw new Ie(h.error,`failed to get info for accounts ${o}`);return h.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:i,config:a}=Ct(t),o=e.map(g=>g.toBase58()),u=this._buildArgs([o],i,"base64",a),f=await this._rpcRequest("getMultipleAccounts",u),h=Me(f,gn(Te(Re(xu))));if("error"in h)throw new Ie(h.error,`failed to get info for accounts ${o}`);return h.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,i){const{commitment:a,config:o}=Ct(t),u=this._buildArgs([e.toBase58()],a,void 0,{...o,epoch:i??o?.epoch}),f=await this._rpcRequest("getStakeActivation",u),h=Me(f,Ye(PC));if("error"in h)throw new Ie(h.error,`failed to get Stake Activation ${e.toBase58()}`);return h.result}async getProgramAccounts(e,t){const{commitment:i,config:a}=Ct(t),{encoding:o,...u}=a||{},f=this._buildArgs([e.toBase58()],i,o||"base64",{...u,...u.filters?{filters:S1(u.filters)}:null}),h=await this._rpcRequest("getProgramAccounts",f),g=Te(zC),w=u.withContext===!0?Me(h,gn(g)):Me(h,Ye(g));if("error"in w)throw new Ie(w.error,`failed to get accounts owned by program ${e.toBase58()}`);return w.result}async getParsedProgramAccounts(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgs([e.toBase58()],i,"jsonParsed",a),u=await this._rpcRequest("getProgramAccounts",o),f=Me(u,Ye(Te(HC)));if("error"in f)throw new Ie(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async confirmTransaction(e,t){let i;if(typeof e=="string")i=e;else{const o=e;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);i=o.signature}let a;try{a=qn.decode(i)}catch{throw new Error("signature must be base58 encoded: "+i)}return $t(a.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:i}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,i)=>{e!=null&&(e.aborted?i(e.reason):e.addEventListener("abort",()=>{i(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let i,a,o=!1;const u=new Promise((h,g)=>{try{i=this.onSignature(t,(_,x)=>{i=void 0;const E={context:x,value:_};h({__type:Bs.PROCESSED,response:E})},e);const w=new Promise(_=>{i==null?_():a=this._onSubscriptionStateChange(i,x=>{x==="subscribed"&&_()})});(async()=>{if(await w,o)return;const _=await this.getSignatureStatus(t);if(o||_==null)return;const{context:x,value:E}=_;if(E!=null)if(E?.err)g(E.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(E.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(E.confirmationStatus==="processed"||E.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,h({__type:Bs.PROCESSED,response:{context:x,value:E}})}})()}catch(w){g(w)}});return{abortConfirmation:()=>{a&&(a(),a=void 0),i!=null&&(this.removeSignatureListener(i),i=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:i,signature:a}}){let o=!1;const u=new Promise(_=>{const x=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let E=await x();if(!o){for(;E<=i;)if(await Io(1e3),o||(E=await x(),o))return;_({__type:Bs.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:f,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),g=this.getCancellationPromise(t);let w;try{const _=await Promise.race([g,h,u]);if(_.__type===Bs.PROCESSED)w=_.response;else throw new tE(a)}finally{o=!0,f()}return w}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:i,nonceAccountPubkey:a,nonceValue:o,signature:u}}){let f=!1;const h=new Promise(E=>{let C=o,B=null;const k=async()=>{try{const{context:U,value:q}=await this.getNonceAndContext(a,{commitment:e,minContextSlot:i});return B=U.slot,q?.nonce}catch{return C}};(async()=>{if(C=await k(),!f)for(;;){if(o!==C){E({__type:Bs.NONCE_INVALID,slotInWhichNonceDidAdvance:B});return}if(await Io(2e3),f||(C=await k(),f))return}})()}),{abortConfirmation:g,confirmationPromise:w}=this.getTransactionConfirmationPromise({commitment:e,signature:u}),_=this.getCancellationPromise(t);let x;try{const E=await Promise.race([_,w,h]);if(E.__type===Bs.PROCESSED)x=E.response;else{let C;for(;;){const B=await this.getSignatureStatus(u);if(B==null)break;if(B.context.slot<(E.slotInWhichNonceDidAdvance??i)){await Io(400);continue}C=B;break}if(C?.value){const B=e||"finalized",{confirmationStatus:k}=C.value;switch(B){case"processed":case"recent":if(k!=="processed"&&k!=="confirmed"&&k!=="finalized")throw new uu(u);break;case"confirmed":case"single":case"singleGossip":if(k!=="confirmed"&&k!=="finalized")throw new uu(u);break;case"finalized":case"max":case"root":if(k!=="finalized")throw new uu(u);break;default:}x={context:C.context,value:{err:C.value.err}}}else throw new uu(u)}}finally{f=!0,g()}return x}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let i;const a=new Promise(h=>{let g=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{g=this._confirmTransactionInitialTimeout||3e4;break}}i=setTimeout(()=>h({__type:Bs.TIMED_OUT,timeoutMs:g}),g)}),{abortConfirmation:o,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let f;try{const h=await Promise.race([u,a]);if(h.__type===Bs.PROCESSED)f=h.response;else throw new nE(t,h.timeoutMs/1e3)}finally{clearTimeout(i),o()}return f}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=Me(e,Ye(Te(e3)));if("error"in t)throw new Ie(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),i=await this._rpcRequest("getVoteAccounts",t),a=Me(i,t3);if("error"in a)throw new Ie(a.error,"failed to get vote accounts");return a.result}async getSlot(e){const{commitment:t,config:i}=Ct(e),a=this._buildArgs([],t,void 0,i),o=await this._rpcRequest("getSlot",a),u=Me(o,Ye(ce()));if("error"in u)throw new Ie(u.error,"failed to get slot");return u.result}async getSlotLeader(e){const{commitment:t,config:i}=Ct(e),a=this._buildArgs([],t,void 0,i),o=await this._rpcRequest("getSlotLeader",a),u=Me(o,Ye(Ae()));if("error"in u)throw new Ie(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(e,t){const i=[e,t],a=await this._rpcRequest("getSlotLeaders",i),o=Me(a,Ye(Te(tn)));if("error"in o)throw new Ie(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,t){const{context:i,value:a}=await this.getSignatureStatuses([e],t);$t(a.length===1);const o=a[0];return{context:i,value:o}}async getSignatureStatuses(e,t){const i=[e];t&&i.push(t);const a=await this._rpcRequest("getSignatureStatuses",i),o=Me(a,i3);if("error"in o)throw new Ie(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:t,config:i}=Ct(e),a=this._buildArgs([],t,void 0,i),o=await this._rpcRequest("getTransactionCount",a),u=Me(o,Ye(ce()));if("error"in u)throw new Ie(u.error,"failed to get transaction count");return u.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),i=await this._rpcRequest("getInflationGovernor",t),a=Me(i,TC);if("error"in a)throw new Ie(a.error,"failed to get inflation");return a.result}async getInflationReward(e,t,i){const{commitment:a,config:o}=Ct(i),u=this._buildArgs([e.map(g=>g.toBase58())],a,void 0,{...o,epoch:t??o?.epoch}),f=await this._rpcRequest("getInflationReward",u),h=Me(f,hC);if("error"in h)throw new Ie(h.error,"failed to get inflation reward");return h.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=Me(e,RC);if("error"in t)throw new Ie(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:i}=Ct(e),a=this._buildArgs([],t,void 0,i),o=await this._rpcRequest("getEpochInfo",a),u=Me(o,BC);if("error"in u)throw new Ie(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=Me(e,OC);if("error"in t)throw new Ie(t.error,"failed to get epoch schedule");const i=t.result;return new tC(i.slotsPerEpoch,i.leaderScheduleSlotOffset,i.warmup,i.firstNormalEpoch,i.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=Me(e,NC);if("error"in t)throw new Ie(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const i=this._buildArgs([e],t),a=await this._rpcRequest("getMinimumBalanceForRentExemption",i),o=Me(a,s3);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:i}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:i,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),i=Me(t,w3);if("error"in i)throw new Ie(i.error,"failed to get recent performance samples");return i.result}async getFeeCalculatorForBlockhash(e,t){const i=this._buildArgs([e],t),a=await this._rpcRequest("getFeeCalculatorForBlockhash",i),o=Me(a,v3);if("error"in o)throw new Ie(o.error,"failed to get fee calculator");const{context:u,value:f}=o.result;return{context:u,value:f!==null?f.feeCalculator:null}}async getFeeForMessage(e,t){const i=nl(e.serialize()).toString("base64"),a=this._buildArgs([i],t),o=await this._rpcRequest("getFeeForMessage",a),u=Me(o,gn(Re(ce())));if("error"in u)throw new Ie(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map(u=>u.toBase58()),i=t?.length?[t]:[],a=await this._rpcRequest("getRecentPrioritizationFees",i),o=Me(a,CC);if("error"in o)throw new Ie(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:i}=Ct(e),a=this._buildArgs([],t,void 0,i),o=await this._rpcRequest("getLatestBlockhash",a),u=Me(o,p3);if("error"in u)throw new Ie(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgs([e],i,void 0,a),u=await this._rpcRequest("isBlockhashValid",o),f=Me(u,m3);if("error"in f)throw new Ie(f.error,"failed to determine if the blockhash `"+e+"`is valid");return f.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=Me(e,Ye(bC));if("error"in t)throw new Ie(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=Me(e,Ye(Ae()));if("error"in t)throw new Ie(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgsAtLeastConfirmed([e],i,void 0,a),u=await this._rpcRequest("getBlock",o);try{switch(a?.transactionDetails){case"accounts":{const f=Me(u,c3);if("error"in f)throw f.error;return f.result}case"none":{const f=Me(u,u3);if("error"in f)throw f.error;return f.result}default:{const f=Me(u,l3);if("error"in f)throw f.error;const{result:h}=f;return h?{...h,transactions:h.transactions.map(({transaction:g,meta:w,version:_})=>({meta:w,transaction:{...g,message:yg(_,g.message)},version:_}))}:null}}}catch(f){throw new Ie(f,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",a),u=await this._rpcRequest("getBlock",o);try{switch(a?.transactionDetails){case"accounts":{const f=Me(u,h3);if("error"in f)throw f.error;return f.result}case"none":{const f=Me(u,d3);if("error"in f)throw f.error;return f.result}default:{const f=Me(u,f3);if("error"in f)throw f.error;return f.result}}}catch(f){throw new Ie(f,"failed to get block")}}async getBlockProduction(e){let t,i;if(typeof e=="string")i=e;else if(e){const{commitment:f,...h}=e;i=f,t=h}const a=this._buildArgs([],i,"base64",t),o=await this._rpcRequest("getBlockProduction",a),u=Me(o,EC);if("error"in u)throw new Ie(u.error,"failed to get block production information");return u.result}async getTransaction(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgsAtLeastConfirmed([e],i,void 0,a),u=await this._rpcRequest("getTransaction",o),f=Me(u,wg);if("error"in f)throw new Ie(f.error,"failed to get transaction");const h=f.result;return h&&{...h,transaction:{...h.transaction,message:yg(h.version,h.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:i,config:a}=Ct(t),o=this._buildArgsAtLeastConfirmed([e],i,"jsonParsed",a),u=await this._rpcRequest("getTransaction",o),f=Me(u,hf);if("error"in f)throw new Ie(f.error,"failed to get transaction");return f.result}async getParsedTransactions(e,t){const{commitment:i,config:a}=Ct(t),o=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],i,"jsonParsed",a)}));return(await this._rpcBatchRequest(o)).map(h=>{const g=Me(h,hf);if("error"in g)throw new Ie(g.error,"failed to get transactions");return g.result})}async getTransactions(e,t){const{commitment:i,config:a}=Ct(t),o=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],i,void 0,a)}));return(await this._rpcBatchRequest(o)).map(h=>{const g=Me(h,wg);if("error"in g)throw new Ie(g.error,"failed to get transactions");const w=g.result;return w&&{...w,transaction:{...w.transaction,message:yg(w.version,w.transaction.message)}}})}async getConfirmedBlock(e,t){const i=this._buildArgsAtLeastConfirmed([e],t),a=await this._rpcRequest("getBlock",i),o=Me(a,g3);if("error"in o)throw new Ie(o.error,"failed to get confirmed block");const u=o.result;if(!u)throw new Error("Confirmed block "+e+" not found");const f={...u,transactions:u.transactions.map(({transaction:h,meta:g})=>{const w=new Fi(h.message);return{meta:g,transaction:{...h,message:w}}})};return{...f,transactions:f.transactions.map(({transaction:h,meta:g})=>({meta:g,transaction:$r.populate(h.message,h.signatures)}))}}async getBlocks(e,t,i){const a=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],i),o=await this._rpcRequest("getBlocks",a),u=Me(o,Ye(Te(ce())));if("error"in u)throw new Ie(u.error,"failed to get blocks");return u.result}async getBlockSignatures(e,t){const i=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),a=await this._rpcRequest("getBlock",i),o=Me(a,x1);if("error"in o)throw new Ie(o.error,"failed to get block");const u=o.result;if(!u)throw new Error("Block "+e+" not found");return u}async getConfirmedBlockSignatures(e,t){const i=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),a=await this._rpcRequest("getBlock",i),o=Me(a,x1);if("error"in o)throw new Ie(o.error,"failed to get confirmed block");const u=o.result;if(!u)throw new Error("Confirmed block "+e+" not found");return u}async getConfirmedTransaction(e,t){const i=this._buildArgsAtLeastConfirmed([e],t),a=await this._rpcRequest("getTransaction",i),o=Me(a,wg);if("error"in o)throw new Ie(o.error,"failed to get transaction");const u=o.result;if(!u)return u;const f=new Fi(u.transaction.message),h=u.transaction.signatures;return{...u,transaction:$r.populate(f,h)}}async getParsedConfirmedTransaction(e,t){const i=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),a=await this._rpcRequest("getTransaction",i),o=Me(a,hf);if("error"in o)throw new Ie(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,t){const i=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],t,"jsonParsed")}));return(await this._rpcBatchRequest(i)).map(u=>{const f=Me(u,hf);if("error"in f)throw new Ie(f.error,"failed to get confirmed transactions");return f.result})}async getConfirmedSignaturesForAddress(e,t,i){let a={},o=await this.getFirstAvailableBlock();for(;!("until"in a)&&(t--,!(t<=0||t<o));)try{const h=await this.getConfirmedBlockSignatures(t,"finalized");h.signatures.length>0&&(a.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let u=await this.getSlot("finalized");for(;!("before"in a)&&(i++,!(i>u));)try{const h=await this.getConfirmedBlockSignatures(i);h.signatures.length>0&&(a.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(e,a)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(e,t,i){const a=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",a),u=Me(o,WC);if("error"in u)throw new Ie(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(e,t,i){const a=this._buildArgsAtLeastConfirmed([e.toBase58()],i,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",a),u=Me(o,$C);if("error"in u)throw new Ie(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(e,t){const{context:i,value:a}=await this.getAccountInfoAndContext(e,t);let o=null;return a!==null&&(o=new _1({key:e,state:_1.deserialize(a.data)})),{context:i,value:o}}async getNonceAndContext(e,t){const{context:i,value:a}=await this.getAccountInfoAndContext(e,t);let o=null;return a!==null&&(o=xm.fromAccountData(a.data)),{context:i,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(i=>i.value).catch(i=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+i)})}async requestAirdrop(e,t){const i=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),a=Me(i,b3);if("error"in a)throw new Ie(a.error,`airdrop to ${e.toBase58()} failed`);return a.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Io(100);const i=Date.now()-this._blockhashInfo.lastFetch>=lC;if(this._blockhashInfo.latestBlockhash!==null&&!i)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,i=t?t.blockhash:null;for(let a=0;a<50;a++){const o=await this.getLatestBlockhash("finalized");if(i!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Io(Y4/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:i}=Ct(e),a=this._buildArgs([],t,"base64",i),o=await this._rpcRequest("getStakeMinimumDelegation",a),u=Me(o,gn(ce()));if("error"in u)throw new Ie(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(e,t,i){if("message"in e){const B=e.serialize(),k=Ze.Buffer.from(B).toString("base64");if(Array.isArray(t)||i!==void 0)throw new Error("Invalid arguments");const U=t||{};U.encoding="base64","commitment"in U||(U.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(U.innerInstructions=t.innerInstructions);const q=[k,U],L=await this._rpcRequest("simulateTransaction",q),G=Me(L,E1);if("error"in G)throw new Error("failed to simulate transaction: "+G.error.message);return G.result}let a;if(e instanceof $r){let C=e;a=new $r,a.feePayer=C.feePayer,a.instructions=e.instructions,a.nonceInfo=C.nonceInfo,a.signatures=C.signatures}else a=$r.populate(e),a._message=a._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(a.nonceInfo&&o)a.sign(...o);else{let C=this._disableBlockhashCaching;for(;;){const B=await this._blockhashWithExpiryBlockHeight(C);if(a.lastValidBlockHeight=B.lastValidBlockHeight,a.recentBlockhash=B.blockhash,!o)break;if(a.sign(...o),!a.signature)throw new Error("!signature");const k=a.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(k)&&!this._blockhashInfo.transactionSignatures.includes(k)){this._blockhashInfo.simulatedSignatures.push(k);break}else C=!0}}const u=a._compile(),f=u.serialize(),g=a._serialize(f).toString("base64"),w={encoding:"base64",commitment:this.commitment};if(i){const C=(Array.isArray(i)?i:u.nonProgramIds()).map(B=>B.toBase58());w.accounts={encoding:"base64",addresses:C}}o&&(w.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(w.innerInstructions=t.innerInstructions);const _=[g,w],x=await this._rpcRequest("simulateTransaction",_),E=Me(x,E1);if("error"in E){let C;if("data"in E.error&&(C=E.error.data.logs,C&&Array.isArray(C))){const B=`
    `,k=B+C.join(B);console.error(E.error.message,k)}throw new y1({action:"simulate",signature:"",transactionMessage:E.error.message,logs:C})}return E.result}async sendTransaction(e,t,i){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const u=e.serialize();return await this.sendRawTransaction(u,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const a=t;if(e.nonceInfo)e.sign(...a);else{let u=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(u);if(e.lastValidBlockHeight=f.lastValidBlockHeight,e.recentBlockhash=f.blockhash,e.sign(...a),!e.signature)throw new Error("!signature");const h=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))u=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const o=e.serialize();return await this.sendRawTransaction(o,i)}async sendRawTransaction(e,t){const i=nl(e).toString("base64");return await this.sendEncodedTransaction(i,t)}async sendEncodedTransaction(e,t){const i={encoding:"base64"},a=t&&t.skipPreflight,o=a===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(i.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(i.minContextSlot=t.minContextSlot),a&&(i.skipPreflight=a),o&&(i.preflightCommitment=o);const u=[e,i],f=await this._rpcRequest("sendTransaction",u),h=Me(f,_3);if("error"in h){let g;throw"data"in h.error&&(g=h.error.data.logs),new y1({action:a?"send":"simulate",signature:"",transactionMessage:h.error.message,logs:g})}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,i])=>{this._setSubscription(t,{...i,state:"pending"})})}_setSubscription(e,t){const i=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,i!==t.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const i=this._subscriptionHashByClientSubscriptionId[e];if(i==null)return()=>{};const a=this._subscriptionStateChangeCallbacksByHash[i]||=new Set;return a.add(t),()=>{a.delete(t),a.size===0&&delete this._subscriptionStateChangeCallbacksByHash[i]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(i){i instanceof Error&&console.log(`Error when closing socket connection: ${i.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async i=>{const a=this._subscriptionsByHash[i];if(a!==void 0)switch(a.state){case"pending":case"unsubscribed":if(a.callbacks.size===0){delete this._subscriptionsByHash[i],a.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[a.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:u}=a;try{this._setSubscription(i,{...a,state:"subscribing"});const f=await this._rpcWebSocket.call(u,o);this._setSubscription(i,{...a,serverSubscriptionId:f,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[f]=a.callbacks,await this._updateSubscriptions()}catch(f){if(console.error(`Received ${f instanceof Error?"":"JSON-RPC "}error calling \`${u}\``,{args:o,error:f}),!t())return;this._setSubscription(i,{...a,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":a.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:u}=a;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(i,{...a,state:"unsubscribing"}),this._setSubscription(i,{...a,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[o])}catch(f){if(f instanceof Error&&console.error(`${u} error:`,f.message),!t())return;this._setSubscription(i,{...a,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(i,{...a,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const i=this._subscriptionCallbacksByServerSubscriptionId[e];i!==void 0&&i.forEach(a=>{try{a(...t)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:t,subscription:i}=Me(e,KC);this._handleServerNotification(i,[t.value,t.context])}_makeSubscription(e,t){const i=this._nextClientSubscriptionId++,a=v1([e.method,t]),o=this._subscriptionsByHash[a];return o===void 0?this._subscriptionsByHash[a]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[i]=a,this._subscriptionDisposeFunctionsByClientSubscriptionId[i]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[i],delete this._subscriptionHashByClientSubscriptionId[i];const u=this._subscriptionsByHash[a];$t(u!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${i}`),u.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),i}onAccountChange(e,t,i){const{commitment:a,config:o}=Ct(i),u=this._buildArgs([e.toBase58()],a||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:i}=Me(e,GC);this._handleServerNotification(i,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,i,a){const{commitment:o,config:u}=Ct(i),f=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",u||(a?{filters:S1(a)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},f)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,i){const a=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],i||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},a)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:i}=Me(e,E3);this._handleServerNotification(i,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:i}=Me(e,YC);this._handleServerNotification(i,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:i}=Me(e,QC);this._handleServerNotification(i,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const i=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];i?await i():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,i,a){const o=t||this._commitment;if(o||i||a){let u={};i&&(u.encoding=i),o&&(u.commitment=o),a&&(u=Object.assign(u,a)),e.push(u)}return e}_buildArgsAtLeastConfirmed(e,t,i,a){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,i,a)}_wsOnSignatureNotification(e){const{result:t,subscription:i}=Me(e,JC);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(i),this._handleServerNotification(i,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,i){const a=this._buildArgs([e],i||this._commitment||"finalized"),o=this._makeSubscription({callback:(u,f)=>{if(u.type==="status"){t(u.result,f);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return o}onSignatureWithOptions(e,t,i){const{commitment:a,...o}={...i,commitment:i&&i.commitment||this._commitment||"finalized"},u=this._buildArgs([e],a,void 0,o),f=this._makeSubscription({callback:(h,g)=>{t(h,g);try{this.removeSignatureListener(f)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return f}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:i}=Me(e,XC);this._handleServerNotification(i,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:Y.struct([Y.u32("instruction"),rl("recentSlot"),Y.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Y.struct([Y.u32("instruction")])},ExtendLookupTable:{index:2,layout:Y.struct([Y.u32("instruction"),rl(),Y.seq(tt(),Y.offset(Y.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Y.struct([Y.u32("instruction")])},CloseLookupTable:{index:4,layout:Y.struct([Y.u32("instruction")])}});new De("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:Y.struct([Y.u8("instruction"),Y.u32("units"),Y.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Y.struct([Y.u8("instruction"),Y.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Y.struct([Y.u8("instruction"),Y.u32("units")])},SetComputeUnitPrice:{index:3,layout:Y.struct([Y.u8("instruction"),rl("microLamports")])}});new De("ComputeBudget111111111111111111111111111111");Y.struct([Y.u8("numSignatures"),Y.u8("padding"),Y.u16("signatureOffset"),Y.u16("signatureInstructionIndex"),Y.u16("publicKeyOffset"),Y.u16("publicKeyInstructionIndex"),Y.u16("messageDataOffset"),Y.u16("messageDataSize"),Y.u16("messageInstructionIndex")]);new De("Ed25519SigVerify111111111111111111111111111");L4.utils.isValidPrivateKey;Y.struct([Y.u8("numSignatures"),Y.u16("signatureOffset"),Y.u8("signatureInstructionIndex"),Y.u16("ethAddressOffset"),Y.u8("ethAddressInstructionIndex"),Y.u16("messageDataOffset"),Y.u16("messageDataSize"),Y.u8("messageInstructionIndex"),Y.blob(20,"ethAddress"),Y.blob(64,"signature"),Y.u8("recoveryId")]);new De("KeccakSecp256k11111111111111111111111111111");var pE;new De("StakeConfig11111111111111111111111111111111");class mE{constructor(e,t,i){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=i}}pE=mE;mE.default=new pE(0,0,De.default);Object.freeze({Initialize:{index:0,layout:Y.struct([Y.u32("instruction"),H4(),P4()])},Authorize:{index:1,layout:Y.struct([Y.u32("instruction"),tt("newAuthorized"),Y.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Y.struct([Y.u32("instruction")])},Split:{index:3,layout:Y.struct([Y.u32("instruction"),Y.ns64("lamports")])},Withdraw:{index:4,layout:Y.struct([Y.u32("instruction"),Y.ns64("lamports")])},Deactivate:{index:5,layout:Y.struct([Y.u32("instruction")])},Merge:{index:7,layout:Y.struct([Y.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Y.struct([Y.u32("instruction"),tt("newAuthorized"),Y.u32("stakeAuthorizationType"),$o("authoritySeed"),tt("authorityOwner")])}});new De("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:Y.struct([Y.u32("instruction"),W4()])},Authorize:{index:1,layout:Y.struct([Y.u32("instruction"),tt("newAuthorized"),Y.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Y.struct([Y.u32("instruction"),Y.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Y.struct([Y.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Y.struct([Y.u32("instruction"),$4()])}});new De("Vote111111111111111111111111111111111111111");new De("Va1idator1nfo111111111111111111111111111111");Se({name:Ae(),website:Ue(Ae()),details:Ue(Ae()),iconUrl:Ue(Ae()),keybaseUsername:Ue(Ae())});new De("Vote111111111111111111111111111111111111111");Y.struct([tt("nodePubkey"),tt("authorizedWithdrawer"),Y.u8("commission"),Y.nu64(),Y.seq(Y.struct([Y.nu64("slot"),Y.u32("confirmationCount")]),Y.offset(Y.u32(),-8),"votes"),Y.u8("rootSlotValid"),Y.nu64("rootSlot"),Y.nu64(),Y.seq(Y.struct([Y.nu64("epoch"),tt("authorizedVoter")]),Y.offset(Y.u32(),-8),"authorizedVoters"),Y.struct([Y.seq(Y.struct([tt("authorizedPubkey"),Y.nu64("epochOfLastAuthorizedSwitch"),Y.nu64("targetEpoch")]),32,"buf"),Y.nu64("idx"),Y.u8("isEmpty")],"priorVoters"),Y.nu64(),Y.seq(Y.struct([Y.nu64("epoch"),Y.nu64("credits"),Y.nu64("prevCredits")]),Y.offset(Y.u32(),-8),"epochCredits"),Y.struct([Y.nu64("slot"),Y.nu64("timestamp")],"lastTimestamp")]);const yE=X.createContext({});function M3(){return X.useContext(yE)}const T3=({children:r,endpoint:e,config:t={commitment:"confirmed"}})=>{const i=X.useMemo(()=>new x3(e,t),[e,t]);return xe.createElement(yE.Provider,{value:{connection:i}},r)};class On extends Error{constructor(e,t){super(e),this.error=t}}class Ma extends On{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class R3 extends On{constructor(){super(...arguments),this.name="WalletLoadError"}}class Ko extends On{constructor(){super(...arguments),this.name="WalletConfigError"}}class Ta extends On{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Cm extends On{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Bm extends On{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class ma extends On{constructor(){super(...arguments),this.name="WalletAccountError"}}class il extends On{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class pn extends On{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Pi extends On{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Fr extends On{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Sh extends On{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class M1 extends On{constructor(){super(...arguments),this.name="WalletSignInError"}}var Qe;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(Qe||(Qe={}));class wE extends _m{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,i={}){const a=this.publicKey;if(!a)throw new pn;return e.feePayer=e.feePayer||a,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:i.preflightCommitment,minContextSlot:i.minContextSlot})).blockhash,e}}function vE(r){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(r())for(const o of e)o()}const i=setInterval(t,1e3);e.push(()=>clearInterval(i)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}function mp(){if(!navigator)return!1;const r=navigator.userAgent.toLowerCase(),e=r.includes("iphone")||r.includes("ipad"),t=r.includes("safari");return e&&t}function Wi(r){return"version"in r}class C3 extends wE{async sendTransaction(e,t,i={}){let a=!0;try{if(Wi(e)){if(!this.supportedTransactionVersions)throw new Pi("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Pi(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const o=e.serialize();return await t.sendRawTransaction(o,i)}catch(o){throw o instanceof Fr?(a=!1,o):new Pi(o?.message,o)}}else try{const{signers:o,...u}=i;e=await this.prepareTransaction(e,t,u),o?.length&&e.partialSign(...o),e=await this.signTransaction(e);const f=e.serialize();return await t.sendRawTransaction(f,u)}catch(o){throw o instanceof Fr?(a=!1,o):new Pi(o?.message,o)}}catch(o){throw a&&this.emit("error",o),o}}async signAllTransactions(e){for(const i of e)if(Wi(i)){if(!this.supportedTransactionVersions)throw new Fr("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(i.version))throw new Fr(`Signing transaction version ${i.version} isn't supported by this wallet`)}const t=[];for(const i of e)t.push(await this.signTransaction(i));return t}}class Om extends C3{}class B3 extends Om{}const Xn="solana:signAndSendTransaction",Aa="solana:signIn",zi="solana:signMessage",Kt="solana:signTransaction",Eh="standard:connect",nh="standard:disconnect",Ah="standard:events";function O3(r){return Eh in r.features&&Ah in r.features&&(Xn in r.features||Kt in r.features)}var yp;(function(r){r.Mainnet="mainnet-beta",r.Testnet="testnet",r.Devnet="devnet"})(yp||(yp={}));class T1 extends On{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const N3=[],xh={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){Pr("call","select")},connect(){return Promise.reject(Pr("call","connect"))},disconnect(){return Promise.reject(Pr("call","disconnect"))},sendTransaction(){return Promise.reject(Pr("call","sendTransaction"))},signTransaction(){return Promise.reject(Pr("call","signTransaction"))},signAllTransactions(){return Promise.reject(Pr("call","signAllTransactions"))},signMessage(){return Promise.reject(Pr("call","signMessage"))},signIn(){return Promise.reject(Pr("call","signIn"))}};Object.defineProperty(xh,"wallets",{get(){return Pr("read","wallets"),N3}});Object.defineProperty(xh,"wallet",{get(){return Pr("read","wallet"),null}});Object.defineProperty(xh,"publicKey",{get(){return Pr("read","publicKey"),null}});function Pr(r,e){const t=new Error(`You have tried to ${r} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(t),t}const bE=X.createContext(xh);function Pu(){return X.useContext(bE)}function k3(r,e){const t=X.useState(()=>{try{const o=localStorage.getItem(r);if(o)return JSON.parse(o)}catch(o){typeof window<"u"&&console.error(o)}return e}),i=t[0],a=X.useRef(!0);return X.useEffect(()=>{if(a.current){a.current=!1;return}try{i===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(i))}catch(o){typeof window<"u"&&console.error(o)}},[i,r]),t}var To={},vg,R1;function I3(){return R1||(R1=1,vg=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),vg}var bg={},Os={},C1;function La(){if(C1)return Os;C1=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Os.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},Os.getSymbolTotalCodewords=function(i){return e[i]},Os.getBCHDigit=function(t){let i=0;for(;t!==0;)i++,t>>>=1;return i},Os.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');r=i},Os.isKanjiModeEnabled=function(){return typeof r<"u"},Os.toSJIS=function(i){return r(i)},Os}var _g={},B1;function Nm(){return B1||(B1=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},r.from=function(i,a){if(r.isValid(i))return i;try{return e(i)}catch{return a}}})(_g)),_g}var Sg,O1;function L3(){if(O1)return Sg;O1=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let i=0;i<t;i++)this.putBit((e>>>t-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Sg=r,Sg}var Eg,N1;function j3(){if(N1)return Eg;N1=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,t,i,a){const o=e*this.size+t;this.data[o]=i,a&&(this.reservedBit[o]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,i){this.data[e*this.size+t]^=i},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Eg=r,Eg}var Ag={},k1;function U3(){return k1||(k1=1,(function(r){const e=La().getSymbolSize;r.getRowColCoords=function(i){if(i===1)return[];const a=Math.floor(i/7)+2,o=e(i),u=o===145?26:Math.ceil((o-13)/(2*a-2))*2,f=[o-7];for(let h=1;h<a-1;h++)f[h]=f[h-1]-u;return f.push(6),f.reverse()},r.getPositions=function(i){const a=[],o=r.getRowColCoords(i),u=o.length;for(let f=0;f<u;f++)for(let h=0;h<u;h++)f===0&&h===0||f===0&&h===u-1||f===u-1&&h===0||a.push([o[f],o[h]]);return a}})(Ag)),Ag}var xg={},I1;function D3(){if(I1)return xg;I1=1;const r=La().getSymbolSize,e=7;return xg.getPositions=function(i){const a=r(i);return[[0,0],[a-e,0],[0,a-e]]},xg}var Mg={},L1;function z3(){return L1||(L1=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},r.from=function(a){return r.isValid(a)?parseInt(a,10):void 0},r.getPenaltyN1=function(a){const o=a.size;let u=0,f=0,h=0,g=null,w=null;for(let _=0;_<o;_++){f=h=0,g=w=null;for(let x=0;x<o;x++){let E=a.get(_,x);E===g?f++:(f>=5&&(u+=e.N1+(f-5)),g=E,f=1),E=a.get(x,_),E===w?h++:(h>=5&&(u+=e.N1+(h-5)),w=E,h=1)}f>=5&&(u+=e.N1+(f-5)),h>=5&&(u+=e.N1+(h-5))}return u},r.getPenaltyN2=function(a){const o=a.size;let u=0;for(let f=0;f<o-1;f++)for(let h=0;h<o-1;h++){const g=a.get(f,h)+a.get(f,h+1)+a.get(f+1,h)+a.get(f+1,h+1);(g===4||g===0)&&u++}return u*e.N2},r.getPenaltyN3=function(a){const o=a.size;let u=0,f=0,h=0;for(let g=0;g<o;g++){f=h=0;for(let w=0;w<o;w++)f=f<<1&2047|a.get(g,w),w>=10&&(f===1488||f===93)&&u++,h=h<<1&2047|a.get(w,g),w>=10&&(h===1488||h===93)&&u++}return u*e.N3},r.getPenaltyN4=function(a){let o=0;const u=a.data.length;for(let h=0;h<u;h++)o+=a.data[h];return Math.abs(Math.ceil(o*100/u/5)-10)*e.N4};function t(i,a,o){switch(i){case r.Patterns.PATTERN000:return(a+o)%2===0;case r.Patterns.PATTERN001:return a%2===0;case r.Patterns.PATTERN010:return o%3===0;case r.Patterns.PATTERN011:return(a+o)%3===0;case r.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case r.Patterns.PATTERN101:return a*o%2+a*o%3===0;case r.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case r.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}r.applyMask=function(a,o){const u=o.size;for(let f=0;f<u;f++)for(let h=0;h<u;h++)o.isReserved(h,f)||o.xor(h,f,t(a,h,f))},r.getBestMask=function(a,o){const u=Object.keys(r.Patterns).length;let f=0,h=1/0;for(let g=0;g<u;g++){o(g),r.applyMask(g,a);const w=r.getPenaltyN1(a)+r.getPenaltyN2(a)+r.getPenaltyN3(a)+r.getPenaltyN4(a);r.applyMask(g,a),w<h&&(h=w,f=g)}return f}})(Mg)),Mg}var df={},j1;function _E(){if(j1)return df;j1=1;const r=Nm(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return df.getBlocksCount=function(a,o){switch(o){case r.L:return e[(a-1)*4+0];case r.M:return e[(a-1)*4+1];case r.Q:return e[(a-1)*4+2];case r.H:return e[(a-1)*4+3];default:return}},df.getTotalCodewordsCount=function(a,o){switch(o){case r.L:return t[(a-1)*4+0];case r.M:return t[(a-1)*4+1];case r.Q:return t[(a-1)*4+2];case r.H:return t[(a-1)*4+3];default:return}},df}var Tg={},au={},U1;function q3(){if(U1)return au;U1=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let i=1;for(let a=0;a<255;a++)r[a]=i,e[i]=a,i<<=1,i&256&&(i^=285);for(let a=255;a<512;a++)r[a]=r[a-255]})(),au.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},au.exp=function(i){return r[i]},au.mul=function(i,a){return i===0||a===0?0:r[e[i]+e[a]]},au}var D1;function H3(){return D1||(D1=1,(function(r){const e=q3();r.mul=function(i,a){const o=new Uint8Array(i.length+a.length-1);for(let u=0;u<i.length;u++)for(let f=0;f<a.length;f++)o[u+f]^=e.mul(i[u],a[f]);return o},r.mod=function(i,a){let o=new Uint8Array(i);for(;o.length-a.length>=0;){const u=o[0];for(let h=0;h<a.length;h++)o[h]^=e.mul(a[h],u);let f=0;for(;f<o.length&&o[f]===0;)f++;o=o.slice(f)}return o},r.generateECPolynomial=function(i){let a=new Uint8Array([1]);for(let o=0;o<i;o++)a=r.mul(a,new Uint8Array([1,e.exp(o)]));return a}})(Tg)),Tg}var Rg,z1;function P3(){if(z1)return Rg;z1=1;const r=H3();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(i.length+this.degree);a.set(i);const o=r.mod(a,this.genPoly),u=this.degree-o.length;if(u>0){const f=new Uint8Array(this.degree);return f.set(o,u),f}return o},Rg=e,Rg}var Cg={},Bg={},Og={},q1;function SE(){return q1||(q1=1,Og.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Og}var si={},H1;function EE(){if(H1)return si;H1=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;si.KANJI=new RegExp(t,"g"),si.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),si.BYTE=new RegExp(i,"g"),si.NUMERIC=new RegExp(r,"g"),si.ALPHANUMERIC=new RegExp(e,"g");const a=new RegExp("^"+t+"$"),o=new RegExp("^"+r+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return si.testKanji=function(h){return a.test(h)},si.testNumeric=function(h){return o.test(h)},si.testAlphanumeric=function(h){return u.test(h)},si}var P1;function ja(){return P1||(P1=1,(function(r){const e=SE(),t=EE();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(o,u){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?o.ccBits[0]:u<27?o.ccBits[1]:o.ccBits[2]},r.getBestModeForData=function(o){return t.testNumeric(o)?r.NUMERIC:t.testAlphanumeric(o)?r.ALPHANUMERIC:t.testKanji(o)?r.KANJI:r.BYTE},r.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},r.isValid=function(o){return o&&o.bit&&o.ccBits};function i(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+a)}}r.from=function(o,u){if(r.isValid(o))return o;try{return i(o)}catch{return u}}})(Bg)),Bg}var W1;function W3(){return W1||(W1=1,(function(r){const e=La(),t=_E(),i=Nm(),a=ja(),o=SE(),u=7973,f=e.getBCHDigit(u);function h(x,E,C){for(let B=1;B<=40;B++)if(E<=r.getCapacity(B,C,x))return B}function g(x,E){return a.getCharCountIndicator(x,E)+4}function w(x,E){let C=0;return x.forEach(function(B){const k=g(B.mode,E);C+=k+B.getBitsLength()}),C}function _(x,E){for(let C=1;C<=40;C++)if(w(x,C)<=r.getCapacity(C,E,a.MIXED))return C}r.from=function(E,C){return o.isValid(E)?parseInt(E,10):C},r.getCapacity=function(E,C,B){if(!o.isValid(E))throw new Error("Invalid QR Code version");typeof B>"u"&&(B=a.BYTE);const k=e.getSymbolTotalCodewords(E),U=t.getTotalCodewordsCount(E,C),q=(k-U)*8;if(B===a.MIXED)return q;const L=q-g(B,E);switch(B){case a.NUMERIC:return Math.floor(L/10*3);case a.ALPHANUMERIC:return Math.floor(L/11*2);case a.KANJI:return Math.floor(L/13);case a.BYTE:default:return Math.floor(L/8)}},r.getBestVersionForData=function(E,C){let B;const k=i.from(C,i.M);if(Array.isArray(E)){if(E.length>1)return _(E,k);if(E.length===0)return 1;B=E[0]}else B=E;return h(B.mode,B.getLength(),k)},r.getEncodedBits=function(E){if(!o.isValid(E)||E<7)throw new Error("Invalid QR Code version");let C=E<<12;for(;e.getBCHDigit(C)-f>=0;)C^=u<<e.getBCHDigit(C)-f;return E<<12|C}})(Cg)),Cg}var Ng={},$1;function $3(){if($1)return Ng;$1=1;const r=La(),e=1335,t=21522,i=r.getBCHDigit(e);return Ng.getEncodedBits=function(o,u){const f=o.bit<<3|u;let h=f<<10;for(;r.getBCHDigit(h)-i>=0;)h^=e<<r.getBCHDigit(h)-i;return(f<<10|h)^t},Ng}var kg={},Ig,K1;function K3(){if(K1)return Ig;K1=1;const r=ja();function e(t){this.mode=r.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let a,o,u;for(a=0;a+3<=this.data.length;a+=3)o=this.data.substr(a,3),u=parseInt(o,10),i.put(u,10);const f=this.data.length-a;f>0&&(o=this.data.substr(a),u=parseInt(o,10),i.put(u,f*3+1))},Ig=e,Ig}var Lg,F1;function F3(){if(F1)return Lg;F1=1;const r=ja(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(i){this.mode=r.ALPHANUMERIC,this.data=i}return t.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){let o;for(o=0;o+2<=this.data.length;o+=2){let u=e.indexOf(this.data[o])*45;u+=e.indexOf(this.data[o+1]),a.put(u,11)}this.data.length%2&&a.put(e.indexOf(this.data[o]),6)},Lg=t,Lg}var jg,G1;function G3(){if(G1)return jg;G1=1;const r=ja();function e(t){this.mode=r.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(i){return i*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let i=0,a=this.data.length;i<a;i++)t.put(this.data[i],8)},jg=e,jg}var Ug,V1;function V3(){if(V1)return Ug;V1=1;const r=ja(),e=La();function t(i){this.mode=r.KANJI,this.data=i}return t.getBitsLength=function(a){return a*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let a;for(a=0;a<this.data.length;a++){let o=e.toSJIS(this.data[a]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),i.put(o,13)}},Ug=t,Ug}var Dg={exports:{}},Y1;function Y3(){return Y1||(Y1=1,(function(r){var e={single_source_shortest_paths:function(t,i,a){var o={},u={};u[i]=0;var f=e.PriorityQueue.make();f.push(i,0);for(var h,g,w,_,x,E,C,B,k;!f.empty();){h=f.pop(),g=h.value,_=h.cost,x=t[g]||{};for(w in x)x.hasOwnProperty(w)&&(E=x[w],C=_+E,B=u[w],k=typeof u[w]>"u",(k||B>C)&&(u[w]=C,f.push(w,C),o[w]=g))}if(typeof a<"u"&&typeof u[a]>"u"){var U=["Could not find a path from ",i," to ",a,"."].join("");throw new Error(U)}return o},extract_shortest_path_from_predecessor_list:function(t,i){for(var a=[],o=i;o;)a.push(o),t[o],o=t[o];return a.reverse(),a},find_path:function(t,i,a){var o=e.single_source_shortest_paths(t,i,a);return e.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(t){var i=e.PriorityQueue,a={},o;t=t||{};for(o in i)i.hasOwnProperty(o)&&(a[o]=i[o]);return a.queue=[],a.sorter=t.sorter||i.default_sorter,a},default_sorter:function(t,i){return t.cost-i.cost},push:function(t,i){var a={value:t,cost:i};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Dg)),Dg.exports}var Z1;function Z3(){return Z1||(Z1=1,(function(r){const e=ja(),t=K3(),i=F3(),a=G3(),o=V3(),u=EE(),f=La(),h=Y3();function g(U){return unescape(encodeURIComponent(U)).length}function w(U,q,L){const G=[];let te;for(;(te=U.exec(L))!==null;)G.push({data:te[0],index:te.index,mode:q,length:te[0].length});return G}function _(U){const q=w(u.NUMERIC,e.NUMERIC,U),L=w(u.ALPHANUMERIC,e.ALPHANUMERIC,U);let G,te;return f.isKanjiModeEnabled()?(G=w(u.BYTE,e.BYTE,U),te=w(u.KANJI,e.KANJI,U)):(G=w(u.BYTE_KANJI,e.BYTE,U),te=[]),q.concat(L,G,te).sort(function(se,oe){return se.index-oe.index}).map(function(se){return{data:se.data,mode:se.mode,length:se.length}})}function x(U,q){switch(q){case e.NUMERIC:return t.getBitsLength(U);case e.ALPHANUMERIC:return i.getBitsLength(U);case e.KANJI:return o.getBitsLength(U);case e.BYTE:return a.getBitsLength(U)}}function E(U){return U.reduce(function(q,L){const G=q.length-1>=0?q[q.length-1]:null;return G&&G.mode===L.mode?(q[q.length-1].data+=L.data,q):(q.push(L),q)},[])}function C(U){const q=[];for(let L=0;L<U.length;L++){const G=U[L];switch(G.mode){case e.NUMERIC:q.push([G,{data:G.data,mode:e.ALPHANUMERIC,length:G.length},{data:G.data,mode:e.BYTE,length:G.length}]);break;case e.ALPHANUMERIC:q.push([G,{data:G.data,mode:e.BYTE,length:G.length}]);break;case e.KANJI:q.push([G,{data:G.data,mode:e.BYTE,length:g(G.data)}]);break;case e.BYTE:q.push([{data:G.data,mode:e.BYTE,length:g(G.data)}])}}return q}function B(U,q){const L={},G={start:{}};let te=["start"];for(let J=0;J<U.length;J++){const se=U[J],oe=[];for(let P=0;P<se.length;P++){const K=se[P],Z=""+J+P;oe.push(Z),L[Z]={node:K,lastCount:0},G[Z]={};for(let Q=0;Q<te.length;Q++){const O=te[Q];L[O]&&L[O].node.mode===K.mode?(G[O][Z]=x(L[O].lastCount+K.length,K.mode)-x(L[O].lastCount,K.mode),L[O].lastCount+=K.length):(L[O]&&(L[O].lastCount=K.length),G[O][Z]=x(K.length,K.mode)+4+e.getCharCountIndicator(K.mode,q))}}te=oe}for(let J=0;J<te.length;J++)G[te[J]].end=0;return{map:G,table:L}}function k(U,q){let L;const G=e.getBestModeForData(U);if(L=e.from(q,G),L!==e.BYTE&&L.bit<G.bit)throw new Error('"'+U+'" cannot be encoded with mode '+e.toString(L)+`.
 Suggested mode is: `+e.toString(G));switch(L===e.KANJI&&!f.isKanjiModeEnabled()&&(L=e.BYTE),L){case e.NUMERIC:return new t(U);case e.ALPHANUMERIC:return new i(U);case e.KANJI:return new o(U);case e.BYTE:return new a(U)}}r.fromArray=function(q){return q.reduce(function(L,G){return typeof G=="string"?L.push(k(G,null)):G.data&&L.push(k(G.data,G.mode)),L},[])},r.fromString=function(q,L){const G=_(q,f.isKanjiModeEnabled()),te=C(G),J=B(te,L),se=h.find_path(J.map,"start","end"),oe=[];for(let P=1;P<se.length-1;P++)oe.push(J.table[se[P]].node);return r.fromArray(E(oe))},r.rawSplit=function(q){return r.fromArray(_(q,f.isKanjiModeEnabled()))}})(kg)),kg}var Q1;function Q3(){if(Q1)return bg;Q1=1;const r=La(),e=Nm(),t=L3(),i=j3(),a=U3(),o=D3(),u=z3(),f=_E(),h=P3(),g=W3(),w=$3(),_=ja(),x=Z3();function E(J,se){const oe=J.size,P=o.getPositions(se);for(let K=0;K<P.length;K++){const Z=P[K][0],Q=P[K][1];for(let O=-1;O<=7;O++)if(!(Z+O<=-1||oe<=Z+O))for(let m=-1;m<=7;m++)Q+m<=-1||oe<=Q+m||(O>=0&&O<=6&&(m===0||m===6)||m>=0&&m<=6&&(O===0||O===6)||O>=2&&O<=4&&m>=2&&m<=4?J.set(Z+O,Q+m,!0,!0):J.set(Z+O,Q+m,!1,!0))}}function C(J){const se=J.size;for(let oe=8;oe<se-8;oe++){const P=oe%2===0;J.set(oe,6,P,!0),J.set(6,oe,P,!0)}}function B(J,se){const oe=a.getPositions(se);for(let P=0;P<oe.length;P++){const K=oe[P][0],Z=oe[P][1];for(let Q=-2;Q<=2;Q++)for(let O=-2;O<=2;O++)Q===-2||Q===2||O===-2||O===2||Q===0&&O===0?J.set(K+Q,Z+O,!0,!0):J.set(K+Q,Z+O,!1,!0)}}function k(J,se){const oe=J.size,P=g.getEncodedBits(se);let K,Z,Q;for(let O=0;O<18;O++)K=Math.floor(O/3),Z=O%3+oe-8-3,Q=(P>>O&1)===1,J.set(K,Z,Q,!0),J.set(Z,K,Q,!0)}function U(J,se,oe){const P=J.size,K=w.getEncodedBits(se,oe);let Z,Q;for(Z=0;Z<15;Z++)Q=(K>>Z&1)===1,Z<6?J.set(Z,8,Q,!0):Z<8?J.set(Z+1,8,Q,!0):J.set(P-15+Z,8,Q,!0),Z<8?J.set(8,P-Z-1,Q,!0):Z<9?J.set(8,15-Z-1+1,Q,!0):J.set(8,15-Z-1,Q,!0);J.set(P-8,8,1,!0)}function q(J,se){const oe=J.size;let P=-1,K=oe-1,Z=7,Q=0;for(let O=oe-1;O>0;O-=2)for(O===6&&O--;;){for(let m=0;m<2;m++)if(!J.isReserved(K,O-m)){let b=!1;Q<se.length&&(b=(se[Q]>>>Z&1)===1),J.set(K,O-m,b),Z--,Z===-1&&(Q++,Z=7)}if(K+=P,K<0||oe<=K){K-=P,P=-P;break}}}function L(J,se,oe){const P=new t;oe.forEach(function(m){P.put(m.mode.bit,4),P.put(m.getLength(),_.getCharCountIndicator(m.mode,J)),m.write(P)});const K=r.getSymbolTotalCodewords(J),Z=f.getTotalCodewordsCount(J,se),Q=(K-Z)*8;for(P.getLengthInBits()+4<=Q&&P.put(0,4);P.getLengthInBits()%8!==0;)P.putBit(0);const O=(Q-P.getLengthInBits())/8;for(let m=0;m<O;m++)P.put(m%2?17:236,8);return G(P,J,se)}function G(J,se,oe){const P=r.getSymbolTotalCodewords(se),K=f.getTotalCodewordsCount(se,oe),Z=P-K,Q=f.getBlocksCount(se,oe),O=P%Q,m=Q-O,b=Math.floor(P/Q),A=Math.floor(Z/Q),N=A+1,D=b-A,$=new h(D);let F=0;const T=new Array(Q),y=new Array(Q);let v=0;const I=new Uint8Array(J.buffer);for(let Ee=0;Ee<Q;Ee++){const Ge=Ee<m?A:N;T[Ee]=I.slice(F,F+Ge),y[Ee]=$.encode(T[Ee]),F+=Ge,v=Math.max(v,Ge)}const H=new Uint8Array(P);let ee=0,le,be;for(le=0;le<v;le++)for(be=0;be<Q;be++)le<T[be].length&&(H[ee++]=T[be][le]);for(le=0;le<D;le++)for(be=0;be<Q;be++)H[ee++]=y[be][le];return H}function te(J,se,oe,P){let K;if(Array.isArray(J))K=x.fromArray(J);else if(typeof J=="string"){let b=se;if(!b){const A=x.rawSplit(J);b=g.getBestVersionForData(A,oe)}K=x.fromString(J,b||40)}else throw new Error("Invalid data");const Z=g.getBestVersionForData(K,oe);if(!Z)throw new Error("The amount of data is too big to be stored in a QR Code");if(!se)se=Z;else if(se<Z)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Z+`.
`);const Q=L(se,oe,K),O=r.getSymbolSize(se),m=new i(O);return E(m,se),C(m),B(m,se),U(m,oe,0),se>=7&&k(m,se),q(m,Q),isNaN(P)&&(P=u.getBestMask(m,U.bind(null,m,oe))),u.applyMask(P,m),U(m,oe,P),{modules:m,version:se,errorCorrectionLevel:oe,maskPattern:P,segments:K}}return bg.create=function(se,oe){if(typeof se>"u"||se==="")throw new Error("No input text");let P=e.M,K,Z;return typeof oe<"u"&&(P=e.from(oe.errorCorrectionLevel,e.M),K=g.from(oe.version),Z=u.from(oe.maskPattern),oe.toSJISFunc&&r.setToSJISFunction(oe.toSJISFunc)),te(se,K,P,Z)},bg}var zg={},qg={},J1;function AE(){return J1||(J1=1,(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let i=t.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+t);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(o){return[o,o]}))),i.length===6&&i.push("F","F");const a=parseInt(i.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+i.slice(0,6).join("")}}r.getOptions=function(i){i||(i={}),i.color||(i.color={});const a=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,o=i.width&&i.width>=21?i.width:void 0,u=i.scale||4;return{width:o,scale:o?4:u,margin:a,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},r.getScale=function(i,a){return a.width&&a.width>=i+a.margin*2?a.width/(i+a.margin*2):a.scale},r.getImageWidth=function(i,a){const o=r.getScale(i,a);return Math.floor((i+a.margin*2)*o)},r.qrToImageData=function(i,a,o){const u=a.modules.size,f=a.modules.data,h=r.getScale(u,o),g=Math.floor((u+o.margin*2)*h),w=o.margin*h,_=[o.color.light,o.color.dark];for(let x=0;x<g;x++)for(let E=0;E<g;E++){let C=(x*g+E)*4,B=o.color.light;if(x>=w&&E>=w&&x<g-w&&E<g-w){const k=Math.floor((x-w)/h),U=Math.floor((E-w)/h);B=_[f[k*u+U]?1:0]}i[C++]=B.r,i[C++]=B.g,i[C++]=B.b,i[C]=B.a}}})(qg)),qg}var X1;function J3(){return X1||(X1=1,(function(r){const e=AE();function t(a,o,u){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=u,o.width=u,o.style.height=u+"px",o.style.width=u+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(o,u,f){let h=f,g=u;typeof h>"u"&&(!u||!u.getContext)&&(h=u,u=void 0),u||(g=i()),h=e.getOptions(h);const w=e.getImageWidth(o.modules.size,h),_=g.getContext("2d"),x=_.createImageData(w,w);return e.qrToImageData(x.data,o,h),t(_,g,w),_.putImageData(x,0,0),g},r.renderToDataURL=function(o,u,f){let h=f;typeof h>"u"&&(!u||!u.getContext)&&(h=u,u=void 0),h||(h={});const g=r.render(o,u,h),w=h.type||"image/png",_=h.rendererOpts||{};return g.toDataURL(w,_.quality)}})(zg)),zg}var Hg={},e_;function X3(){if(e_)return Hg;e_=1;const r=AE();function e(a,o){const u=a.a/255,f=o+'="'+a.hex+'"';return u<1?f+" "+o+'-opacity="'+u.toFixed(2).slice(1)+'"':f}function t(a,o,u){let f=a+o;return typeof u<"u"&&(f+=" "+u),f}function i(a,o,u){let f="",h=0,g=!1,w=0;for(let _=0;_<a.length;_++){const x=Math.floor(_%o),E=Math.floor(_/o);!x&&!g&&(g=!0),a[_]?(w++,_>0&&x>0&&a[_-1]||(f+=g?t("M",x+u,.5+E+u):t("m",h,0),h=0,g=!1),x+1<o&&a[_+1]||(f+=t("h",w),w=0)):h++}return f}return Hg.render=function(o,u,f){const h=r.getOptions(u),g=o.modules.size,w=o.modules.data,_=g+h.margin*2,x=h.color.light.a?"<path "+e(h.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",E="<path "+e(h.color.dark,"stroke")+' d="'+i(w,g,h.margin)+'"/>',C='viewBox="0 0 '+_+" "+_+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+C+' shape-rendering="crispEdges">'+x+E+`</svg>
`;return typeof f=="function"&&f(null,k),k},Hg}var t_;function e6(){if(t_)return To;t_=1;const r=I3(),e=Q3(),t=J3(),i=X3();function a(o,u,f,h,g){const w=[].slice.call(arguments,1),_=w.length,x=typeof w[_-1]=="function";if(!x&&!r())throw new Error("Callback required as last argument");if(x){if(_<2)throw new Error("Too few arguments provided");_===2?(g=f,f=u,u=h=void 0):_===3&&(u.getContext&&typeof g>"u"?(g=h,h=void 0):(g=h,h=f,f=u,u=void 0))}else{if(_<1)throw new Error("Too few arguments provided");return _===1?(f=u,u=h=void 0):_===2&&!u.getContext&&(h=f,f=u,u=void 0),new Promise(function(E,C){try{const B=e.create(f,h);E(o(B,u,h))}catch(B){C(B)}})}try{const E=e.create(f,h);g(null,o(E,u,h))}catch(E){g(E)}}return To.create=e.create,To.toCanvas=a.bind(null,t.render),To.toDataURL=a.bind(null,t.renderToDataURL),To.toString=a.bind(null,function(o,u,f){return i.render(o,f)}),To}e6();function Pg(r){switch(r){case"processed":case"confirmed":case"finalized":case void 0:return r;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Mu="solana:mainnet",xE="solana:devnet",ME="solana:testnet",t6="solana:localnet",n6="https://api.mainnet-beta.solana.com";function r6(r){return r.includes(n6)?Mu:/\bdevnet\b/i.test(r)?xE:/\btestnet\b/i.test(r)?ME:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?t6:Mu}function i6(r){let e=`${r.domain} wants you to sign in with your Solana account:
`;e+=`${r.address}`,r.statement&&(e+=`

${r.statement}`);const t=[];if(r.uri&&t.push(`URI: ${r.uri}`),r.version&&t.push(`Version: ${r.version}`),r.chainId&&t.push(`Chain ID: ${r.chainId}`),r.nonce&&t.push(`Nonce: ${r.nonce}`),r.issuedAt&&t.push(`Issued At: ${r.issuedAt}`),r.expirationTime&&t.push(`Expiration Time: ${r.expirationTime}`),r.notBefore&&t.push(`Not Before: ${r.notBefore}`),r.requestId&&t.push(`Request ID: ${r.requestId}`),r.resources){t.push("Resources:");for(const i of r.resources)t.push(`- ${i}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function s6(r){return Object.freeze({...r,decode:(e,t=0)=>r.read(e,t)[0]})}var a6=r=>s6({read(e,t){const i=t===0?e:e.slice(t);if(i.length===0)return["",0];let a=i.findIndex(h=>h!==0);a=a===-1?i.length:a;const o=r[0].repeat(a);if(a===i.length)return[o,e.length];const u=i.slice(a).reduce((h,g)=>h*256n+BigInt(g),0n),f=o6(u,r);return[o+f,e.length]}});function o6(r,e){const t=BigInt(e.length),i=[];for(;r>0n;)i.unshift(e[Number(r%t)]),r/=t;return i.join("")}var l6="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",u6=()=>a6(l6);const Gi={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Vi extends Error{constructor(...e){const[t,i,a]=e;super(i),this.code=t,this.data=a,this.name="SolanaMobileWalletAdapterError"}}class TE extends Error{constructor(...e){const[t,i,a,o]=e;super(a),this.code=i,this.data=o,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function An(r,e,t,i){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function f(w){try{g(i.next(w))}catch(_){u(_)}}function h(w){try{g(i.throw(w))}catch(_){u(_)}}function g(w){w.done?o(w.value):a(w.value).then(f,h)}g((i=i.apply(r,[])).next())})}function c6(r){return window.btoa(r)}function n_(r,e){return window.btoa(String.fromCharCode.call(null,...r))}function RE(r){return new Uint8Array(window.atob(r).split("").map(e=>e.charCodeAt(0)))}function Wg(r,e){return An(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",r),i=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),a=new Uint8Array(t.byteLength+i.byteLength);return a.set(new Uint8Array(t),0),a.set(new Uint8Array(i),t.byteLength),a})}function f6(r){return i6(r)}function h6(r){return c6(f6(r)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const d6="solana:signTransactions",r_="solana:cloneAuthorization";function g6(r){return u6().decode(r)}function p6(r){return g6(RE(r))}function m6(r,e){return new Proxy({},{get(t,i){return i==="then"?null:(t[i]==null&&(t[i]=function(a){return An(this,void 0,void 0,function*(){const{method:o,params:u}=y6(i,a,r),f=yield e(o,u);return o==="authorize"&&u.sign_in_payload&&!f.sign_in_result&&(f.sign_in_result=yield v6(u.sign_in_payload,f,e)),w6(i,f,r)})}),t[i])},defineProperty(){return!1},deleteProperty(){return!1}})}function y6(r,e,t){let i=e,a=r.toString().replace(/[A-Z]/g,o=>`_${o.toLowerCase()}`).toLowerCase();switch(r){case"authorize":{let{chain:o}=i;if(t==="legacy"){switch(o){case"solana:testnet":{o="testnet";break}case"solana:devnet":{o="devnet";break}case"solana:mainnet":{o="mainnet-beta";break}default:o=i.cluster}i.cluster=o}else{switch(o){case"testnet":case"devnet":{o=`solana:${o}`;break}case"mainnet-beta":{o="solana:mainnet";break}}i.chain=o}}case"reauthorize":{const{auth_token:o,identity:u}=i;o&&(t==="legacy"?(a="reauthorize",i={auth_token:o,identity:u}):a="authorize");break}}return{method:a,params:i}}function w6(r,e,t){switch(r){case"getCapabilities":{const i=e;switch(t){case"legacy":{const a=[d6];return i.supports_clone_authorization===!0&&a.push(r_),Object.assign(Object.assign({},i),{features:a})}case"v1":return Object.assign(Object.assign({},i),{supports_sign_and_send_transactions:!0,supports_clone_authorization:i.features.includes(r_)})}}}return e}function v6(r,e,t){var i;return An(this,void 0,void 0,function*(){const a=(i=r.domain)!==null&&i!==void 0?i:window.location.host,o=e.accounts[0].address,u=h6(Object.assign(Object.assign({},r),{domain:a,address:p6(o)})),f=yield t("sign_messages",{addresses:[o],payloads:[u]}),h=RE(f.signed_payloads[0]),g=n_(h.slice(0,h.length-64)),w=n_(h.slice(h.length-64));return{address:o,signed_message:g.length==0?u:g,signature:w}})}const ya=4;function b6(r){if(r>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(ya);return new DataView(e).setUint32(0,r,!1),new Uint8Array(e)}const wp=12,CE=65;function _6(r,e,t){return An(this,void 0,void 0,function*(){const i=b6(e),a=new Uint8Array(wp);crypto.getRandomValues(a);const o=yield crypto.subtle.encrypt(OE(i,a),t,new TextEncoder().encode(r)),u=new Uint8Array(i.byteLength+a.byteLength+o.byteLength);return u.set(new Uint8Array(i),0),u.set(new Uint8Array(a),i.byteLength),u.set(new Uint8Array(o),i.byteLength+a.byteLength),u})}function BE(r,e){return An(this,void 0,void 0,function*(){const t=r.slice(0,ya),i=r.slice(ya,ya+wp),a=r.slice(ya+wp),o=yield crypto.subtle.decrypt(OE(t,i),e,a);return S6().decode(o)})}function OE(r,e){return{additionalData:r,iv:e,name:"AES-GCM",tagLength:128}}let $g;function S6(){return $g===void 0&&($g=new TextDecoder("utf-8")),$g}function E6(){return An(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Kg(){return An(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function A6(r){let e="";const t=new Uint8Array(r),i=t.byteLength;for(let a=0;a<i;a++)e+=String.fromCharCode(t[a]);return window.btoa(e)}function x6(){return NE(49152+Math.floor(Math.random()*16384))}function NE(r){if(r<49152||r>65535)throw new Vi(Gi.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${r} given.`,{port:r});return r}function M6(r){return r.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const T6="solana-wallet";function i_(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function R6(r,e){let t=null;if(e){try{t=new URL(e)}catch{}if(t?.protocol!=="https:")throw new Vi(Gi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${T6}:/`));const i=r.startsWith("/")?r:[...i_(t.pathname),...i_(r)].join("/");return new URL(i,t)}function C6(r,e,t,i=["v1"]){return An(this,void 0,void 0,function*(){const a=NE(e),o=yield crypto.subtle.exportKey("raw",r),u=A6(o),f=R6("v1/associate/local",t);return f.searchParams.set("association",M6(u)),f.searchParams.set("port",`${a}`),i.forEach(h=>{f.searchParams.set("v",h)}),f})}function B6(r,e){return An(this,void 0,void 0,function*(){const t=JSON.stringify(r),i=r.id;return _6(t,i,e)})}function O6(r,e){return An(this,void 0,void 0,function*(){const t=yield BE(r,e),i=JSON.parse(t);if(Object.hasOwnProperty.call(i,"error"))throw new TE(i.id,i.error.code,i.error.message);return i})}function N6(r,e,t){return An(this,void 0,void 0,function*(){const[i,a]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",r.slice(0,CE),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:a},t,256),u=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(i),info:new Uint8Array},u,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function k6(r,e){return An(this,void 0,void 0,function*(){const t=yield BE(r,e),i=JSON.parse(t);let a="legacy";if(Object.hasOwnProperty.call(i,"v"))switch(i.v){case 1:case"1":case"v1":a="v1";break;case"legacy":a="legacy";break;default:throw new Vi(Gi.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${i.v}`)}return{protocol_version:a}})}const rh={Firefox:0,Other:1};function I6(){return navigator.userAgent.indexOf("Firefox/")!==-1?rh.Firefox:rh.Other}function L6(){return new Promise((r,e)=>{function t(){clearTimeout(a),window.removeEventListener("blur",i)}function i(){t(),r()}window.addEventListener("blur",i);const a=setTimeout(()=>{t(),e()},3e3)})}let ou=null;function j6(r){ou==null&&(ou=document.createElement("iframe"),ou.style.display="none",document.body.appendChild(ou)),ou.contentWindow.location.href=r.toString()}function U6(r){return An(this,void 0,void 0,function*(){if(r.protocol==="https:")window.location.assign(r);else try{const e=I6();switch(e){case rh.Firefox:j6(r);break;case rh.Other:{const t=L6();window.location.assign(r),yield t;break}default:}}catch{throw new Vi(Gi.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function D6(r,e){return An(this,void 0,void 0,function*(){const t=x6(),i=yield C6(r,t,e);return yield U6(i),t})}const s_={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},z6="com.solana.mobilewalletadapter.v1";function q6(){if(typeof window>"u"||window.isSecureContext!==!0)throw new Vi(Gi.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function H6(r){let e;try{e=new URL(r)}catch{throw new Vi(Gi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new Vi(Gi.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function a_(r){return new DataView(r).getUint32(0,!1)}function P6(r,e){return An(this,void 0,void 0,function*(){q6();const t=yield E6(),a=`ws://localhost:${yield D6(t.publicKey,e?.baseUri)}/solana-wallet`;let o;const u=(()=>{const w=[...s_.retryDelayScheduleMs];return()=>w.length>1?w.shift():w[0]})();let f=1,h=0,g={__type:"disconnected"};return new Promise((w,_)=>{let x;const E={},C=()=>An(this,void 0,void 0,function*(){if(g.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${g.__type}\`.`);return}x.removeEventListener("open",C);const{associationKeypair:te}=g,J=yield Kg();x.send(yield Wg(J.publicKey,te.privateKey)),g={__type:"hello_req_sent",associationPublicKey:te.publicKey,ecdhPrivateKey:J.privateKey}}),B=te=>{te.wasClean?g={__type:"disconnected"}:_(new Vi(Gi.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${te.code}: ${te.reason}).`,{closeEvent:te})),q()},k=te=>An(this,void 0,void 0,function*(){q(),Date.now()-o>=s_.timeoutMs?_(new Vi(Gi.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${a}.`)):(yield new Promise(J=>{const se=u();L=window.setTimeout(J,se)}),G())}),U=te=>An(this,void 0,void 0,function*(){const J=yield te.data.arrayBuffer();switch(g.__type){case"connecting":if(J.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const se=yield Kg();x.send(yield Wg(se.publicKey,t.privateKey)),g={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:se.privateKey};break;case"connected":try{const oe=J.slice(0,ya),P=a_(oe);if(P!==h+1)throw new Error("Encrypted message has invalid sequence number");h=P;const K=yield O6(J,g.sharedSecret),Z=E[K.id];delete E[K.id],Z.resolve(K.result)}catch(oe){if(oe instanceof TE){const P=E[oe.jsonRpcMessageId];delete E[oe.jsonRpcMessageId],P.reject(oe)}else throw oe}break;case"hello_req_sent":{if(J.byteLength===0){const Q=yield Kg();x.send(yield Wg(Q.publicKey,t.privateKey)),g={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:Q.privateKey};break}const oe=yield N6(J,g.associationPublicKey,g.ecdhPrivateKey),P=J.slice(CE),K=P.byteLength!==0?yield An(this,void 0,void 0,function*(){const Q=P.slice(0,ya),O=a_(Q);if(O!==h+1)throw new Error("Encrypted message has invalid sequence number");return h=O,k6(P,oe)}):{protocol_version:"legacy"};g={__type:"connected",sharedSecret:oe,sessionProperties:K};const Z=m6(K.protocol_version,(Q,O)=>An(this,void 0,void 0,function*(){const m=f++;return x.send(yield B6({id:m,jsonrpc:"2.0",method:Q,params:O??{}},oe)),new Promise((b,A)=>{E[m]={resolve(N){switch(Q){case"authorize":case"reauthorize":{const{wallet_uri_base:D}=N;if(D!=null)try{H6(D)}catch($){A($);return}break}}b(N)},reject:A}})}));try{w(yield r(Z))}catch(Q){_(Q)}finally{q(),x.close()}break}}});let q,L;const G=()=>{q&&q(),g={__type:"connecting",associationKeypair:t},o===void 0&&(o=Date.now()),x=new WebSocket(a,[z6]),x.addEventListener("open",C),x.addEventListener("close",B),x.addEventListener("error",k),x.addEventListener("message",U),q=()=>{window.clearTimeout(L),x.removeEventListener("open",C),x.removeEventListener("close",B),x.removeEventListener("error",k),x.removeEventListener("message",U)}};G()})})}var Fg,o_;function W6(){if(o_)return Fg;o_=1;function r(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var a=0;a<e.length;a++){var o=e.charAt(a),u=o.charCodeAt(0);if(t[u]!==255)throw new TypeError(o+" is ambiguous");t[u]=a}var f=e.length,h=e.charAt(0),g=Math.log(f)/Math.log(256),w=Math.log(256)/Math.log(f);function _(C){if(C instanceof Uint8Array||(ArrayBuffer.isView(C)?C=new Uint8Array(C.buffer,C.byteOffset,C.byteLength):Array.isArray(C)&&(C=Uint8Array.from(C))),!(C instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(C.length===0)return"";for(var B=0,k=0,U=0,q=C.length;U!==q&&C[U]===0;)U++,B++;for(var L=(q-U)*w+1>>>0,G=new Uint8Array(L);U!==q;){for(var te=C[U],J=0,se=L-1;(te!==0||J<k)&&se!==-1;se--,J++)te+=256*G[se]>>>0,G[se]=te%f>>>0,te=te/f>>>0;if(te!==0)throw new Error("Non-zero carry");k=J,U++}for(var oe=L-k;oe!==L&&G[oe]===0;)oe++;for(var P=h.repeat(B);oe<L;++oe)P+=e.charAt(G[oe]);return P}function x(C){if(typeof C!="string")throw new TypeError("Expected String");if(C.length===0)return new Uint8Array;for(var B=0,k=0,U=0;C[B]===h;)k++,B++;for(var q=(C.length-B)*g+1>>>0,L=new Uint8Array(q);C[B];){var G=C.charCodeAt(B);if(G>255)return;var te=t[G];if(te===255)return;for(var J=0,se=q-1;(te!==0||J<U)&&se!==-1;se--,J++)te+=f*L[se]>>>0,L[se]=te%256>>>0,te=te/256>>>0;if(te!==0)throw new Error("Non-zero carry");U=J,B++}for(var oe=q-U;oe!==q&&L[oe]===0;)oe++;for(var P=new Uint8Array(k+(q-oe)),K=k;oe!==q;)P[K++]=L[oe++];return P}function E(C){var B=x(C);if(B)return B;throw new Error("Non-base"+f+" character")}return{encode:_,decodeUnsafe:x,decode:E}}return Fg=r,Fg}var Gg,l_;function $6(){return l_||(l_=1,Gg=W6()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Gg}var K6=$6();const vp=Ra(K6);function Wt(r,e,t,i){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function f(w){try{g(i.next(w))}catch(_){u(_)}}function h(w){try{g(i.throw(w))}catch(_){u(_)}}function g(w){w.done?o(w.value):a(w.value).then(f,h)}g((i=i.apply(r,[])).next())})}function _e(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)}function bn(r,e,t,i,a){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var cu,Tn,aa,Lo,kE,IE,LE,xf;const F6=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,G6=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,V6=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Y6{constructor(){cu.add(this),Tn.set(this,null),aa.set(this,{}),Lo.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),_e(this,cu,"m",IE).call(this),_e(this,Tn,"f")&&(_e(this,Tn,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),_e(this,cu,"m",LE).call(this),_e(this,Tn,"f")&&(_e(this,Tn,"f").style.display="none"),(t=_e(this,aa,"f").close)===null||t===void 0||t.forEach(i=>i(e))},xf.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),bn(this,Tn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Wt(this,void 0,void 0,function*(){console.log("Injecting modal"),_e(this,cu,"m",kE).call(this)})}addEventListener(e,t){var i;return!((i=_e(this,aa,"f")[e])===null||i===void 0)&&i.push(t)||(_e(this,aa,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var i;_e(this,aa,"f")[e]=(i=_e(this,aa,"f")[e])===null||i===void 0?void 0:i.filter(a=>t!==a)}}Tn=new WeakMap,aa=new WeakMap,Lo=new WeakMap,xf=new WeakMap,cu=new WeakSet,kE=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){_e(this,Tn,"f")||bn(this,Tn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}bn(this,Tn,document.createElement("div")),_e(this,Tn,"f").id="mobile-wallet-adapter-embedded-root-ui",_e(this,Tn,"f").innerHTML=F6,_e(this,Tn,"f").style.display="none";const e=_e(this,Tn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=G6+this.contentStyles;const i=document.createElement("div");i.innerHTML=V6,this.dom=i.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(_e(this,Tn,"f")),document.body.appendChild(i)},IE=function(){if(!_e(this,Tn,"f")||_e(this,Lo,"f"))return;[..._e(this,Tn,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",_e(this,xf,"f")),bn(this,Lo,!0)},LE=function(){if(!_e(this,Lo,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",_e(this,xf,"f")),!_e(this,Tn,"f")))return;[..._e(this,Tn,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t?.removeEventListener("click",this.close)),bn(this,Lo,!1)};const Z6="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function gf(r){return window.btoa(String.fromCharCode.call(null,...r))}function Ns(r){return new Uint8Array(window.atob(r).split("").map(e=>e.charCodeAt(0)))}var jo,wa,bp,_p,Sp,Ep,fu,Vn,ki,ks,Uo,oa,Mf,hu,Tf,Ap,Rf,jE,xp,Cf,Do,Bf,du,Of,zo,gu,Nf,Mp,Tp,kf,If,Rp,Cp,Lf;const UE="Mobile Wallet Adapter",Q6=64,J6=[Xn,Kt,zi,Aa];class X6{constructor(e){jo.add(this),wa.set(this,{}),bp.set(this,"1.0.0"),_p.set(this,UE),Sp.set(this,"https://solanamobile.com/wallets"),Ep.set(this,Z6),fu.set(this,void 0),Vn.set(this,void 0),ki.set(this,void 0),ks.set(this,!1),Uo.set(this,0),oa.set(this,[]),Mf.set(this,void 0),hu.set(this,void 0),Tf.set(this,void 0),Ap.set(this,(t,i)=>{var a;return!((a=_e(this,wa,"f")[t])===null||a===void 0)&&a.push(i)||(_e(this,wa,"f")[t]=[i]),()=>_e(this,jo,"m",jE).call(this,t,i)}),xp.set(this,({silent:t}={})=>Wt(this,void 0,void 0,function*(){if(_e(this,ks,"f")||this.connected)return{accounts:this.accounts};bn(this,ks,!0);try{if(t){const i=yield _e(this,ki,"f").get();if(i)yield _e(this,Bf,"f").call(this,i.capabilities),yield _e(this,Do,"f").call(this,i);else return{accounts:this.accounts}}else yield _e(this,Cf,"f").call(this)}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{bn(this,ks,!1)}return{accounts:this.accounts}})),Cf.set(this,t=>Wt(this,void 0,void 0,function*(){try{const i=yield _e(this,ki,"f").get();if(i)return _e(this,Do,"f").call(this,i),i;const a=yield _e(this,Mf,"f").select(_e(this,oa,"f"));return yield _e(this,zo,"f").call(this,o=>Wt(this,void 0,void 0,function*(){const[u,f]=yield Promise.all([o.getCapabilities(),o.authorize({chain:a,identity:_e(this,fu,"f"),sign_in_payload:t})]),h=_e(this,Nf,"f").call(this,f.accounts),g=Object.assign(Object.assign({},f),{accounts:h,chain:a,capabilities:u});return Promise.all([_e(this,Bf,"f").call(this,u),_e(this,ki,"f").set(g),_e(this,Do,"f").call(this,g)]),g}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Do.set(this,t=>Wt(this,void 0,void 0,function*(){var i;const a=_e(this,Vn,"f")==null||((i=_e(this,Vn,"f"))===null||i===void 0?void 0:i.accounts.length)!==t.accounts.length||_e(this,Vn,"f").accounts.some((o,u)=>o.address!==t.accounts[u].address);bn(this,Vn,t),a&&_e(this,jo,"m",Rf).call(this,"change",{accounts:this.accounts})})),Bf.set(this,t=>Wt(this,void 0,void 0,function*(){const i=t.features.includes("solana:signTransactions"),a=t.supports_sign_and_send_transactions,o=Xn in this.features!==a||Kt in this.features!==i;bn(this,hu,Object.assign(Object.assign({},(a||!a&&!i)&&{[Xn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:_e(this,kf,"f")}}),i&&{[Kt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:_e(this,If,"f")}})),o&&_e(this,jo,"m",Rf).call(this,"change",{features:this.features})})),du.set(this,(t,i,a)=>Wt(this,void 0,void 0,function*(){var o,u;try{const[f,h]=yield Promise.all([(u=(o=_e(this,Vn,"f"))===null||o===void 0?void 0:o.capabilities)!==null&&u!==void 0?u:yield t.getCapabilities(),t.authorize({auth_token:i,identity:_e(this,fu,"f"),chain:a})]),g=_e(this,Nf,"f").call(this,h.accounts),w=Object.assign(Object.assign({},h),{accounts:g,chain:a,capabilities:f});Promise.all([_e(this,ki,"f").set(w),_e(this,Do,"f").call(this,w)])}catch(f){throw _e(this,Of,"f").call(this),new Error(f instanceof Error&&f.message||"Unknown error")}})),Of.set(this,()=>Wt(this,void 0,void 0,function*(){var t;_e(this,ki,"f").clear(),bn(this,ks,!1),bn(this,Uo,(t=_e(this,Uo,"f"),t++,t)),bn(this,Vn,void 0),_e(this,jo,"m",Rf).call(this,"change",{accounts:this.accounts})})),zo.set(this,t=>Wt(this,void 0,void 0,function*(){var i;const a=(i=_e(this,Vn,"f"))===null||i===void 0?void 0:i.wallet_uri_base,o=a?{baseUri:a}:void 0,u=_e(this,Uo,"f");try{return yield P6(t,o)}catch(f){throw _e(this,Uo,"f")!==u&&(yield new Promise(()=>{})),f instanceof Error&&f.name==="SolanaMobileWalletAdapterError"&&f.code==="ERROR_WALLET_NOT_FOUND"&&(yield _e(this,Tf,"f").call(this,this)),f}})),gu.set(this,()=>{if(!_e(this,Vn,"f"))throw new Error("Wallet not connected");return{authToken:_e(this,Vn,"f").auth_token,chain:_e(this,Vn,"f").chain}}),Nf.set(this,t=>t.map(i=>{var a,o;const u=Ns(i.address);return{address:vp.encode(u),publicKey:u,label:i.label,icon:i.icon,chains:(a=i.chains)!==null&&a!==void 0?a:_e(this,oa,"f"),features:(o=i.features)!==null&&o!==void 0?o:J6}})),Mp.set(this,t=>Wt(this,void 0,void 0,function*(){const{authToken:i,chain:a}=_e(this,gu,"f").call(this);try{const o=t.map(u=>gf(u));return yield _e(this,zo,"f").call(this,u=>Wt(this,void 0,void 0,function*(){return yield _e(this,du,"f").call(this,u,i,a),(yield u.signTransactions({payloads:o})).signed_payloads.map(Ns)}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Tp.set(this,(t,i)=>Wt(this,void 0,void 0,function*(){const{authToken:a,chain:o}=_e(this,gu,"f").call(this);try{return yield _e(this,zo,"f").call(this,u=>Wt(this,void 0,void 0,function*(){const[f,h]=yield Promise.all([u.getCapabilities(),_e(this,du,"f").call(this,u,a,o)]);if(f.supports_sign_and_send_transactions){const g=gf(t);return(yield u.signAndSendTransactions(Object.assign(Object.assign({},i),{payloads:[g]}))).signatures.map(Ns)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(u){throw new Error(u instanceof Error&&u.message||"Unknown error")}})),kf.set(this,(...t)=>Wt(this,void 0,void 0,function*(){const i=[];for(const a of t){const o=yield _e(this,Tp,"f").call(this,a.transaction,a.options);i.push({signature:o})}return i})),If.set(this,(...t)=>Wt(this,void 0,void 0,function*(){return(yield _e(this,Mp,"f").call(this,t.map(({transaction:i})=>i))).map(i=>({signedTransaction:i}))})),Rp.set(this,(...t)=>Wt(this,void 0,void 0,function*(){const{authToken:i,chain:a}=_e(this,gu,"f").call(this),o=t.map(({account:f})=>gf(f.publicKey)),u=t.map(({message:f})=>gf(f));try{return yield _e(this,zo,"f").call(this,f=>Wt(this,void 0,void 0,function*(){return yield _e(this,du,"f").call(this,f,i,a),(yield f.signMessages({addresses:o,payloads:u})).signed_payloads.map(Ns).map(g=>({signedMessage:g,signature:g.slice(-Q6)}))}))}catch(f){throw new Error(f instanceof Error&&f.message||"Unknown error")}})),Cp.set(this,(...t)=>Wt(this,void 0,void 0,function*(){const i=[];if(t.length>1)for(const a of t)i.push(yield _e(this,Lf,"f").call(this,a));else return[yield _e(this,Lf,"f").call(this,t[0])];return i})),Lf.set(this,t=>Wt(this,void 0,void 0,function*(){var i,a,o;bn(this,ks,!0);try{const u=yield _e(this,Cf,"f").call(this,Object.assign(Object.assign({},t),{domain:(i=t?.domain)!==null&&i!==void 0?i:window.location.host}));if(!u.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const f=u.sign_in_result.address,h=u.accounts.find(g=>g.address==f);return{account:Object.assign(Object.assign({},h??{address:vp.encode(Ns(f))}),{publicKey:Ns(f),chains:(a=h?.chains)!==null&&a!==void 0?a:_e(this,oa,"f"),features:(o=h?.features)!==null&&o!==void 0?o:u.capabilities.features}),signedMessage:Ns(u.sign_in_result.signed_message),signature:Ns(u.sign_in_result.signature)}}catch(u){throw new Error(u instanceof Error&&u.message||"Unknown error")}finally{bn(this,ks,!1)}})),bn(this,ki,e.authorizationCache),bn(this,fu,e.appIdentity),bn(this,oa,e.chains),bn(this,Mf,e.chainSelector),bn(this,Tf,e.onWalletNotFound),bn(this,hu,{[Xn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:_e(this,kf,"f")},[Kt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:_e(this,If,"f")}})}get version(){return _e(this,bp,"f")}get name(){return _e(this,_p,"f")}get url(){return _e(this,Sp,"f")}get icon(){return _e(this,Ep,"f")}get chains(){return _e(this,oa,"f")}get features(){return Object.assign({[Eh]:{version:"1.0.0",connect:_e(this,xp,"f")},[nh]:{version:"1.0.0",disconnect:_e(this,Of,"f")},[Ah]:{version:"1.0.0",on:_e(this,Ap,"f")},[zi]:{version:"1.0.0",signMessage:_e(this,Rp,"f")},[Aa]:{version:"1.0.0",signIn:_e(this,Cp,"f")}},_e(this,hu,"f"))}get accounts(){var e,t;return(t=(e=_e(this,Vn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!_e(this,Vn,"f")}get isAuthorized(){return!!_e(this,Vn,"f")}get currentAuthorization(){return _e(this,Vn,"f")}get cachedAuthorizationResult(){return _e(this,ki,"f").get()}}wa=new WeakMap,bp=new WeakMap,_p=new WeakMap,Sp=new WeakMap,Ep=new WeakMap,fu=new WeakMap,Vn=new WeakMap,ki=new WeakMap,ks=new WeakMap,Uo=new WeakMap,oa=new WeakMap,Mf=new WeakMap,hu=new WeakMap,Tf=new WeakMap,Ap=new WeakMap,xp=new WeakMap,Cf=new WeakMap,Do=new WeakMap,Bf=new WeakMap,du=new WeakMap,Of=new WeakMap,zo=new WeakMap,gu=new WeakMap,Nf=new WeakMap,Mp=new WeakMap,Tp=new WeakMap,kf=new WeakMap,If=new WeakMap,Rp=new WeakMap,Cp=new WeakMap,Lf=new WeakMap,jo=new WeakSet,Rf=function(e,...t){var i;(i=_e(this,wa,"f")[e])===null||i===void 0||i.forEach(a=>a.apply(null,t))},jE=function(e,t){var i;_e(this,wa,"f")[e]=(i=_e(this,wa,"f")[e])===null||i===void 0?void 0:i.filter(a=>t!==a)};const e8="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",t8="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class n8 extends Y6{constructor(){super(...arguments),this.contentStyles=i8,this.contentHtml=r8}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,i;const a=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),o=(i=this.dom)===null||i===void 0?void 0:i.getElementById("mobile-wallet-adapter-error-action");if(a){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":a.innerHTML=e8,o&&o.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":a.innerHTML=t8,o&&(o.style.display="none");return}a.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const r8=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,i8=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function s8(){return Wt(this,void 0,void 0,function*(){if(typeof window<"u"){const r=window.navigator.userAgent.toLowerCase(),e=new n8;r.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const Vg="SolanaMobileWalletAdapterDefaultAuthorizationCache";function a8(){let r;try{r=window.localStorage}catch{}return{clear(){return Wt(this,void 0,void 0,function*(){if(r)try{r.removeItem(Vg)}catch{}})},get(){return Wt(this,void 0,void 0,function*(){if(r)try{const e=JSON.parse(r.getItem(Vg));if(e&&e.accounts){const t=e.accounts.map(i=>Object.assign(Object.assign({},i),{publicKey:"publicKey"in i?new Uint8Array(Object.values(i.publicKey)):vp.decode(i.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return Wt(this,void 0,void 0,function*(){if(r)try{r.setItem(Vg,JSON.stringify(e))}catch{}})}}}function o8(){return{select(r){return Wt(this,void 0,void 0,function*(){return r.length===1?r[0]:r.includes(Mu)?Mu:r[0]})}}}function Ot(r,e,t,i){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function f(w){try{g(i.next(w))}catch(_){u(_)}}function h(w){try{g(i.throw(w))}catch(_){u(_)}}function g(w){w.done?o(w.value):a(w.value).then(f,h)}g((i=i.apply(r,[])).next())})}function qe(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)}function wr(r,e,t,i,a){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}const Bp="standard:connect",l8="standard:disconnect",u8="standard:events";function Yg(r){return window.btoa(String.fromCharCode.call(null,...r))}function c8(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var Cn,Xt,js,qi,jf,ji,la,Op,Np,DE,ih,Uf,Is;const Df=UE,f8=64;function h8(r){return"version"in r}function zE(r){switch(r){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return r}}class d8 extends B3{constructor(e,t){super(),Cn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Xt.set(this,void 0),js.set(this,!1),qi.set(this,c8()?Qe.Loadable:Qe.Unsupported),jf.set(this,void 0),ji.set(this,void 0),la.set(this,void 0),Op.set(this,i=>Ot(this,void 0,void 0,function*(){if(i.accounts&&i.accounts.length>0){qe(this,Cn,"m",DE).call(this);const a=yield qe(this,jf,"f").call(this,i.accounts);a!==qe(this,ji,"f")&&(wr(this,ji,a),wr(this,la,void 0),this.emit("connect",this.publicKey))}})),wr(this,jf,i=>Ot(this,void 0,void 0,function*(){var a;const o=yield t.addressSelector.select(i.map(({publicKey:u})=>Yg(u)));return(a=i.find(({publicKey:u})=>Yg(u)===o))!==null&&a!==void 0?a:i[0]})),wr(this,Xt,e),qe(this,Xt,"f").features[u8].on("change",qe(this,Op,"f")),this.name=qe(this,Xt,"f").name,this.icon=qe(this,Xt,"f").icon,this.url=qe(this,Xt,"f").url}get publicKey(){var e;if(!qe(this,la,"f")&&qe(this,ji,"f"))try{wr(this,la,new De(qe(this,ji,"f").publicKey),"f")}catch(t){throw new il(t instanceof Error&&t?.message||"Unknown error",t)}return(e=qe(this,la,"f"))!==null&&e!==void 0?e:null}get connected(){return qe(this,Xt,"f").connected}get connecting(){return qe(this,js,"f")}get readyState(){return qe(this,qi,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Ot(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return Ot(this,void 0,void 0,function*(){qe(this,Cn,"m",Np).call(this,!0)})}connect(){return Ot(this,void 0,void 0,function*(){qe(this,Cn,"m",Np).call(this)})}performAuthorization(e){return Ot(this,void 0,void 0,function*(){try{const t=yield qe(this,Xt,"f").cachedAuthorizationResult;return t?(yield qe(this,Xt,"f").features[Bp].connect({silent:!0}),t):(e?yield qe(this,Xt,"f").features[Aa].signIn(e):yield qe(this,Xt,"f").features[Bp].connect(),yield yield qe(this,Xt,"f").cachedAuthorizationResult)}catch(t){throw new Ta(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return Ot(this,void 0,void 0,function*(){return yield qe(this,Cn,"m",Is).call(this,()=>Ot(this,void 0,void 0,function*(){wr(this,js,!1),wr(this,la,void 0),wr(this,ji,void 0),yield qe(this,Xt,"f").features[l8].disconnect(),this.emit("disconnect")}))})}signIn(e){return Ot(this,void 0,void 0,function*(){return qe(this,Cn,"m",Is).call(this,()=>Ot(this,void 0,void 0,function*(){var t;if(qe(this,qi,"f")!==Qe.Installed&&qe(this,qi,"f")!==Qe.Loadable)throw new Ma;wr(this,js,!0);try{const i=yield qe(this,Xt,"f").features[Aa].signIn(Object.assign(Object.assign({},e),{domain:(t=e?.domain)!==null&&t!==void 0?t:window.location.host}));if(i.length>0)return i[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(i){throw new Ta(i instanceof Error&&i.message||"Unknown error",i)}finally{wr(this,js,!1)}}))})}signMessage(e){return Ot(this,void 0,void 0,function*(){return yield qe(this,Cn,"m",Is).call(this,()=>Ot(this,void 0,void 0,function*(){const t=qe(this,Cn,"m",ih).call(this);try{return(yield qe(this,Xt,"f").features[zi].signMessage({account:t,message:e}))[0].signature}catch(i){throw new Sh(i?.message,i)}}))})}sendTransaction(e,t,i){return Ot(this,void 0,void 0,function*(){return yield qe(this,Cn,"m",Is).call(this,()=>Ot(this,void 0,void 0,function*(){const a=qe(this,Cn,"m",ih).call(this);try{let o=function(){let u;switch(t.commitment){case"confirmed":case"finalized":case"processed":u=t.commitment;break;default:u="finalized"}let f;switch(i?.preflightCommitment){case"confirmed":case"finalized":case"processed":f=i.preflightCommitment;break;case void 0:f=u;break;default:f="finalized"}return(f==="finalized"?2:f==="confirmed"?1:0)<(u==="finalized"?2:u==="confirmed"?1:0)?f:u};if(Xn in qe(this,Xt,"f").features){const u=zE(qe(this,Xt,"f").currentAuthorization.chain),[f]=(yield qe(this,Xt,"f").features[Xn].signAndSendTransaction({account:a,transaction:e.serialize(),chain:u,options:i?{skipPreflight:i.skipPreflight,maxRetries:i.maxRetries}:void 0})).map((h=>Yg(h.signature)));return f}else{const[u]=yield qe(this,Cn,"m",Uf).call(this,[e]);if(h8(u))return yield t.sendTransaction(u);{const f=u.serialize();return yield t.sendRawTransaction(f,Object.assign(Object.assign({},i),{preflightCommitment:o()}))}}}catch(o){throw new Pi(o?.message,o)}}))})}signTransaction(e){return Ot(this,void 0,void 0,function*(){return yield qe(this,Cn,"m",Is).call(this,()=>Ot(this,void 0,void 0,function*(){const[t]=yield qe(this,Cn,"m",Uf).call(this,[e]);return t}))})}signAllTransactions(e){return Ot(this,void 0,void 0,function*(){return yield qe(this,Cn,"m",Is).call(this,()=>Ot(this,void 0,void 0,function*(){return yield qe(this,Cn,"m",Uf).call(this,e)}))})}}Xt=new WeakMap,js=new WeakMap,qi=new WeakMap,jf=new WeakMap,ji=new WeakMap,la=new WeakMap,Op=new WeakMap,Cn=new WeakSet,Np=function(e=!1){return Ot(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield qe(this,Cn,"m",Is).call(this,()=>Ot(this,void 0,void 0,function*(){if(qe(this,qi,"f")!==Qe.Installed&&qe(this,qi,"f")!==Qe.Loadable)throw new Ma;wr(this,js,!0);try{yield qe(this,Xt,"f").features[Bp].connect({silent:e})}catch(t){throw new Ta(t instanceof Error&&t.message||"Unknown error",t)}finally{wr(this,js,!1)}}))})},DE=function(){qe(this,qi,"f")!==Qe.Installed&&this.emit("readyStateChange",wr(this,qi,Qe.Installed))},ih=function(){if(!qe(this,Xt,"f").isAuthorized||!qe(this,ji,"f"))throw new pn;return qe(this,ji,"f")},Uf=function(e){return Ot(this,void 0,void 0,function*(){const t=qe(this,Cn,"m",ih).call(this);try{if(Kt in qe(this,Xt,"f").features)return qe(this,Xt,"f").features[Kt].signTransaction(...e.map(i=>({account:t,transaction:i.serialize()}))).then(i=>i.map(a=>{const o=a.signedTransaction,f=o[0]*f8+1;return Am.deserializeMessageVersion(o.slice(f,o.length))==="legacy"?$r.from(o):Au.deserialize(o)}));throw new Error("Connected wallet does not support signing transactions")}catch(i){throw new Fr(i?.message,i)}})},Is=function(e){return Ot(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class g8 extends d8{constructor(e){var t;const i=zE((t=e.chain)!==null&&t!==void 0?t:e.cluster);super(new X6({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>Ot(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[i],chainSelector:o8(),onWalletNotFound:()=>Ot(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:i})}}class p8 extends g8{}function m8(){return{select(r){return Ot(this,void 0,void 0,function*(){return r[0]})}}}function y8(){return a8()}function w8(r){return Ot(this,void 0,void 0,function*(){return s8()})}function v8(){return w8}var b8=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},_8=function(r,e,t,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,t):a?a.value=t:e.set(r,t),t},zf;function S8(r){const e=({register:t})=>t(r);try{window.dispatchEvent(new E8(e))}catch(t){console.error(`wallet-standard:register-wallet event could not be dispatched
`,t)}try{window.addEventListener("wallet-standard:app-ready",({detail:t})=>e(t))}catch(t){console.error(`wallet-standard:app-ready event listener could not be added
`,t)}}class E8 extends Event{get detail(){return b8(this,zf,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),zf.set(this,void 0),_8(this,zf,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}zf=new WeakMap;function A8(r,e){if(r===e)return!0;const t=r.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(r[i]!==e[i])return!1;return!0}function x8(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let g=0;g<e.length;g++)e[g]=255;for(let g=0;g<r.length;g++){const w=r.charAt(g),_=w.charCodeAt(0);if(e[_]!==255)throw new TypeError(w+" is ambiguous");e[_]=g}const t=r.length,i=r.charAt(0),a=Math.log(t)/Math.log(256),o=Math.log(256)/Math.log(t);function u(g){if(g instanceof Uint8Array||(ArrayBuffer.isView(g)?g=new Uint8Array(g.buffer,g.byteOffset,g.byteLength):Array.isArray(g)&&(g=Uint8Array.from(g))),!(g instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(g.length===0)return"";let w=0,_=0,x=0;const E=g.length;for(;x!==E&&g[x]===0;)x++,w++;const C=(E-x)*o+1>>>0,B=new Uint8Array(C);for(;x!==E;){let q=g[x],L=0;for(let G=C-1;(q!==0||L<_)&&G!==-1;G--,L++)q+=256*B[G]>>>0,B[G]=q%t>>>0,q=q/t>>>0;if(q!==0)throw new Error("Non-zero carry");_=L,x++}let k=C-_;for(;k!==C&&B[k]===0;)k++;let U=i.repeat(w);for(;k<C;++k)U+=r.charAt(B[k]);return U}function f(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return new Uint8Array;let w=0,_=0,x=0;for(;g[w]===i;)_++,w++;const E=(g.length-w)*a+1>>>0,C=new Uint8Array(E);for(;w<g.length;){const q=g.charCodeAt(w);if(q>255)return;let L=e[q];if(L===255)return;let G=0;for(let te=E-1;(L!==0||G<x)&&te!==-1;te--,G++)L+=t*C[te]>>>0,C[te]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");x=G,w++}let B=E-x;for(;B!==E&&C[B]===0;)B++;const k=new Uint8Array(_+(E-B));let U=_;for(;B!==E;)k[U++]=C[B++];return k}function h(g){const w=f(g);if(w)return w;throw new Error("Non-base"+t+" character")}return{encode:u,decodeUnsafe:f,decode:h}}var M8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const T8=x8(M8);var Oe=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},_n=function(r,e,t,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,t):a?a.value=t:e.set(r,t),t},zn,or,va,ba,ua,pu,sh,ft,ah,kp,qf,Ip,yu,Lp,u_,c_,f_,h_;class R8 extends wE{get name(){return Oe(this,ft,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Oe(this,ft,"f").icon}get readyState(){return Oe(this,ah,"f")}get publicKey(){return Oe(this,va,"f")}get connecting(){return Oe(this,ba,"f")}get supportedTransactionVersions(){return Oe(this,sh,"f")}get wallet(){return Oe(this,ft,"f")}get standard(){return!0}constructor({wallet:e}){super(),zn.add(this),or.set(this,void 0),va.set(this,void 0),ba.set(this,void 0),ua.set(this,void 0),pu.set(this,void 0),sh.set(this,void 0),ft.set(this,void 0),ah.set(this,typeof window>"u"||typeof document>"u"?Qe.Unsupported:Qe.Installed),Lp.set(this,t=>{if("accounts"in t){const i=Oe(this,ft,"f").accounts[0];Oe(this,or,"f")&&!Oe(this,ua,"f")&&i!==Oe(this,or,"f")&&(i?Oe(this,zn,"m",qf).call(this,i):(this.emit("error",new Cm),Oe(this,zn,"m",Ip).call(this)))}"features"in t&&Oe(this,zn,"m",yu).call(this)}),_n(this,ft,e,"f"),_n(this,or,null,"f"),_n(this,va,null,"f"),_n(this,ba,!1,"f"),_n(this,ua,!1,"f"),_n(this,pu,Oe(this,ft,"f").features[Ah].on("change",Oe(this,Lp,"f")),"f"),Oe(this,zn,"m",yu).call(this)}destroy(){_n(this,or,null,"f"),_n(this,va,null,"f"),_n(this,ba,!1,"f"),_n(this,ua,!1,"f");const e=Oe(this,pu,"f");e&&(_n(this,pu,null,"f"),e())}async autoConnect(){return Oe(this,zn,"m",kp).call(this,{silent:!0})}async connect(){return Oe(this,zn,"m",kp).call(this)}async disconnect(){if(nh in Oe(this,ft,"f").features)try{_n(this,ua,!0,"f"),await Oe(this,ft,"f").features[nh].disconnect()}catch(e){this.emit("error",new Bm(e?.message,e))}finally{_n(this,ua,!1,"f")}Oe(this,zn,"m",Ip).call(this)}async sendTransaction(e,t,i={}){try{const a=Oe(this,or,"f");if(!a)throw new pn;let o;if(Xn in Oe(this,ft,"f").features)if(a.features.includes(Xn))o=Xn;else if(Kt in Oe(this,ft,"f").features&&a.features.includes(Kt))o=Kt;else throw new ma;else if(Kt in Oe(this,ft,"f").features){if(!a.features.includes(Kt))throw new ma;o=Kt}else throw new Ko;const u=r6(t.rpcEndpoint);if(!a.chains.includes(u))throw new Pi;try{const{signers:f,...h}=i;let g;if(Wi(e)?(f?.length&&e.sign(f),g=e.serialize()):(e=await this.prepareTransaction(e,t,h),f?.length&&e.partialSign(...f),g=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===Xn){const[w]=await Oe(this,ft,"f").features[Xn].signAndSendTransaction({account:a,chain:u,transaction:g,options:{preflightCommitment:Pg(h.preflightCommitment||t.commitment),skipPreflight:h.skipPreflight,maxRetries:h.maxRetries,minContextSlot:h.minContextSlot}});return T8.encode(w.signature)}else{const[w]=await Oe(this,ft,"f").features[Kt].signTransaction({account:a,chain:u,transaction:g,options:{preflightCommitment:Pg(h.preflightCommitment||t.commitment),minContextSlot:h.minContextSlot}});return await t.sendRawTransaction(w.signedTransaction,{...h,preflightCommitment:Pg(h.preflightCommitment||t.commitment)})}}catch(f){throw f instanceof On?f:new Pi(f?.message,f)}}catch(a){throw this.emit("error",a),a}}}or=new WeakMap,va=new WeakMap,ba=new WeakMap,ua=new WeakMap,pu=new WeakMap,sh=new WeakMap,ft=new WeakMap,ah=new WeakMap,Lp=new WeakMap,zn=new WeakSet,kp=async function(e){try{if(this.connected||this.connecting)return;if(Oe(this,ah,"f")!==Qe.Installed)throw new Ma;if(_n(this,ba,!0,"f"),!Oe(this,ft,"f").accounts.length)try{await Oe(this,ft,"f").features[Eh].connect(e)}catch(i){throw new Ta(i?.message,i)}const t=Oe(this,ft,"f").accounts[0];if(!t)throw new ma;Oe(this,zn,"m",qf).call(this,t)}catch(t){throw this.emit("error",t),t}finally{_n(this,ba,!1,"f")}},qf=function(e){let t;try{t=new De(e.address)}catch(i){throw new il(i?.message,i)}_n(this,or,e,"f"),_n(this,va,t,"f"),Oe(this,zn,"m",yu).call(this),this.emit("connect",t)},Ip=function(){_n(this,or,null,"f"),_n(this,va,null,"f"),Oe(this,zn,"m",yu).call(this),this.emit("disconnect")},yu=function(){const e=Xn in Oe(this,ft,"f").features?Oe(this,ft,"f").features[Xn].supportedTransactionVersions:Oe(this,ft,"f").features[Kt].supportedTransactionVersions;_n(this,sh,A8(e,["legacy"])?null:new Set(e),"f"),Kt in Oe(this,ft,"f").features&&Oe(this,or,"f")?.features.includes(Kt)?(this.signTransaction=Oe(this,zn,"m",u_),this.signAllTransactions=Oe(this,zn,"m",c_)):(delete this.signTransaction,delete this.signAllTransactions),zi in Oe(this,ft,"f").features&&Oe(this,or,"f")?.features.includes(zi)?this.signMessage=Oe(this,zn,"m",f_):delete this.signMessage,Aa in Oe(this,ft,"f").features?this.signIn=Oe(this,zn,"m",h_):delete this.signIn},u_=async function(e){try{const t=Oe(this,or,"f");if(!t)throw new pn;if(!(Kt in Oe(this,ft,"f").features))throw new Ko;if(!t.features.includes(Kt))throw new ma;try{const a=(await Oe(this,ft,"f").features[Kt].signTransaction({account:t,transaction:Wi(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Wi(e)?Au.deserialize(a):$r.from(a)}catch(i){throw i instanceof On?i:new Fr(i?.message,i)}}catch(t){throw this.emit("error",t),t}},c_=async function(e){try{const t=Oe(this,or,"f");if(!t)throw new pn;if(!(Kt in Oe(this,ft,"f").features))throw new Ko;if(!t.features.includes(Kt))throw new ma;try{const i=await Oe(this,ft,"f").features[Kt].signTransaction(...e.map(a=>({account:t,transaction:Wi(a)?a.serialize():new Uint8Array(a.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((a,o)=>{const u=i[o].signedTransaction;return Wi(a)?Au.deserialize(u):$r.from(u)})}catch(i){throw new Fr(i?.message,i)}}catch(t){throw this.emit("error",t),t}},f_=async function(e){try{const t=Oe(this,or,"f");if(!t)throw new pn;if(!(zi in Oe(this,ft,"f").features))throw new Ko;if(!t.features.includes(zi))throw new ma;try{return(await Oe(this,ft,"f").features[zi].signMessage({account:t,message:e}))[0].signature}catch(i){throw new Sh(i?.message,i)}}catch(t){throw this.emit("error",t),t}},h_=async function(e={}){try{if(!(Aa in Oe(this,ft,"f").features))throw new Ko;let t;try{[t]=await Oe(this,ft,"f").features[Aa].signIn(e)}catch(i){throw new M1(i?.message,i)}if(!t)throw new M1;return Oe(this,zn,"m",qf).call(this,t.account),t}catch(t){throw this.emit("error",t),t}};const C8=O3;var B8=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},O8=function(r,e,t,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,t):a?a.value=t:e.set(r,t),t},Hf;let vr;const Mh=new Set;function N8(r){wu=void 0,Mh.add(r)}function k8(r){wu=void 0,Mh.delete(r)}const Fo={};function I8(){if(vr||(vr=Object.freeze({register:d_,get:L8,on:j8}),typeof window>"u"))return vr;const r=Object.freeze({register:d_});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(r))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new U8(r))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return vr}function d_(...r){return r=r.filter(e=>!Mh.has(e)),r.length?(r.forEach(e=>N8(e)),Fo.register?.forEach(e=>jp(()=>e(...r))),function(){r.forEach(t=>k8(t)),Fo.unregister?.forEach(t=>jp(()=>t(...r)))}):()=>{}}let wu;function L8(){return wu||(wu=[...Mh]),wu}function j8(r,e){return Fo[r]?.push(e)||(Fo[r]=[e]),function(){Fo[r]=Fo[r]?.filter(i=>e!==i)}}function jp(r){try{r()}catch(e){console.error(e)}}class U8 extends Event{get detail(){return B8(this,Hf,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Hf.set(this,void 0),O8(this,Hf,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Hf=new WeakMap;function D8(){if(vr||(vr=I8(),typeof window>"u"))return vr;const r=window.navigator.wallets||[];if(!Array.isArray(r))return console.error("window.navigator.wallets is not an array"),vr;const{register:e}=vr,t=(...i)=>i.forEach(a=>jp(()=>a({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:t})})}catch{return console.error("window.navigator.wallets could not be set"),vr}return t(...r),vr}function z8(r){const e=g_(()=>new Set),{get:t,on:i}=g_(()=>D8()),[a,o]=X.useState(()=>p_(t()));X.useEffect(()=>{const f=[i("register",(...h)=>o(g=>[...g,...p_(h)])),i("unregister",(...h)=>o(g=>g.filter(w=>h.some(_=>_===w.wallet))))];return()=>f.forEach(h=>h())},[i]);const u=q8(a);return X.useEffect(()=>{if(!u)return;const f=new Set(a);new Set(u.filter(g=>!f.has(g))).forEach(g=>g.destroy())},[u,a]),X.useEffect(()=>()=>a.forEach(f=>f.destroy()),[]),X.useMemo(()=>[...a,...r.filter(({name:f})=>a.some(h=>h.name===f)?(e.has(f)||(e.add(f),console.warn(`${f} was registered as a Standard Wallet. The Wallet Adapter for ${f} can be removed from your app.`)),!1):!0)],[a,r,e])}function g_(r){const e=X.useRef(void 0);return e.current===void 0&&(e.current={value:r()}),e.current.value}function q8(r){const e=X.useRef(void 0);return X.useEffect(()=>{e.current=r}),e.current}function p_(r){return r.filter(C8).map(e=>new R8({wallet:e}))}var Qo;(function(r){r[r.DESKTOP_WEB=0]="DESKTOP_WEB",r[r.MOBILE_WEB=1]="MOBILE_WEB"})(Qo||(Qo={}));function H8(r){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(r)}function P8({adapters:r,userAgentString:e}){return r.some(t=>t.name!==Df&&t.readyState===Qe.Installed)?Qo.DESKTOP_WEB:e&&/android/i.test(e)&&!H8(e)?Qo.MOBILE_WEB:Qo.DESKTOP_WEB}function W8(r){return r?/devnet/i.test(r)?"devnet":/testnet/i.test(r)?"testnet":"mainnet-beta":"mainnet-beta"}function $8({children:r,wallets:e,adapter:t,isUnloadingRef:i,onAutoConnectRequest:a,onConnectError:o,onError:u,onSelectWallet:f}){const h=X.useRef(!1),[g,w]=X.useState(!1),_=X.useRef(!1),[x,E]=X.useState(!1),[C,B]=X.useState(()=>t?.publicKey??null),[k,U]=X.useState(()=>t?.connected??!1),q=X.useRef(u);X.useEffect(()=>(q.current=u,()=>{q.current=void 0}),[u]);const L=X.useRef((b,A)=>(i.current||(q.current?q.current(b,A):(console.error(b,A),b instanceof Ma&&typeof window<"u"&&A&&window.open(A.url,"_blank"))),b)),[G,te]=X.useState(()=>e.map(b=>({adapter:b,readyState:b.readyState})).filter(({readyState:b})=>b!==Qe.Unsupported));X.useEffect(()=>{te(A=>e.map((N,D)=>{const $=A[D];return $&&$.adapter===N&&$.readyState===N.readyState?$:{adapter:N,readyState:N.readyState}}).filter(({readyState:N})=>N!==Qe.Unsupported));function b(A){te(N=>{const D=N.findIndex(({adapter:F})=>F===this);if(D===-1)return N;const{adapter:$}=N[D];return[...N.slice(0,D),{adapter:$,readyState:A},...N.slice(D+1)].filter(({readyState:F})=>F!==Qe.Unsupported)})}return e.forEach(A=>A.on("readyStateChange",b,A)),()=>{e.forEach(A=>A.off("readyStateChange",b,A))}},[t,e]);const J=X.useMemo(()=>G.find(b=>b.adapter===t)??null,[t,G]);X.useEffect(()=>{if(!t)return;const b=D=>{B(D),h.current=!1,w(!1),U(!0),_.current=!1,E(!1)},A=()=>{i.current||(B(null),h.current=!1,w(!1),U(!1),_.current=!1,E(!1))},N=D=>{L.current(D,t)};return t.on("connect",b),t.on("disconnect",A),t.on("error",N),()=>{t.off("connect",b),t.off("disconnect",A),t.off("error",N),A()}},[t,i]);const se=X.useRef(!1);X.useEffect(()=>()=>{se.current=!1},[t]),X.useEffect(()=>{se.current||h.current||k||!a||!(J?.readyState===Qe.Installed||J?.readyState===Qe.Loadable)||(h.current=!0,w(!0),se.current=!0,(async function(){try{await a()}catch{o()}finally{w(!1),h.current=!1}})())},[k,a,o,J]);const oe=X.useCallback(async(b,A,N)=>{if(!t)throw L.current(new T1);if(!k)throw L.current(new pn,t);return await t.sendTransaction(b,A,N)},[t,k]),P=X.useMemo(()=>t&&"signTransaction"in t?async b=>{if(!k)throw L.current(new pn,t);return await t.signTransaction(b)}:void 0,[t,k]),K=X.useMemo(()=>t&&"signAllTransactions"in t?async b=>{if(!k)throw L.current(new pn,t);return await t.signAllTransactions(b)}:void 0,[t,k]),Z=X.useMemo(()=>t&&"signMessage"in t?async b=>{if(!k)throw L.current(new pn,t);return await t.signMessage(b)}:void 0,[t,k]),Q=X.useMemo(()=>t&&"signIn"in t?async b=>await t.signIn(b):void 0,[t]),O=X.useCallback(async()=>{if(h.current||_.current||J?.adapter.connected)return;if(!J)throw L.current(new T1);const{adapter:b,readyState:A}=J;if(!(A===Qe.Installed||A===Qe.Loadable))throw L.current(new Ma,b);h.current=!0,w(!0);try{await b.connect()}catch(N){throw o(),N}finally{w(!1),h.current=!1}},[o,J]),m=X.useCallback(async()=>{if(!_.current&&t){_.current=!0,E(!0);try{await t.disconnect()}finally{E(!1),_.current=!1}}},[t]);return xe.createElement(bE.Provider,{value:{autoConnect:!!a,wallets:G,wallet:J,publicKey:C,connected:k,connecting:g,disconnecting:x,select:f,connect:O,disconnect:m,sendTransaction:oe,signTransaction:P,signAllTransactions:K,signMessage:Z,signIn:Q}},r)}let Zg;function K8(){return Zg===void 0&&(Zg=globalThis.navigator?.userAgent??null),Zg}function m_(r){const e=K8();return P8({adapters:r,userAgentString:e})===Qo.MOBILE_WEB}function F8(){const r=globalThis.location;if(r)return`${r.protocol}//${r.host}`}function G8({children:r,wallets:e,autoConnect:t,localStorageKey:i="walletName",onError:a}){const{connection:o}=M3(),u=z8(e),f=X.useMemo(()=>{if(!m_(u))return null;const q=u.find(L=>L.name===Df);return q||new p8({addressSelector:m8(),appIdentity:{uri:F8()},authorizationResultCache:y8(),cluster:W8(o?.rpcEndpoint),onWalletNotFound:v8()})},[u,o?.rpcEndpoint]),h=X.useMemo(()=>f==null||u.indexOf(f)!==-1?u:[f,...u],[u,f]),[g,w]=k3(i,null),_=X.useMemo(()=>h.find(q=>q.name===g)??null,[h,g]),x=X.useCallback(q=>{g!==q&&(_&&_.name!==Df&&_.disconnect(),w(q))},[_,w,g]);X.useEffect(()=>{if(!_)return;function q(){B.current||w(null)}return _.on("disconnect",q),()=>{_.off("disconnect",q)}},[_,u,w,g]);const E=X.useRef(!1),C=X.useMemo(()=>{if(!(!t||!_))return async()=>{(t===!0||await t(_))&&(E.current?await _.connect():await _.autoConnect())}},[t,_]),B=X.useRef(!1);X.useEffect(()=>{if(g===Df&&m_(u)){B.current=!1;return}function q(){B.current=!0}return window.addEventListener("beforeunload",q),()=>{window.removeEventListener("beforeunload",q)}},[u,g]);const k=X.useCallback(()=>{_&&x(null)},[_,x]),U=X.useCallback(q=>{E.current=!0,x(q)},[x]);return xe.createElement($8,{wallets:h,adapter:_,isUnloadingRef:B,onAutoConnectRequest:C,onConnectError:k,onError:a,onSelectWallet:U},r)}const qE={setVisible(r){console.error(HE("call","setVisible"))},visible:!1};Object.defineProperty(qE,"visible",{get(){return console.error(HE("read","visible")),!1}});function HE(r,e){return`You have tried to  ${r} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const PE=X.createContext(qE);function V8(){return X.useContext(PE)}const Y8=r=>xe.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&xe.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&xe.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),Z8=({wallet:r,...e})=>r&&xe.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...e}),y_=({id:r,children:e,expanded:t=!1})=>{const i=X.useRef(null),a=X.useRef(!0),o="height 250ms ease-out",u=()=>{const h=i.current;h&&requestAnimationFrame(()=>{h.style.height=h.scrollHeight+"px"})},f=()=>{const h=i.current;h&&requestAnimationFrame(()=>{h.style.height=h.offsetHeight+"px",h.style.overflow="hidden",requestAnimationFrame(()=>{h.style.height="0"})})};return X.useLayoutEffect(()=>{t?u():f()},[t]),X.useLayoutEffect(()=>{const h=i.current;if(!h)return;function g(){h&&(h.style.overflow=t?"initial":"hidden",t&&(h.style.height="auto"))}function w(_){h&&_.target===h&&_.propertyName==="height"&&g()}return a.current&&(g(),a.current=!1),h.addEventListener("transitionend",w),()=>h.removeEventListener("transitionend",w)},[t]),xe.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:i,role:"region",style:{height:0,transition:a.current?void 0:o}},e)},Qg=({handleClick:r,tabIndex:e,wallet:t})=>xe.createElement("li",null,xe.createElement(Y8,{onClick:r,startIcon:xe.createElement(Z8,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===Qe.Installed&&xe.createElement("span",null,"Detected"))),Q8=()=>xe.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},xe.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),xe.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),xe.createElement("g",{clipPath:"url(#clip0_880_5115)"},xe.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),xe.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),xe.createElement("defs",null,xe.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},xe.createElement("stop",{stopColor:"#9945FF"}),xe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),xe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),xe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),xe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),xe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),xe.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},xe.createElement("stop",{stopColor:"#9945FF"}),xe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),xe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),xe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),xe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),xe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),xe.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},xe.createElement("stop",{stopColor:"#9945FF"}),xe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),xe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),xe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),xe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),xe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),xe.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},xe.createElement("stop",{stopColor:"#9945FF"}),xe.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),xe.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),xe.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),xe.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),xe.createElement("stop",{offset:"1",stopColor:"#00D18C"})),xe.createElement("clipPath",{id:"clip0_880_5115"},xe.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),J8=({className:r="",container:e="body"})=>{const t=X.useRef(null),{wallets:i,select:a}=Pu(),{setVisible:o}=V8(),[u,f]=X.useState(!1),[h,g]=X.useState(!1),[w,_]=X.useState(null),[x,E]=X.useMemo(()=>{const L=[],G=[];for(const te of i)te.readyState===Qe.Installed?L.push(te):G.push(te);return L.length?[L,G]:[G,[]]},[i]),C=X.useCallback(()=>{g(!1),setTimeout(()=>o(!1),150)},[o]),B=X.useCallback(L=>{L.preventDefault(),C()},[C]),k=X.useCallback((L,G)=>{a(G),B(L)},[a,B]),U=X.useCallback(()=>f(!u),[u]),q=X.useCallback(L=>{const G=t.current;if(!G)return;const te=G.querySelectorAll("button"),J=te[0],se=te[te.length-1];L.shiftKey?document.activeElement===J&&(se.focus(),L.preventDefault()):document.activeElement===se&&(J.focus(),L.preventDefault())},[t]);return X.useLayoutEffect(()=>{const L=te=>{te.key==="Escape"?C():te.key==="Tab"&&q(te)},{overflow:G}=window.getComputedStyle(document.body);return setTimeout(()=>g(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",L,!1),()=>{document.body.style.overflow=G,window.removeEventListener("keydown",L,!1)}},[C,q]),X.useLayoutEffect(()=>_(document.querySelector(e)),[e]),w&&uS.createPortal(xe.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${r}`,ref:t,role:"dialog"},xe.createElement("div",{className:"wallet-adapter-modal-container"},xe.createElement("div",{className:"wallet-adapter-modal-wrapper"},xe.createElement("button",{onClick:B,className:"wallet-adapter-modal-button-close"},xe.createElement("svg",{width:"14",height:"14"},xe.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),x.length?xe.createElement(xe.Fragment,null,xe.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),xe.createElement("ul",{className:"wallet-adapter-modal-list"},x.map(L=>xe.createElement(Qg,{key:L.adapter.name,handleClick:G=>k(G,L.adapter.name),wallet:L})),E.length?xe.createElement(y_,{expanded:u,id:"wallet-adapter-modal-collapse"},E.map(L=>xe.createElement(Qg,{key:L.adapter.name,handleClick:G=>k(G,L.adapter.name),tabIndex:u?0:-1,wallet:L}))):null),E.length?xe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:U,tabIndex:0},xe.createElement("span",null,u?"Less ":"More ","options"),xe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${u?"wallet-adapter-modal-list-more-icon-rotate":""}`},xe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):xe.createElement(xe.Fragment,null,xe.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),xe.createElement("div",{className:"wallet-adapter-modal-middle"},xe.createElement(Q8,null)),E.length?xe.createElement(xe.Fragment,null,xe.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:U,tabIndex:0},xe.createElement("span",null,u?"Hide ":"Already have a wallet? View ","options"),xe.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${u?"wallet-adapter-modal-list-more-icon-rotate":""}`},xe.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),xe.createElement(y_,{expanded:u,id:"wallet-adapter-modal-collapse"},xe.createElement("ul",{className:"wallet-adapter-modal-list"},E.map(L=>xe.createElement(Qg,{key:L.adapter.name,handleClick:G=>k(G,L.adapter.name),tabIndex:u?0:-1,wallet:L}))))):null))),xe.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:B})),w)},X8=({children:r,...e})=>{const[t,i]=X.useState(!1);return xe.createElement(PE.Provider,{value:{visible:t,setVisible:i}},r,t&&xe.createElement(J8,{...e}))},e5="modulepreload",t5=function(r){return"/winter-arcade/"+r},w_={},WE=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let h=function(g){return Promise.all(g.map(w=>Promise.resolve(w).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");a=h(t.map(g=>{if(g=t5(g),g in w_)return;w_[g]=!0;const w=g.endsWith(".css"),_=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const x=document.createElement("link");if(x.rel=w?"stylesheet":e5,w||(x.as="script"),x.crossOrigin="",x.href=g,f&&x.setAttribute("nonce",f),document.head.appendChild(x),w)return new Promise((E,C)=>{x.addEventListener("load",E),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&o(f.reason);return e().catch(o)})},n5="Phantom";class r5 extends Om{constructor(e={}){super(),this.name=n5,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Qe.Unsupported:Qe.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Cm),this.emit("disconnect"))},this._accountChanged=t=>{const i=this._publicKey;if(i){try{t=new De(t.toBytes())}catch(a){this.emit("error",new il(a?.message,a));return}i.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==Qe.Unsupported&&(mp()?(this._readyState=Qe.Loadable,this.emit("readyStateChange",this._readyState)):vE(()=>window.phantom?.solana?.isPhantom||window.solana?.isPhantom?(this._readyState=Qe.Installed,this.emit("readyStateChange",this._readyState),!0):!1))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===Qe.Installed&&await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this.readyState===Qe.Loadable){const i=encodeURIComponent(window.location.href),a=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${i}?ref=${a}`;return}if(this.readyState!==Qe.Installed)throw new Ma;this._connecting=!0;const e=window.phantom?.solana||window.solana;if(!e.isConnected)try{await e.connect()}catch(i){throw new Ta(i?.message,i)}if(!e.publicKey)throw new ma;let t;try{t=new De(e.publicKey.toBytes())}catch(i){throw new il(i?.message,i)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=t,this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new Bm(t?.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,i={}){try{const a=this._wallet;if(!a)throw new pn;try{const{signers:o,...u}=i;Wi(e)?o?.length&&e.sign(o):(e=await this.prepareTransaction(e,t,u),o?.length&&e.partialSign(...o)),u.preflightCommitment=u.preflightCommitment||t.commitment;const{signature:f}=await a.signAndSendTransaction(e,u);return f}catch(o){throw o instanceof On?o:new Pi(o?.message,o)}}catch(a){throw this.emit("error",a),a}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new pn;try{return await t.signTransaction(e)||e}catch(i){throw new Fr(i?.message,i)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new pn;try{return await t.signAllTransactions(e)||e}catch(i){throw new Fr(i?.message,i)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new pn;try{const{signature:i}=await t.signMessage(e);return i}catch(i){throw new Sh(i?.message,i)}}catch(t){throw this.emit("error",t),t}}}const i5="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var wt=function(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)},s5=function(r,e,t,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!a:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(r,t):a?a.value=t:e.set(r,t),t},Pf,_a,Up,Dp,zp,Yn,qp,$E,KE,Hp,Pp,Wp,$p,Kp;class a5{constructor(){Pf.add(this),_a.set(this,{}),Up.set(this,"1.0.0"),Dp.set(this,"MetaMask"),zp.set(this,i5),Yn.set(this,null),qp.set(this,(e,t)=>(wt(this,_a,"f")[e]?.push(t)||(wt(this,_a,"f")[e]=[t]),()=>wt(this,Pf,"m",KE).call(this,e,t))),Hp.set(this,async()=>{if(!wt(this,Yn,"f")){let e;try{e=(await WE(async()=>{const{default:t}=await import("./index-zjj74GHP.js");return{default:t}},__vite__mapDeps([0,1]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}s5(this,Yn,new e,"f"),wt(this,Yn,"f").on("standard_change",t=>wt(this,Pf,"m",$E).call(this,"change",t))}return this.accounts.length||await wt(this,Yn,"f").connect(),{accounts:this.accounts}}),Pp.set(this,async()=>{wt(this,Yn,"f")&&await wt(this,Yn,"f").disconnect()}),Wp.set(this,async(...e)=>{if(!wt(this,Yn,"f"))throw new pn;return await wt(this,Yn,"f").standardSignAndSendTransaction(...e)}),$p.set(this,async(...e)=>{if(!wt(this,Yn,"f"))throw new pn;return await wt(this,Yn,"f").standardSignTransaction(...e)}),Kp.set(this,async(...e)=>{if(!wt(this,Yn,"f"))throw new pn;return await wt(this,Yn,"f").standardSignMessage(...e)})}get version(){return wt(this,Up,"f")}get name(){return wt(this,Dp,"f")}get icon(){return wt(this,zp,"f")}get chains(){return[Mu,xE,ME]}get features(){return{[Eh]:{version:"1.0.0",connect:wt(this,Hp,"f")},[nh]:{version:"1.0.0",disconnect:wt(this,Pp,"f")},[Ah]:{version:"1.0.0",on:wt(this,qp,"f")},[Xn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:wt(this,Wp,"f")},[Kt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:wt(this,$p,"f")},[zi]:{version:"1.0.0",signMessage:wt(this,Kp,"f")}}}get accounts(){return wt(this,Yn,"f")?wt(this,Yn,"f").standardAccounts:[]}}_a=new WeakMap,Up=new WeakMap,Dp=new WeakMap,zp=new WeakMap,Yn=new WeakMap,qp=new WeakMap,Hp=new WeakMap,Pp=new WeakMap,Wp=new WeakMap,$p=new WeakMap,Kp=new WeakMap,Pf=new WeakSet,$E=function(e,...t){wt(this,_a,"f")[e]?.forEach(i=>i.apply(null,t))},KE=function(e,t){wt(this,_a,"f")[e]=wt(this,_a,"f")[e]?.filter(i=>t!==i)};let v_=!1;function o5(){v_||(S8(new a5),v_=!0)}async function l5(){const r="solflare-detect-metamask";function e(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:r,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function t(i){const a=i.data;a?.target==="metamask-inpage"&&a.data?.name==="metamask-provider"&&(a.data.data?.id===r?(window.removeEventListener("message",t),a.data.data.error||o5()):e())}window.addEventListener("message",t),window.setTimeout(()=>window.removeEventListener("message",t),5e3),e()}const u5="Solflare";class c5 extends Om{constructor(e={}){super(),this.name=u5,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?Qe.Unsupported:Qe.Loadable,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Cm),this.emit("disconnect"))},this._accountChanged=t=>{if(!t)return;const i=this._publicKey;if(i){try{t=new De(t.toBytes())}catch(a){this.emit("error",new il(a?.message,a));return}i.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==Qe.Unsupported&&(vE(()=>window.solflare?.isSolflare||window.SolflareApp?(this._readyState=Qe.Installed,this.emit("readyStateChange",this._readyState),!0):!1),l5())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){return!!this._wallet?.connected}get readyState(){return this._readyState}async autoConnect(){this.readyState===Qe.Loadable&&mp()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==Qe.Loadable&&this._readyState!==Qe.Installed)throw new Ma;if(this.readyState===Qe.Loadable&&mp()){const a=encodeURIComponent(window.location.href),o=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${a}?ref=${o}`;return}let e;try{e=(await WE(async()=>{const{default:a}=await import("./index-CyFKL4dj.js");return{default:a}},__vite__mapDeps([2,1]))).default}catch(a){throw new R3(a?.message,a)}let t;try{t=new e({network:this._config.network})}catch(a){throw new Ko(a?.message,a)}if(this._connecting=!0,!t.connected)try{await t.connect()}catch(a){throw new Ta(a?.message,a)}if(!t.publicKey)throw new Ta;let i;try{i=new De(t.publicKey.toBytes())}catch(a){throw new il(a?.message,a)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new Bm(t?.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,i={}){try{const a=this._wallet;if(!a)throw new pn;try{const{signers:o,...u}=i;return Wi(e)?o?.length&&e.sign(o):(e=await this.prepareTransaction(e,t,u),o?.length&&e.partialSign(...o)),u.preflightCommitment=u.preflightCommitment||t.commitment,await a.signAndSendTransaction(e,u)}catch(o){throw o instanceof On?o:new Pi(o?.message,o)}}catch(a){throw this.emit("error",a),a}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new pn;try{return await t.signTransaction(e)||e}catch(i){throw new Fr(i?.message,i)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new pn;try{return await t.signAllTransactions(e)||e}catch(i){throw new Fr(i?.message,i)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new pn;try{return await t.signMessage(e,"utf8")}catch(i){throw new Sh(i?.message,i)}}catch(t){throw this.emit("error",t),t}}}function f5({open:r,onClose:e}){const{wallets:t,select:i,connect:a,connecting:o,connected:u,wallet:f}=Pu(),[h,g]=X.useState(null);X.useEffect(()=>{const _=x=>{x.key==="Escape"&&e?.()};return r&&window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[r,e]),X.useEffect(()=>{r||g(null)},[r]),X.useEffect(()=>{if(!r||!h)return;if(u){e?.(),g(null);return}if((f?.adapter?.name||null)!==h)return;let x=!1;const E=async(C=0)=>{try{if(await Promise.resolve(),await a(),x)return;e?.(),g(null)}catch(B){if(x)return;const k=String(B?.message||B||"");if((B?.name==="WalletNotSelectedError"||k.includes("WalletNotSelectedError"))&&C<2){setTimeout(()=>E(C+1),80);return}console.error("[WalletSelectModal] connect error:",B)}};return E(),()=>{x=!0}},[r,h,f,u,a,e]);const w=X.useMemo(()=>t||[],[t]);return r?uS.createPortal(ne.jsx("div",{onMouseDown:_=>{_.target===_.currentTarget&&e?.()},style:{position:"fixed",inset:0,zIndex:2147483647,background:"rgba(0,0,0,0.55)",display:"flex",alignItems:"center",justifyContent:"center",padding:16},children:ne.jsxs("div",{style:{width:"min(520px, 100%)",borderRadius:18,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(10,14,22,0.96)",boxShadow:"0 20px 60px rgba(0,0,0,0.55)",overflow:"hidden",maxHeight:"calc(100vh - 32px)",display:"flex",flexDirection:"column"},children:[ne.jsxs("div",{style:{padding:16,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.10)",flex:"0 0 auto"},children:[ne.jsx("div",{style:{fontWeight:800},children:"Connect a wallet"}),ne.jsx("button",{onClick:e,style:{width:36,height:36,borderRadius:10,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(255,255,255,0.06)",color:"white",cursor:"pointer"},"aria-label":"Close",children:""})]}),ne.jsx("div",{style:{padding:14,display:"grid",gap:10,overflow:"auto",flex:"1 1 auto"},children:w.map((_,x)=>{const E=_?.adapter?.name||`wallet-${x}`,C=_?.adapter?.icon;return ne.jsxs("button",{onClick:()=>{try{g(E),i(E)}catch(B){console.error("[WalletSelectModal] select error:",B)}},disabled:o,style:{display:"flex",alignItems:"center",gap:12,padding:14,borderRadius:14,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(255,255,255,0.06)",color:"white",cursor:o?"not-allowed":"pointer"},children:[C?ne.jsx("img",{src:C,alt:"",style:{width:28,height:28,borderRadius:8}}):ne.jsx("div",{style:{width:28,height:28}}),ne.jsxs("div",{style:{textAlign:"left"},children:[ne.jsx("div",{style:{fontWeight:800},children:E}),ne.jsx("div",{style:{fontSize:12,opacity:.75},children:o&&h===E?"Connecting":"Detected / available"})]}),ne.jsx("div",{style:{marginLeft:"auto",opacity:.7},children:""})]},`${E}-${x}`)})})]})}),document.body):null}function h5(){const{connected:r,publicKey:e,disconnect:t,connecting:i}=Pu(),[a,o]=X.useState(!1),[u,f]=X.useState(!1),h=X.useMemo(()=>{if(i||u)return"Working";if(!r||!e)return"Connect";const w=e.toBase58();return`${w.slice(0,4)}${w.slice(-4)}`},[r,e,i,u]),g=async()=>{if(!(i||u)){f(!0);try{if(r){await t();return}o(!0)}catch(w){console.warn("[WalletToggleButton] toggle error:",w)}finally{f(!1)}}};return ne.jsxs(ne.Fragment,{children:[ne.jsx("button",{onClick:g,disabled:i||u,className:"walletToggleBtn",style:{minWidth:120},children:h}),ne.jsx(f5,{open:a,onClose:()=>{u||o(!1)}})]})}function d5(){const r=am(),t=Yi().pathname.startsWith("/arcade");return ne.jsxs("div",{style:{minHeight:"100vh",background:"#0b0f16",color:"rgba(255,255,255,0.92)"},children:[ne.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,height:56,zIndex:50,background:"rgba(0,0,0,0.45)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255,255,255,0.12)"},children:ne.jsxs("div",{style:{height:"100%",maxWidth:1100,margin:"0 auto",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[ne.jsx("div",{onClick:()=>r("/"),style:{fontSize:14,fontWeight:700,letterSpacing:.2,cursor:"pointer",userSelect:"none"},children:"Winter Arcade"}),ne.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t&&ne.jsx("button",{className:"btn",onClick:()=>r("/"),children:"Back to Home"}),ne.jsx(h5,{})]})]})}),ne.jsx("div",{style:{paddingTop:56},children:ne.jsx(iS,{})})]})}const oh="/winter-arcade/assets/bg-milano-cortina-DPbDqD3i.jpg";function g5(){return ne.jsxs("div",{className:"homeCover",children:[ne.jsx("img",{className:"heroBg",src:oh,alt:"","aria-hidden":"true"}),ne.jsx("div",{className:"homeCoverOverlay"}),ne.jsx("img",{className:"heroImg",src:oh,alt:"Winter Olympic Games hero"}),ne.jsxs("div",{className:"homeCoverPanel",children:[ne.jsx("h1",{className:"heroTitle",children:"WINTER OLYMPIC GAMES"}),ne.jsx("p",{className:"heroSubtitle",children:"Skill-based winter mini-games for holders."}),ne.jsxs("div",{className:"heroCtaRow",children:[ne.jsx(Ir,{className:"btn ctaStrong",to:"/arcade",children:"Enter Arcade "}),ne.jsx("div",{className:"heroHintStrong",children:"Connect wallet to check access"})]})]})]})}function Wu({to:r="/",label:e=" Back"}){return ne.jsx(Ir,{className:"backBtn",to:r,children:e})}function p5(){return ne.jsxs("div",{className:"homeCover",children:[ne.jsx("img",{className:"heroBg",src:oh,alt:"","aria-hidden":"true"}),ne.jsx("div",{className:"homeCoverOverlay"}),ne.jsx("img",{className:"heroImg",src:oh,alt:"Winter Arcade hero"}),ne.jsxs("div",{className:"homeCoverPanel",children:[ne.jsx(Wu,{to:"/",label:" Back to Home"}),ne.jsx("h2",{className:"heroTitle",children:" Arcade"}),ne.jsx("p",{className:"heroSubtitle",children:"Choose a game:"}),ne.jsxs("div",{className:"list",children:[ne.jsxs(Ir,{className:"gameRow",to:"/arcade/ice-slalom",children:[ne.jsx("span",{className:"gameEmoji",children:""}),ne.jsxs("span",{children:[ne.jsx("div",{className:"gameRowTitle",children:"Ice Slalom"}),ne.jsx("div",{className:"gameRowDesc",children:"Reflexes, speed, obstacles."})]})]}),ne.jsxs(Ir,{className:"gameRow",to:"/arcade/snowball",children:[ne.jsx("span",{className:"gameEmoji",children:""}),ne.jsxs("span",{children:[ne.jsx("div",{className:"gameRowTitle",children:"Snowball Frenzy"}),ne.jsx("div",{className:"gameRowDesc",children:"Aim, timing, chaos."})]})]}),ne.jsx(Ir,{className:"btn",to:"/winner",style:{marginTop:16},children:" Winner"}),ne.jsx(Ir,{className:"btn",to:"/wall-of-fame",style:{marginTop:8},children:" Wall of Fame"})]}),ne.jsx(iS,{})]})]})}function m5(){const[r,e]=X.useState(!0),[t,i]=X.useState(""),[a,o]=X.useState(null),[u,f]=X.useState([]),[h,g]=X.useState(!1);return X.useEffect(()=>{let w=!0;async function _(){try{e(!0),i("");const x="https://rnsfalgdlinjbhrvwyxr.supabase.co",E="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuc2ZhbGdkbGluamJocnZ3eXhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkyNTU1MjQsImV4cCI6MjA4NDgzMTUyNH0.m-Ay5dbLsq6-60jI5leQA3Y3AamzZQHPRJKEIuykNzM",C=`${x}/functions/v1/wall-of-fame`,B=await fetch(C,{method:"GET",headers:{"Content-Type":"application/json",apikey:E,Authorization:`Bearer ${E}`}}),k=await B.json().catch(()=>null);if(!B.ok)throw new Error(k?.error||`wall-of-fame failed (${B.status})`);if(!w)return;g(!!k?.frozen),o(k?.winner??null),f(Array.isArray(k?.top20)?k.top20:[])}catch(x){if(!w)return;i(x?.message||"Errore caricamento Wall of Fame")}finally{if(!w)return;e(!1)}}return _(),()=>{w=!1}},[]),ne.jsxs("div",{className:"card",children:[ne.jsx(Wu,{to:"/arcade",label:" Back to Arcade"}),ne.jsx("h2",{className:"h2",children:" Wall of Fame"}),ne.jsx(Ir,{className:"btn",to:"/winner",style:{marginTop:10},children:" View Winner"}),h&&ne.jsxs("div",{style:{marginTop:10,display:"flex",gap:10,flexWrap:"wrap"},children:[ne.jsx("a",{className:"btn",href:"https://rnsfalgdlinjbhrvwyxr.supabase.co/functions/v1/wall-of-fame",target:"_blank",rel:"noreferrer",children:" Live JSON"}),ne.jsx("a",{className:"btn",href:"https://rnsfalgdlinjbhrvwyxr.supabase.co/functions/v1/final-results",target:"_blank",rel:"noreferrer",children:" Final JSON"})]}),r&&ne.jsx("p",{className:"p",children:"Caricamento"}),t&&ne.jsx("p",{className:"p",style:{color:"tomato"},children:t}),!r&&!t&&ne.jsxs(ne.Fragment,{children:[ne.jsxs("div",{style:{marginTop:12,padding:12,borderRadius:12,border:"1px solid rgba(255,255,255,0.12)"},children:[ne.jsx("h3",{style:{margin:0,marginBottom:8},children:" Winner"}),a?ne.jsxs("div",{children:[ne.jsxs("div",{children:[ne.jsx("strong",{children:"Wallet:"})," ",a.wallet]}),ne.jsxs("div",{children:[ne.jsx("strong",{children:"Total:"})," ",a.total]}),ne.jsxs("div",{children:[ne.jsx("strong",{children:"Ice Slalom:"})," ",a.best_slalom]}),ne.jsxs("div",{children:[ne.jsx("strong",{children:"Snowball Frenzy:"})," ",a.best_snowball]})]}):ne.jsx("div",{children:"Nessun dato."})]}),ne.jsxs("div",{style:{marginTop:16},children:[ne.jsx("h3",{style:{marginBottom:8},children:"Top 20"}),ne.jsx("div",{style:{overflowX:"auto"},children:ne.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[ne.jsx("thead",{children:ne.jsxs("tr",{style:{textAlign:"left"},children:[ne.jsx("th",{style:{padding:"8px 6px"},children:"#"}),ne.jsx("th",{style:{padding:"8px 6px"},children:"Wallet"}),ne.jsx("th",{style:{padding:"8px 6px"},children:"Total"}),ne.jsx("th",{style:{padding:"8px 6px"},children:"Ice Slalom"}),ne.jsx("th",{style:{padding:"8px 6px"},children:"Snowball"})]})}),ne.jsxs("tbody",{children:[u.map((w,_)=>ne.jsxs("tr",{style:{borderTop:"1px solid rgba(255,255,255,0.08)"},children:[ne.jsx("td",{style:{padding:"8px 6px"},children:_+1}),ne.jsx("td",{style:{padding:"8px 6px"},children:w.wallet}),ne.jsx("td",{style:{padding:"8px 6px"},children:w.total}),ne.jsx("td",{style:{padding:"8px 6px"},children:w.best_slalom}),ne.jsx("td",{style:{padding:"8px 6px"},children:w.best_snowball})]},`${w.wallet}-${_}`)),u.length===0&&ne.jsx("tr",{style:{borderTop:"1px solid rgba(255,255,255,0.08)"},children:ne.jsx("td",{style:{padding:"8px 6px"},colSpan:5,children:"Nessun dato."})})]})]})})]})]})]})}function y5(){const[r,e]=X.useState(!0),[t,i]=X.useState(""),[a,o]=X.useState(!1),[u,f]=X.useState(null),h="https://rnsfalgdlinjbhrvwyxr.supabase.co",g=X.useMemo(()=>`${h}/functions/v1/wall-of-fame`,[h]),w=X.useMemo(()=>`${h}/functions/v1/final-results`,[h]);return X.useEffect(()=>{let _=!0;async function x(){try{e(!0),i("");const E=await fetch(g,{method:"GET"}),C=await E.json().catch(()=>null);if(!E.ok)throw new Error(C?.error||`Winner fetch failed (${E.status})`);if(!_)return;o(!!C?.frozen),f(C?.winner??null)}catch(E){if(!_)return;i(E?.message||"Winner loading error")}finally{if(!_)return;e(!1)}}return x(),()=>{_=!1}},[g]),ne.jsxs("div",{className:"card",children:[ne.jsx(Wu,{to:"/arcade",label:" Back to Arcade"}),ne.jsxs("div",{style:{marginTop:10,display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[ne.jsx("h2",{className:"h2",style:{margin:0},children:" Winner"}),a?ne.jsx("span",{style:{padding:"4px 10px",borderRadius:999,border:"1px solid rgba(255,255,255,0.20)",background:"rgba(0,0,0,0.25)",fontSize:12},children:" Official (Frozen)"}):ne.jsx("span",{style:{padding:"4px 10px",borderRadius:999,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(0,0,0,0.18)",fontSize:12,opacity:.9},children:" Live Leader"})]}),r&&ne.jsx("p",{className:"p",children:"Loading"}),t&&ne.jsx("p",{className:"p",style:{color:"tomato"},children:t}),!r&&!t&&ne.jsx("div",{style:{marginTop:16,padding:20,borderRadius:18,border:"1px solid rgba(255,255,255,0.14)",background:"rgba(0,0,0,0.18)"},children:u?ne.jsxs(ne.Fragment,{children:[a?ne.jsxs("div",{style:{padding:18,borderRadius:18,border:"1px solid rgba(255,255,255,0.20)",background:"radial-gradient(1200px 400px at 20% 0%, rgba(255,215,0,0.20), transparent 60%),radial-gradient(900px 380px at 80% 10%, rgba(0,255,255,0.14), transparent 55%),rgba(0,0,0,0.18)",marginBottom:14,position:"relative",overflow:"hidden"},children:[ne.jsx("div",{style:{position:"absolute",inset:0,opacity:.25,backgroundImage:"radial-gradient(circle at 20% 30%, rgba(255,255,255,0.9) 0 1px, transparent 2px),radial-gradient(circle at 80% 40%, rgba(255,255,255,0.9) 0 1px, transparent 2px),radial-gradient(circle at 60% 80%, rgba(255,255,255,0.7) 0 1px, transparent 2px)",pointerEvents:"none"}}),ne.jsx("div",{style:{fontSize:12,letterSpacing:1,opacity:.9},children:" OFFICIAL WINNER"}),ne.jsx("div",{style:{marginTop:6,fontSize:28,fontWeight:900},children:" CHAMPION"}),ne.jsxs("div",{style:{marginTop:6,fontSize:14,opacity:.9},children:["Contest concluded.",ne.jsx("br",{}),"This is the official winner of the Winter Arcade."]}),ne.jsx("div",{style:{marginTop:10,fontSize:20,fontWeight:800,wordBreak:"break-all"},children:u.wallet}),ne.jsx("div",{style:{marginTop:6,fontSize:12,opacity:.8},children:"Final results  leaderboard frozen"})]}):ne.jsxs(ne.Fragment,{children:[ne.jsx("div",{style:{fontSize:12,opacity:.85},children:" CURRENT LEADER"}),ne.jsx("div",{style:{fontSize:26,fontWeight:800,marginTop:8,wordBreak:"break-all",letterSpacing:.2},children:u.wallet})]}),ne.jsxs("div",{style:{display:"flex",gap:18,flexWrap:"wrap",marginTop:16},children:[ne.jsx(Jg,{label:"TOTAL",value:u.total,big:!0}),ne.jsx(Jg,{label:"ICE SLALOM",value:u.best_slalom}),ne.jsx(Jg,{label:"SNOWBALL FRENZY",value:u.best_snowball})]}),ne.jsxs("div",{style:{marginTop:18,display:"flex",gap:10,flexWrap:"wrap"},children:[ne.jsx(Ir,{className:"btn",to:"/wall-of-fame",children:" Wall of Fame"}),a?ne.jsx("a",{className:"btn",href:w,target:"_blank",rel:"noreferrer",children:" Final JSON (Official)"}):ne.jsx("a",{className:"btn",href:g,target:"_blank",rel:"noreferrer",children:" Live JSON"})]}),ne.jsx("div",{style:{marginTop:12,fontSize:12,opacity:.75},children:a?"Leaderboard frozen: this result is final.":"Live leaderboard: the leader can change until it is frozen."})]}):ne.jsxs(ne.Fragment,{children:[ne.jsx("div",{style:{fontSize:16,fontWeight:700},children:"No winner yet"}),ne.jsx("div",{style:{marginTop:6,opacity:.85},children:"No scores have been submitted so far."}),ne.jsxs("div",{style:{marginTop:16,display:"flex",gap:10,flexWrap:"wrap"},children:[ne.jsx(Ir,{className:"btn",to:"/arcade",children:" Back to Arcade"}),ne.jsx(Ir,{className:"btn",to:"/wall-of-fame",children:" Wall of Fame"}),ne.jsx("a",{className:"btn",href:g,target:"_blank",rel:"noreferrer",children:" Live JSON"})]})]})})]})}function Jg({label:r,value:e,big:t=!1}){return ne.jsxs("div",{style:{minWidth:140,padding:12,borderRadius:14,border:"1px solid rgba(255,255,255,0.10)",background:"rgba(0,0,0,0.12)"},children:[ne.jsx("div",{style:{fontSize:12,opacity:.78},children:r}),ne.jsx("div",{style:{marginTop:6,fontSize:t?22:18,fontWeight:t?800:650},children:e??0})]})}function Th(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(r);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(r,i[a])&&(t[i[a]]=r[i[a]]);return t}function w5(r,e,t,i){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function f(w){try{g(i.next(w))}catch(_){u(_)}}function h(w){try{g(i.throw(w))}catch(_){u(_)}}function g(w){w.done?o(w.value):a(w.value).then(f,h)}g((i=i.apply(r,e||[])).next())})}const v5=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class km extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class b5 extends km{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class b_ extends km{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class __ extends km{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Fp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Fp||(Fp={}));class _5{constructor(e,{headers:t={},customFetch:i,region:a=Fp.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=v5(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return w5(this,arguments,void 0,function*(t,i={}){var a;let o,u;try{const{headers:f,method:h,body:g,signal:w,timeout:_}=i;let x={},{region:E}=i;E||(E=this.region);const C=new URL(`${this.url}/${t}`);E&&E!=="any"&&(x["x-region"]=E,C.searchParams.set("forceFunctionRegion",E));let B;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",B=g):typeof g=="string"?(x["Content-Type"]="text/plain",B=g):typeof FormData<"u"&&g instanceof FormData?B=g:(x["Content-Type"]="application/json",B=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?B=JSON.stringify(g):B=g;let k=w;_&&(u=new AbortController,o=setTimeout(()=>u.abort(),_),w?(k=u.signal,w.addEventListener("abort",()=>u.abort())):k=u.signal);const U=yield this.fetch(C.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),f),body:B,signal:k}).catch(te=>{throw new b5(te)}),q=U.headers.get("x-relay-error");if(q&&q==="true")throw new b_(U);if(!U.ok)throw new __(U);let L=((a=U.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),G;return L==="application/json"?G=yield U.json():L==="application/octet-stream"||L==="application/pdf"?G=yield U.blob():L==="text/event-stream"?G=U:L==="multipart/form-data"?G=yield U.formData():G=yield U.text(),{data:G,error:null,response:U}}catch(f){return{data:null,error:f,response:f instanceof __||f instanceof b_?f.context:void 0}}finally{o&&clearTimeout(o)}})}}var S5=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},E5=class{constructor(r){var e,t;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(t=r.isMaybeSingle)!==null&&t!==void 0?t:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,f=null,h=null,g=o.status,w=o.statusText;if(o.ok){var _,x;if(t.method!=="HEAD"){var E;const U=await o.text();U===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((E=t.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=U:f=JSON.parse(U))}const B=(_=t.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),k=(x=o.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");B&&k&&k.length>1&&(h=parseInt(k[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,g=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var C;const B=await o.text();try{u=JSON.parse(B),Array.isArray(u)&&o.status===404&&(f=[],u=null,g=200,w="OK")}catch{o.status===404&&B===""?(g=204,w="No Content"):u={message:B}}if(u&&t.isMaybeSingle&&(!(u==null||(C=u.details)===null||C===void 0)&&C.includes("0 rows"))&&(u=null,g=200,w="OK"),u&&t.shouldThrowOnError)throw new S5(u)}return{error:u,data:f,count:h,status:g,statusText:w}});return this.shouldThrowOnError||(a=a.catch(o=>{var u;let f="";const h=o?.cause;if(h){var g,w,_,x;const C=(g=h?.message)!==null&&g!==void 0?g:"",B=(w=h?.code)!==null&&w!==void 0?w:"";f=`${(_=o?.name)!==null&&_!==void 0?_:"FetchError"}: ${o?.message}`,f+=`

Caused by: ${(x=h?.name)!==null&&x!==void 0?x:"Error"}: ${C}`,B&&(f+=` (${B})`),h?.stack&&(f+=`
${h.stack}`)}else{var E;f=(E=o?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(r,e)}returns(){return this}overrideTypes(){return this}},A5=class extends E5{select(r){let e=!1;const t=(r??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${r}`),this}range(r,e,{foreignTable:t,referencedTable:i=t}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${r}`),this.url.searchParams.set(o,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var u;const f=[r?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${f};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const S_=new RegExp("[,()]");var qo=class extends A5{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&S_.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`in.(${t})`),this}notIn(r,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&S_.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(r,`not.in.(${t})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:t,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=t===void 0?"":`(${t})`;return this.url.searchParams.append(r,`${a}fts${o}.${e}`),this}match(r){return Object.entries(r).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(r,e,t){return this.url.searchParams.append(r,`not.${e}.${t}`),this}or(r,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${r})`),this}filter(r,e,t){return this.url.searchParams.append(r,`${e}.${t}`),this}},x5=class{constructor(r,{headers:e={},schema:t,fetch:i}){this.url=r,this.headers=new Headers(e),this.schema=t,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,e){const{head:t=!1,count:i}=e??{},a=t?"HEAD":"GET";let o=!1;const u=(r??"*").split("").map(g=>/\s/.test(g)&&!o?"":(g==='"'&&(o=!o),g)).join(""),{url:f,headers:h}=this.cloneRequestState();return f.searchParams.set("select",u),i&&h.append("Prefer",`count=${i}`),new qo({method:a,url:f,headers:h,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:t=!0}={}){var i;const a="POST",{url:o,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),t||u.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(f.length>0){const h=[...new Set(f)].map(g=>`"${g}"`);o.searchParams.set("columns",h.join(","))}}return new qo({method:a,url:o,headers:u,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:a=!0}={}){var o;const u="POST",{url:f,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&f.searchParams.set("on_conflict",e),i&&h.append("Prefer",`count=${i}`),a||h.append("Prefer","missing=default"),Array.isArray(r)){const g=r.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(g.length>0){const w=[...new Set(g)].map(_=>`"${_}"`);f.searchParams.set("columns",w.join(","))}}return new qo({method:u,url:f,headers:h,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(r,{count:e}={}){var t;const i="PATCH",{url:a,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new qo({method:i,url:a,headers:o,schema:this.schema,body:r,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}delete({count:r}={}){var e;const t="DELETE",{url:i,headers:a}=this.cloneRequestState();return r&&a.append("Prefer",`count=${r}`),new qo({method:t,url:i,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},M5=class FE{constructor(e,{headers:t={},schema:i,fetch:a}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new x5(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new FE(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:i=!1,get:a=!1,count:o}={}){var u;let f;const h=new URL(`${this.url}/rpc/${e}`);let g;const w=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(w)),_=i&&Object.values(t).some(w);_?(f="POST",g=t):i||a?(f=i?"HEAD":"GET",Object.entries(t).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{h.searchParams.append(E,C)})):(f="POST",g=t);const x=new Headers(this.headers);return _?x.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&x.set("Prefer",`count=${o}`),new qo({method:f,url:h,headers:x,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class T5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const i=t.versions;if(i&&i.node){const a=i.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const R5="2.93.1",C5=`realtime-js/${R5}`,B5="1.0.0",GE="2.0.0",E_=GE,Gp=1e4,O5=1e3,N5=100;var Ls;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ls||(Ls={}));var Mn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Mn||(Mn={}));var Wr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Wr||(Wr={}));var Vp;(function(r){r.websocket="websocket"})(Vp||(Vp={}));var fa;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(fa||(fa={}));class k5{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const a=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var t,i;const a=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,t,i){var a,o;const u=e.topic,f=(a=e.ref)!==null&&a!==void 0?a:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",g=e.payload.event,w=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(w).length===0?"":JSON.stringify(w);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+u.length+g.length+_.length,E=new ArrayBuffer(this.HEADER_LENGTH+x);let C=new DataView(E),B=0;C.setUint8(B++,this.KINDS.userBroadcastPush),C.setUint8(B++,h.length),C.setUint8(B++,f.length),C.setUint8(B++,u.length),C.setUint8(B++,g.length),C.setUint8(B++,_.length),C.setUint8(B++,t),Array.from(h,U=>C.setUint8(B++,U.charCodeAt(0))),Array.from(f,U=>C.setUint8(B++,U.charCodeAt(0))),Array.from(u,U=>C.setUint8(B++,U.charCodeAt(0))),Array.from(g,U=>C.setUint8(B++,U.charCodeAt(0))),Array.from(_,U=>C.setUint8(B++,U.charCodeAt(0)));var k=new Uint8Array(E.byteLength+i.byteLength);return k.set(new Uint8Array(E),0),k.set(new Uint8Array(i),E.byteLength),k.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,o,u,f,h]=i;return t({join_ref:a,ref:o,topic:u,event:f,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),a=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,a)}_decodeUserBroadcast(e,t,i){const a=t.getUint8(1),o=t.getUint8(2),u=t.getUint8(3),f=t.getUint8(4);let h=this.HEADER_LENGTH+4;const g=i.decode(e.slice(h,h+a));h=h+a;const w=i.decode(e.slice(h,h+o));h=h+o;const _=i.decode(e.slice(h,h+u));h=h+u;const x=e.slice(h,e.byteLength),E=f===this.JSON_ENCODING?JSON.parse(i.decode(x)):x,C={type:this.BROADCAST_EVENT,event:w,payload:E};return u>0&&(C.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class VE{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Bt||(Bt={}));const A_=(r,e,t={})=>{var i;const a=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=I5(u,r,e,a),o),{}):{}},I5=(r,e,t,i)=>{const a=e.find(f=>f.name===r),o=a?.type,u=t[r];return o&&!i.includes(o)?YE(o,u):Yp(u)},YE=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return D5(e,t)}switch(r){case Bt.bool:return L5(e);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return j5(e);case Bt.json:case Bt.jsonb:return U5(e);case Bt.timestamp:return z5(e);case Bt.abstime:case Bt.date:case Bt.daterange:case Bt.int4range:case Bt.int8range:case Bt.money:case Bt.reltime:case Bt.text:case Bt.time:case Bt.timestamptz:case Bt.timetz:case Bt.tsrange:case Bt.tstzrange:return Yp(e);default:return Yp(e)}},Yp=r=>r,L5=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},j5=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},U5=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},D5=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let o;const u=r.slice(1,t);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(f=>YE(e,f))}return r},z5=r=>typeof r=="string"?r.replace(" ","T"):r,ZE=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Xg{constructor(e,t,i={},a=Gp){this.channel=e,this.event=t,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var x_;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(x_||(x_={}));class vu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:o,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vu.syncState(this.state,a,o,u),this.pendingDiffs.forEach(h=>{this.state=vu.syncDiff(this.state,h,o,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=vu.syncDiff(this.state,a,o,u),f())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,a){const o=this.cloneDeep(e),u=this.transformState(t),f={},h={};return this.map(o,(g,w)=>{u[g]||(h[g]=w)}),this.map(u,(g,w)=>{const _=o[g];if(_){const x=w.map(k=>k.presence_ref),E=_.map(k=>k.presence_ref),C=w.filter(k=>E.indexOf(k.presence_ref)<0),B=_.filter(k=>x.indexOf(k.presence_ref)<0);C.length>0&&(f[g]=C),B.length>0&&(h[g]=B)}else f[g]=w}),this.syncDiff(o,{joins:f,leaves:h},i,a)}static syncDiff(e,t,i,a){const{joins:o,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(o,(f,h)=>{var g;const w=(g=e[f])!==null&&g!==void 0?g:[];if(e[f]=this.cloneDeep(h),w.length>0){const _=e[f].map(E=>E.presence_ref),x=w.filter(E=>_.indexOf(E.presence_ref)<0);e[f].unshift(...x)}i(f,w,h)}),this.map(u,(f,h)=>{let g=e[f];if(!g)return;const w=h.map(_=>_.presence_ref);g=g.filter(_=>w.indexOf(_.presence_ref)<0),e[f]=g,a(f,g,h),g.length===0&&delete e[f]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const a=e[i];return"metas"in a?t[i]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[i]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M_;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(M_||(M_={}));var bu;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(bu||(bu={}));var Ii;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ii||(Ii={}));class Go{constructor(e,t={config:{}},i){var a,o;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Mn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Xg(this,Wr.join,this.params,this.timeout),this.rejoinTimer=new VE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Mn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wr.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new vu(this),this.broadcastEndpointURL=ZE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Mn.closed){const{config:{broadcast:u,presence:f,private:h}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(E=>E.filter))!==null&&a!==void 0?a:[],w=!!this.bindings[bu.PRESENCE]&&this.bindings[bu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,_={},x={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:w}),postgres_changes:g,private:h};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e?.(Ii.CHANNEL_ERROR,E)),this._onClose(()=>e?.(Ii.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){e?.(Ii.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,k=(C=B?.length)!==null&&C!==void 0?C:0,U=[];for(let q=0;q<k;q++){const L=B[q],{filter:{event:G,schema:te,table:J,filter:se}}=L,oe=E&&E[q];if(oe&&oe.event===G&&Go.isFilterValueEqual(oe.schema,te)&&Go.isFilterValueEqual(oe.table,J)&&Go.isFilterValueEqual(oe.filter,se))U.push(Object.assign(Object.assign({},L),{id:oe.id}));else{this.unsubscribe(),this.state=Mn.errored,e?.(Ii.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,e&&e(Ii.SUBSCRIBED);return}}).receive("error",E=>{this.state=Mn.errored,e?.(Ii.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ii.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===Mn.joined&&e===bu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var a;if(t==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const g=await f.json();h=g.error||g.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,f,h;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Mn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Xg(this,Wr.leave,{},e),i.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mn.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const a=new AbortController,o=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),u}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xg(this,e,t,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>N5){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var a,o;const u=e.toLocaleLowerCase(),{close:f,error:h,leave:g,join:w}=Wr;if(i&&[f,h,g,w].indexOf(u)>=0&&i!==this._joinRef())return;let x=this._onMessage(u,t,i);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var C,B,k;return((C=E.filter)===null||C===void 0?void 0:C.event)==="*"||((k=(B=E.filter)===null||B===void 0?void 0:B.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(E=>E.callback(x,i)):(o=this.bindings[u])===null||o===void 0||o.filter(E=>{var C,B,k,U,q,L;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in E){const G=E.id,te=(C=E.filter)===null||C===void 0?void 0:C.event;return G&&((B=t.ids)===null||B===void 0?void 0:B.includes(G))&&(te==="*"||te?.toLocaleLowerCase()===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const G=(q=(U=E?.filter)===null||U===void 0?void 0:U.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return G==="*"||G===((L=t?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===u}).map(E=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:B,table:k,commit_timestamp:U,type:q,errors:L}=C;x=Object.assign(Object.assign({},{schema:B,table:k,commit_timestamp:U,eventType:q,new:{},old:{},errors:L}),this._getPayloadRecords(C))}E.callback(x,i)})}_isClosed(){return this.state===Mn.closed}_isJoined(){return this.state===Mn.joined}_isJoining(){return this.state===Mn.joining}_isLeaving(){return this.state===Mn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const a=e.toLocaleLowerCase(),o={type:a,filter:t,callback:i};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===i&&Go.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Wr.close,{},e)}_onError(e){this._on(Wr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=A_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=A_(e.columns,e.old_record)),t}}const ep=()=>{},pf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q5=[1e3,2e3,5e3,1e4],H5=1e4,P5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W5{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gp,this.transport=null,this.heartbeatIntervalMs=pf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ep,this.ref=0,this.reconnectTimer=null,this.vsn=E_,this.logger=ep,this.conn=null,this.sendBuffer=[],this.serializer=new k5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Vp.websocket}`,this.httpEndpoint=ZE(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=T5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ls.connecting:return fa.Connecting;case Ls.open:return fa.Open;case Ls.closing:return fa.Closing;default:return fa.Closed}}isConnected(){return this.connectionState()===fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===i);if(a)return a;{const o=new Go(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:i,payload:a,ref:o}=e,u=()=>{this.encode(e,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${t} ${i} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(O5,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},pf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",g)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:a,payload:o,ref:u}=t,f=u?`(${u})`:"",h=o.status||"";this.log("receive",`${h} ${i} ${a} ${f}`.trim(),o),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,o,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ls.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ls.open||this.conn.readyState===Ls.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Wr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${i}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([P5],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(a=>{const o={access_token:t,version:C5};t&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(Wr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new VE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,a,o,u,f,h,g,w,_,x,E;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Gp,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:pf.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:ep,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:E_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e?.reconnectAfterMs)!==null&&g!==void 0?g:(C=>q5[C-1]||H5),this.vsn){case B5:this.encode=(w=e?.encode)!==null&&w!==void 0?w:((C,B)=>B(JSON.stringify(C))),this.decode=(_=e?.decode)!==null&&_!==void 0?_:((C,B)=>B(JSON.parse(C)));break;case GE:this.encode=(x=e?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(E=e?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Tu=class extends Error{constructor(r,e){super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $5(r,e,t){const i=new URL(e,r);if(t)for(const[a,o]of Object.entries(t))o!==void 0&&i.searchParams.set(a,o);return i.toString()}async function K5(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function F5(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:a,body:o,headers:u}){const f=$5(r.baseUrl,i,a),h=await K5(r.auth),g=await e(f,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...h,...u},body:o?JSON.stringify(o):void 0}),w=await g.text(),_=(g.headers.get("content-type")||"").includes("application/json"),x=_&&w?JSON.parse(w):w;if(!g.ok){const E=_?x:void 0,C=E?.error;throw new Tu(C?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:C?.type,icebergCode:C?.code,details:E})}return{status:g.status,headers:g.headers,data:x}}}}function mf(r){return r.join("")}var G5=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:mf(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(r,e){const t={namespace:r.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mf(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mf(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mf(r.namespace)}`}),!0}catch(e){if(e instanceof Tu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(t){if(t instanceof Tu&&t.status===409)return;throw t}}};function Ro(r){return r.join("")}var V5=class{constructor(r,e="",t){this.client=r,this.prefix=e,this.accessDelegation=t}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ro(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ro(r.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(r,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ro(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ro(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ro(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ro(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(t){if(t instanceof Tu&&t.status===404)return!1;throw t}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(t){if(t instanceof Tu&&t.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw t}}},Y5=class{constructor(r){let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const t=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=F5({baseUrl:t,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new G5(this.client,e),this.tableOps=new V5(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Rh=class extends Error{constructor(r,e="storage",t,i){super(r),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=i}};function Ch(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var yf=class extends Rh{constructor(r,e,t,i="storage"){super(r,i,e,t),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},QE=class extends Rh{constructor(r,e,t="storage"){super(r,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Z5=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Q5=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Zp=r=>{if(Array.isArray(r))return r.map(t=>Zp(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Zp(i)}),e},J5=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Ru(r){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(r)}function X5(r,e){if(Ru(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(Ru(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function eB(r){var e=X5(r,"string");return Ru(e)=="symbol"?e:e+""}function tB(r,e,t){return(e=eB(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function T_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,i)}return t}function $e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T_(Object(t),!0).forEach(function(i){tB(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):T_(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const R_=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},nB=async(r,e,t,i)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!t?.noResolveJson){const a=r,o=a.status||500;if(typeof a.json=="function")a.json().then(u=>{const f=u?.statusCode||u?.code||o+"";e(new yf(R_(u),o,f,i))}).catch(()=>{if(i==="vectors"){const u=o+"";e(new yf(a.statusText||`HTTP ${o} error`,o,u,i))}else{const u=o+"";e(new yf(a.statusText||`HTTP ${o} error`,o,u,i))}});else{const u=o+"";e(new yf(a.statusText||`HTTP ${o} error`,o,u,i))}}else e(new QE(R_(r),r,i))},rB=(r,e,t,i)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||r==="HEAD"||!i?$e($e({},a),t):(Q5(i)?(a.headers=$e({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(i)):a.body=i,e?.duplex&&(a.duplex=e.duplex),$e($e({},a),t))};async function lu(r,e,t,i,a,o,u){return new Promise((f,h)=>{r(t,rB(e,i,a,o)).then(g=>{if(!g.ok)throw g;if(i?.noResolveJson)return g;if(u==="vectors"){const w=g.headers.get("content-type");if(!w||!w.includes("application/json"))return{}}return g.json()}).then(g=>f(g)).catch(g=>nB(g,h,i,u))})}function iB(r="storage"){return{get:async(e,t,i,a)=>lu(e,"GET",t,i,a,void 0,r),post:async(e,t,i,a,o)=>lu(e,"POST",t,a,o,i,r),put:async(e,t,i,a,o)=>lu(e,"PUT",t,a,o,i,r),head:async(e,t,i,a)=>lu(e,"HEAD",t,$e($e({},i),{},{noResolveJson:!0}),a,void 0,r),remove:async(e,t,i,a,o)=>lu(e,"DELETE",t,a,o,i,r)}}const sB=iB("storage"),{get:Cu,post:Ft,put:Qp,head:aB,remove:Im}=sB;var ul=class{constructor(r,e={},t,i="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.fetch=Z5(t),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var e=this;try{return{data:await r(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ch(t))return{data:null,error:t};throw t}}},oB=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Ch(e))return{data:null,error:e};throw e}}};let JE;JE=Symbol.toStringTag;var lB=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[JE]="BlobDownloadBuilder",this.promise=null}asStream(){return new oB(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Ch(e))return{data:null,error:e};throw e}}};const uB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},C_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cB=class extends ul{constructor(r,e={},t,i){super(r,e,i,"storage"),this.bucketId=t}async uploadOrUpdate(r,e,t,i){var a=this;return a.handleOperation(async()=>{let o;const u=$e($e({},C_),i);let f=$e($e({},a.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&t instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",a.encodeMetadata(h)),o.append("",t)):typeof FormData<"u"&&t instanceof FormData?(o=t,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),h&&!o.has("metadata")&&o.append("metadata",a.encodeMetadata(h))):(o=t,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,h&&(f["x-metadata"]=a.toBase64(a.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),i?.headers&&(f=$e($e({},f),i.headers));const g=a._removeEmptyFolders(e),w=a._getFinalPath(g),_=await(r=="PUT"?Qp:Ft)(a.fetch,`${a.url}/object/${w}`,o,$e({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{path:g,id:_.Id,fullPath:_.Key}})}async upload(r,e,t){return this.uploadOrUpdate("POST",r,e,t)}async uploadToSignedUrl(r,e,t,i){var a=this;const o=a._removeEmptyFolders(r),u=a._getFinalPath(o),f=new URL(a.url+`/object/upload/sign/${u}`);return f.searchParams.set("token",e),a.handleOperation(async()=>{let h;const g=$e({upsert:C_.upsert},i),w=$e($e({},a.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",g.cacheControl)):(h=t,w["cache-control"]=`max-age=${g.cacheControl}`,w["content-type"]=g.contentType),{path:o,fullPath:(await Qp(a.fetch,f.toString(),h,{headers:w})).Key}})}async createSignedUploadUrl(r,e){var t=this;return t.handleOperation(async()=>{let i=t._getFinalPath(r);const a=$e({},t.headers);e?.upsert&&(a["x-upsert"]="true");const o=await Ft(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(t.url+o.url),f=u.searchParams.get("token");if(!f)throw new Rh("No token returned by API");return{signedUrl:u.toString(),path:r,token:f}})}async update(r,e,t){return this.uploadOrUpdate("PUT",r,e,t)}async move(r,e,t){var i=this;return i.handleOperation(async()=>await Ft(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:i.headers}))}async copy(r,e,t){var i=this;return i.handleOperation(async()=>({path:(await Ft(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:r,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(r,e,t){var i=this;return i.handleOperation(async()=>{let a=i._getFinalPath(r),o=await Ft(i.fetch,`${i.url}/object/sign/${a}`,$e({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:i.headers});const u=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${i.url}${o.signedURL}${u}`)}})}async createSignedUrls(r,e,t){var i=this;return i.handleOperation(async()=>{const a=await Ft(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:r},{headers:i.headers}),o=t?.download?`&download=${t.download===!0?"":t.download}`:"";return a.map(u=>$e($e({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${o}`):null}))})}download(r,e){const t=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),a=i?`?${i}`:"",o=this._getFinalPath(r),u=()=>Cu(this.fetch,`${this.url}/${t}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new lB(u,this.shouldThrowOnError)}async info(r){var e=this;const t=e._getFinalPath(r);return e.handleOperation(async()=>Zp(await Cu(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(r){var e=this;const t=e._getFinalPath(r);try{return await aB(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ch(i)&&i instanceof QE){const a=i.originalError;if([400,404].includes(a?.status))return{data:!1,error:i}}throw i}}getPublicUrl(r,e){const t=this._getFinalPath(r),i=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&i.push(a);const o=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&i.push(u);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${t}${f}`)}}}async remove(r){var e=this;return e.handleOperation(async()=>await Im(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}))}async list(r,e,t){var i=this;return i.handleOperation(async()=>{const a=$e($e($e({},uB),e),{},{prefix:r||""});return await Ft(i.fetch,`${i.url}/object/list/${i.bucketId}`,a,{headers:i.headers},t)})}async listV2(r,e){var t=this;return t.handleOperation(async()=>{const i=$e({},r);return await Ft(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const fB="2.93.1",$u={"X-Client-Info":`storage-js/${fB}`};var hB=class extends ul{constructor(r,e={},t,i){const a=new URL(r);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const o=a.href.replace(/\/$/,""),u=$e($e({},$u),e);super(o,u,t,"storage")}async listBuckets(r){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(r);return await Cu(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(r){var e=this;return e.handleOperation(async()=>await Cu(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}))}async createBucket(r,e={public:!1}){var t=this;return t.handleOperation(async()=>await Ft(t.fetch,`${t.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(r,e){var t=this;return t.handleOperation(async()=>await Qp(t.fetch,`${t.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}))}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await Im(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},dB=class extends ul{constructor(r,e={},t){const i=r.replace(/\/$/,""),a=$e($e({},$u),e);super(i,a,t,"storage")}async createBucket(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}))}async listBuckets(r){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;r?.limit!==void 0&&t.set("limit",r.limit.toString()),r?.offset!==void 0&&t.set("offset",r.offset.toString()),r?.sortColumn&&t.set("sortColumn",r.sortColumn),r?.sortOrder&&t.set("sortOrder",r.sortOrder),r?.search&&t.set("search",r.search);const i=t.toString(),a=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await Cu(e.fetch,a,{headers:e.headers})})}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await Im(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}))}from(r){var e=this;if(!J5(r))throw new Rh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new Y5({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(a,o){const u=a[o];return typeof u!="function"?u:async(...f)=>{try{return{data:await u.apply(a,f),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}},gB=class extends ul{constructor(r,e={},t){const i=r.replace(/\/$/,""),a=$e($e({},$u),{},{"Content-Type":"application/json"},e);super(i,a,t,"vectors")}async createIndex(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{})}async getIndex(r,e){var t=this;return t.handleOperation(async()=>await Ft(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers}))}async listIndexes(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}))}async deleteIndex(r,e){var t=this;return t.handleOperation(async()=>await Ft(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:t.headers})||{})}},pB=class extends ul{constructor(r,e={},t){const i=r.replace(/\/$/,""),a=$e($e({},$u),{},{"Content-Type":"application/json"},e);super(i,a,t,"vectors")}async putVectors(r){var e=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{})}async getVectors(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}))}async listVectors(r){var e=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}))}async queryVectors(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}))}async deleteVectors(r){var e=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{})}},mB=class extends ul{constructor(r,e={},t){const i=r.replace(/\/$/,""),a=$e($e({},$u),{},{"Content-Type":"application/json"},e);super(i,a,t,"vectors")}async createBucket(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{})}async getBucket(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}))}async listBuckets(r={}){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}))}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await Ft(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{})}},yB=class extends mB{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new wB(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,t=this;return e().call(t,r)}async getBucket(r){var e=()=>super.getBucket,t=this;return e().call(t,r)}async listBuckets(r={}){var e=()=>super.listBuckets,t=this;return e().call(t,r)}async deleteBucket(r){var e=()=>super.deleteBucket,t=this;return e().call(t,r)}},wB=class extends gB{constructor(r,e,t,i){super(r,e,i),this.vectorBucketName=t}async createIndex(r){var e=()=>super.createIndex,t=this;return e().call(t,$e($e({},r),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,t=this;return e().call(t,$e($e({},r),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,r)}index(r){return new vB(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},vB=class extends pB{constructor(r,e,t,i,a){super(r,e,a),this.vectorBucketName=t,this.indexName=i}async putVectors(r){var e=()=>super.putVectors,t=this;return e().call(t,$e($e({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(r){var e=()=>super.getVectors,t=this;return e().call(t,$e($e({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,t=this;return e().call(t,$e($e({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,t=this;return e().call(t,$e($e({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,t=this;return e().call(t,$e($e({},r),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},bB=class extends hB{constructor(r,e={},t,i){super(r,e,t,i)}from(r){return new cB(this.url,this.headers,r,this.fetch)}get vectors(){return new yB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dB(this.url+"/iceberg",this.headers,this.fetch)}};const XE="2.93.1",Ho=30*1e3,Jp=3,tp=Jp*Ho,_B="http://localhost:9999",SB="supabase.auth.token",EB={"X-Client-Info":`gotrue-js/${XE}`},Xp="X-Supabase-Api-Version",e2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xB=600*1e3;class Bu extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function ke(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class MB extends Bu{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function TB(r){return ke(r)&&r.name==="AuthApiError"}class ha extends Bu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Zi extends Bu{constructor(e,t,i,a){super(e,i,a),this.name=t,this.status=i}}class yr extends Zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function np(r){return ke(r)&&r.name==="AuthSessionMissingError"}class Co extends Zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wf extends Zi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vf extends Zi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RB(r){return ke(r)&&r.name==="AuthImplicitGrantRedirectError"}class B_ extends Zi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CB extends Zi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class em extends Zi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function rp(r){return ke(r)&&r.name==="AuthRetryableFetchError"}class O_ extends Zi{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class tm extends Zi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),N_=` 	
\r=`.split(""),BB=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<N_.length;e+=1)r[N_[e].charCodeAt(0)]=-2;for(let e=0;e<lh.length;e+=1)r[lh[e].charCodeAt(0)]=e;return r})();function k_(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(lh[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(lh[i]),e.queuedBits-=6}}function t2(r,e,t){const i=BB[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function I_(r){const e=[],t=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{kB(u,i,t)};for(let u=0;u<r.length;u+=1)t2(r.charCodeAt(u),a,o);return e.join("")}function OB(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function NB(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}OB(i,e)}}function kB(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Jo(r){const e=[],t={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)t2(r.charCodeAt(a),t,i);return new Uint8Array(e)}function IB(r){const e=[];return NB(r,t=>e.push(t)),new Uint8Array(e)}function Sa(r){const e=[],t={queue:0,queuedBits:0},i=a=>{e.push(a)};return r.forEach(a=>k_(a,t,i)),k_(null,t,i),e.join("")}function LB(r){return Math.round(Date.now()/1e3)+r}function jB(){return Symbol("auth-callback")}const Dn=()=>typeof window<"u"&&typeof document<"u",ia={tested:!1,writable:!1},n2=()=>{if(!Dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ia.tested)return ia.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ia.tested=!0,ia.writable=!0}catch{ia.tested=!0,ia.writable=!1}return ia.writable};function UB(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return t.searchParams.forEach((i,a)=>{e[a]=i}),e}const r2=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),DB=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Po=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},sa=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},jn=async(r,e)=>{await r.removeItem(e)};class Bh{constructor(){this.promise=new Bh.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Bh.promiseConstructor=Promise;function bf(r){const e=r.split(".");if(e.length!==3)throw new tm("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!AB.test(e[i]))throw new tm("JWT not in base64url format");return{header:JSON.parse(I_(e[0])),payload:JSON.parse(I_(e[1])),signature:Jo(e[2]),raw:{header:e[0],payload:e[1]}}}async function zB(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function qB(r,e){return new Promise((i,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await r(o);if(!e(o,null,u)){i(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function HB(r){return("0"+r.toString(16)).substr(-2)}function PB(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,HB).join("")}async function WB(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(i);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function $B(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await WB(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bo(r,e,t=!1){const i=PB();let a=i;t&&(a+="/PASSWORD_RECOVERY"),await Po(r,`${e}-code-verifier`,a);const o=await $B(i);return[o,i===o?"plain":"s256"]}const KB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FB(r){const e=r.headers.get(Xp);if(!e||!e.match(KB))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function GB(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function VB(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oo(r){if(!YB.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ip(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ZB(r,e){return new Proxy(r,{get:(t,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,a)}})}function L_(r){return JSON.parse(JSON.stringify(r))}const ca=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),QB=[502,503,504];async function j_(r){var e;if(!DB(r))throw new em(ca(r),0);if(QB.includes(r.status))throw new em(ca(r),r.status);let t;try{t=await r.json()}catch(o){throw new ha(ca(o),o)}let i;const a=FB(r);if(a&&a.getTime()>=e2["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new O_(ca(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new yr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new O_(ca(t),r.status,t.weak_password.reasons);throw new MB(ca(t),r.status||500,i)}const JB=(r,e,t,i)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),t))};async function We(r,e,t,i){var a;const o=Object.assign({},i?.headers);o[Xp]||(o[Xp]=e2["2024-01-01"].name),i?.jwt&&(o.Authorization=`Bearer ${i.jwt}`);const u=(a=i?.query)!==null&&a!==void 0?a:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await XB(r,e,t+f,{headers:o,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function XB(r,e,t,i,a,o){const u=JB(e,i,a,o);let f;try{f=await r(t,Object.assign({},u))}catch(h){throw console.error(h),new em(ca(h),0)}if(f.ok||await j_(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await j_(h)}}function Hr(r){var e;let t=null;nO(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=LB(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function U_(r){const e=Hr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Us(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function eO(r){return{data:r,error:null}}function tO(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:a,verification_type:o}=r,u=Th(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:t,hashed_token:i,redirect_to:a,verification_type:o},h=Object.assign({},u);return{data:{properties:f,user:h},error:null}}function D_(r){return r}function nO(r){return r.access_token&&r.refresh_token&&r.expires_in}const sp=["global","local","others"];class rO{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=r2(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=sp[0]){if(sp.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sp.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ke(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Us})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Th(e,["options"]),a=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(a.new_email=i?.newEmail,delete a.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:tO,redirectTo:t?.redirectTo})}catch(t){if(ke(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Us})}catch(t){if(ke(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,a,o,u,f,h;try{const g={nextPage:null,lastPage:0,total:0},w=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:D_});if(w.error)throw w.error;const _=await w.json(),x=(u=w.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(h=(f=w.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(C=>{const B=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(C.split(";")[1].split("=")[1]);g[`${k}Page`]=B}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ke(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Oo(e);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Us})}catch(t){if(ke(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Oo(e);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Us})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Oo(e);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Us})}catch(i){if(ke(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Oo(e.userId);try{const{data:t,error:i}=await We(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:i}}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Oo(e.userId),Oo(e.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,a,o,u,f,h;try{const g={nextPage:null,lastPage:0,total:0},w=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:D_});if(w.error)throw w.error;const _=await w.json(),x=(u=w.headers.get("x-total-count"))!==null&&u!==void 0?u:0,E=(h=(f=w.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(C=>{const B=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(C.split(";")[1].split("=")[1]);g[`${k}Page`]=B}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ke(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await We(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ke(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ke(t))return{data:null,error:t};throw t}}}function z_(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const No={debug:!!(globalThis&&n2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class iO extends i2{}async function sO(r,e,t){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new iO(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(No.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function aO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function s2(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function oO(r){return parseInt(r,16)}function lO(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function uO(r){var e;const{chainId:t,domain:i,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:f,requestId:h,resources:g,scheme:w,uri:_,version:x}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const E=s2(r.address),C=w?`${w}://${i}`:i,B=r.statement?`${r.statement}
`:"",k=`${C} wants you to sign in with your Ethereum account:
${E}

${B}`;let U=`URI: ${_}
Version: ${x}
Chain ID: ${t}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(U+=`
Expiration Time: ${a.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),h&&(U+=`
Request ID: ${h}`),g){let q=`
Resources:`;for(const L of g){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);q+=`
- ${L}`}U+=q}return`${k}
${U}`}class Sn extends Error{constructor({message:e,code:t,cause:i,name:a}){var o;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(o=a??(i instanceof Error?i.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class uh extends Sn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function cO({error:r,options:e}){var t,i,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Sn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return o.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(a2(u)){if(o.rp.id!==u)return new Sn({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function fO({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Sn({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(a2(i)){if(t.rpId!==i)return new Sn({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class hO{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const dO=new hO;function gO(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,a=Th(r,["challenge","user","excludeCredentials"]),o=Jo(e).buffer,u=Object.assign(Object.assign({},t),{id:Jo(t.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:o,user:u});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const g=i[h];f.excludeCredentials[h]=Object.assign(Object.assign({},g),{id:Jo(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function pO(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=Th(r,["challenge","allowCredentials"]),a=Jo(e).buffer,o=Object.assign(Object.assign({},i),{challenge:a});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let u=0;u<t.length;u++){const f=t[u];o.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Jo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return o}function mO(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Sa(new Uint8Array(r.response.attestationObject)),clientDataJSON:Sa(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function yO(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Sa(new Uint8Array(a.authenticatorData)),clientDataJSON:Sa(new Uint8Array(a.clientDataJSON)),signature:Sa(new Uint8Array(a.signature)),userHandle:a.userHandle?Sa(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function a2(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function q_(){var r,e;return!!(Dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function wO(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new uh("Browser returned unexpected credential type",e)}:{data:null,error:new uh("Empty credential response",e)}}catch(e){return{data:null,error:cO({error:e,options:r})}}}async function vO(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new uh("Browser returned unexpected credential type",e)}:{data:null,error:new uh("Empty credential response",e)}}catch(e){return{data:null,error:fO({error:e,options:r})}}}const bO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_O={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ch(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of r)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))i[o]=u;else if(t(u))i[o]=u;else if(e(u)){const f=i[o];e(f)?i[o]=ch(f,u):i[o]=ch(u)}else i[o]=u}return i}function SO(r,e){return ch(bO,r,e||{})}function EO(r,e){return ch(_O,r,e||{})}class AO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:a},o){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:f};const h=a??dO.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=SO(u.webauthn.credential_options.publicKey,o?.create),{data:w,error:_}=await wO({publicKey:g,signal:h});return w?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:w}},error:null}:{data:null,error:_}}case"request":{const g=EO(u.webauthn.credential_options.publicKey,o?.request),{data:w,error:_}=await vO(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:h}));return w?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:w}},error:null}:{data:null,error:_}}}}catch(u){return ke(u)?{data:null,error:u}:{data:null,error:new ha("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!t)return{data:null,error:new Bu("rpId is required for WebAuthn authentication")};try{if(!q_())return{data:null,error:new ha("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:a},{request:o});if(!u)return{data:null,error:f};const{webauthn:h}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:i,credential_response:h.credential_response}})}catch(u){return ke(u)?{data:null,error:u}:{data:null,error:new ha("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!t)return{data:null,error:new Bu("rpId is required for WebAuthn registration")};try{if(!q_())return{data:null,error:new ha("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(w=>{var _;return(_=w.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w?.id}):void 0),{data:null,error:f};const{data:h,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:a},{create:o});return h?this._verify({factorId:u.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:g}}catch(u){return ke(u)?{data:null,error:u}:{data:null,error:new ha("Unexpected error in register",u)}}}}aO();const xO={url:_B,storageKey:SB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function H_(r,e,t){return await t()}const ko={};class Ou{get jwks(){var e,t;return(t=(e=ko[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ko[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},xO),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Ou.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Ou.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Dn()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new rO({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=r2(o.fetch),this.lock=o.lock||H_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Dn()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=sO:this.lock=H_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:n2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=z_(this.memoryStorage)),Dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${XE}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(Dn()&&(t=UB(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),Dn()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:o}=await this._getSessionFromURL(t,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),RB(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ke(t)?this._returnResult({error:t}):this._returnResult({error:new ha("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,a;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Hr}),{data:u,error:f}=o;if(f||!u)return this._returnResult({data:{user:null,session:null},error:f});const h=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(o){if(ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,i,a;try{let o;if("email"in e){const{email:w,password:_,options:x}=e;let E=null,C=null;this.flowType==="pkce"&&([E,C]=await Bo(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:w,password:_,data:(t=x?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:E,code_challenge_method:C},xform:Hr})}else if("phone"in e){const{phone:w,password:_,options:x}=e;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:_,data:(i=x?.data)!==null&&i!==void 0?i:{},channel:(a=x?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Hr})}else throw new wf("You must provide either an email or phone number and a password");const{data:u,error:f}=o;if(f||!u)return await jn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(o){if(await jn(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:u,options:f}=e;t=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:U_})}else if("phone"in e){const{phone:o,password:u,options:f}=e;t=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:U_})}else throw new wf("You must provide either an email or phone number and a password");const{data:i,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const o=new Co;return this._returnResult({data:{user:null,session:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,a,o,u,f,h,g,w,_,x;let E,C;if("message"in e)E=e.message,C=e.signature;else{const{chain:B,wallet:k,statement:U,options:q}=e;let L;if(Dn())if(typeof k=="object")L=k;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")L=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=k}const G=new URL((t=q?.url)!==null&&t!==void 0?t:window.location.href),te=await L.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=s2(te[0]);let se=(i=q?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!se){const P=await L.request({method:"eth_chainId"});se=oO(P)}const oe={domain:G.host,address:J,statement:U,uri:G.href,version:"1",chainId:se,nonce:(a=q?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=q?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=q?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=q?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(w=q?.signInWithEthereum)===null||w===void 0?void 0:w.resources};E=uO(oe),C=await L.request({method:"personal_sign",params:[lO(E),J]})}try{const{data:B,error:k}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:C},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Hr});if(k)throw k;if(!B||!B.session||!B.user){const U=new Co;return this._returnResult({data:{user:null,session:null},error:U})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:k})}catch(B){if(ke(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async signInWithSolana(e){var t,i,a,o,u,f,h,g,w,_,x,E;let C,B;if("message"in e)C=e.message,B=e.signature;else{const{chain:k,wallet:U,statement:q,options:L}=e;let G;if(Dn())if(typeof U=="object")G=U;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))G=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=U}const te=new URL((t=L?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in G&&G.signIn){const J=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),q?{statement:q}:null));let se;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")se=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)se=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)C=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),B=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${te.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(a=(i=L?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=L?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((u=L?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((f=L?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((h=L?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((g=L?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((_=(w=L?.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||_===void 0)&&_.length?["Resources",...L.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const J=await G.signMessage(new TextEncoder().encode(C),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=J}}try{const{data:k,error:U}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Sa(B)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Hr});if(U)throw U;if(!k||!k.session||!k.user){const q=new Co;return this._returnResult({data:{user:null,session:null},error:q})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:U})}catch(k){if(ke(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const t=await sa(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new CB;const{data:o,error:u}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Hr});if(await jn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const f=new Co;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(await jn(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:i,token:a,access_token:o,nonce:u}=e,f=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Hr}),{data:h,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h||!h.session||!h.user){const w=new Co;return this._returnResult({data:{user:null,session:null},error:w})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:g})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,a,o,u;try{if("email"in e){const{email:f,options:h}=e;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Bo(this.storage,this.storageKey));const{error:_}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(t=h?.data)!==null&&t!==void 0?t:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:w},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:f,options:h}=e,{data:g,error:w}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:w})}throw new wf("You must provide either an email or phone number.")}catch(f){if(await jn(this.storage,`${this.storageKey}-code-verifier`),ke(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(e){var t,i;try{let a,o;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Hr});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,g=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(a){if(ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,i,a,o,u;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Bo(this.storage,this.storageKey));const g=await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:eO});return!((o=g.data)===null||o===void 0)&&o.url&&Dn()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await jn(this.storage,`${this.storageKey}-code-verifier`),ke(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new yr;const{error:a}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(ke(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:o}=e,{error:u}=await We(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:i,type:a,options:o}=e,{data:u,error:f}=await We(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new wf("You must provide either an email or phone number and a type")}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<tp:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await sa(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=ip()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=ZB(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Us}):await this._useSession(async t=>{var i,a,o;const{data:u,error:f}=t;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yr}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Us})})}catch(t){if(ke(t))return np(t)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:a,error:o}=i;if(o)throw o;if(!a.session)throw new yr;const u=a.session;let f=null,h=null;this.flowType==="pkce"&&e.email!=null&&([f,h]=await Bo(this.storage,this.storageKey));const{data:g,error:w}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:h}),jwt:u.access_token,xform:Us});if(w)throw w;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await jn(this.storage,`${this.storageKey}-code-verifier`),ke(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yr;const t=Date.now()/1e3;let i=t,a=!0,o=null;const{payload:u}=bf(e.access_token);if(u.exp&&(i=u.exp,a=i<=t),a){const{data:f,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};o=f}else{const{data:f,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});o={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(ke(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:u,error:f}=t;if(f)throw f;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new yr;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ke(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Dn())throw new vf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new B_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new B_("No code detected.");const{data:q,error:L}=await this._exchangeCodeForSession(e.code);if(L)throw L;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:f,expires_at:h,token_type:g}=e;if(!o||!f||!u||!g)throw new vf("No session defined in URL");const w=Math.round(Date.now()/1e3),_=parseInt(f);let x=w+_;h&&(x=parseInt(h));const E=x-w;E*1e3<=Ho&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const C=x-_;w-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,w):w-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,w);const{data:B,error:k}=await this._getUser(o);if(k)throw k;const U={provider_token:i,provider_refresh_token:a,access_token:o,expires_in:_,expires_at:x,refresh_token:u,token_type:g,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:e.type},error:null})}catch(i){if(ke(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await sa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:a,error:o}=t;if(o&&!np(o))return this._returnResult({error:o});const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(TB(f)&&(f.status===404||f.status===401||f.status===403)||np(f)))return this._returnResult({error:f})}return e!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=jB(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,a;try{const{data:{session:o},error:u}=t;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Bo(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await jn(this.storage,`${this.storageKey}-code-verifier`),ke(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:a}=await this._useSession(async o=>{var u,f,h,g,w;const{data:_,error:x}=o;if(x)throw x;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",E,{headers:this.headers,jwt:(w=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&w!==void 0?w:void 0})});if(a)throw a;return Dn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ke(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:a,data:{session:o}}=t;if(a)throw a;const{options:u,provider:f,token:h,access_token:g,nonce:w}=e,_=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=o?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:h,access_token:g,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Hr}),{data:x,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Co}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:E}))}catch(a){if(await jn(this.storage,`${this.storageKey}-code-verifier`),ke(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,a;const{data:o,error:u}=t;if(u)throw u;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await qB(async a=>(a>0&&await zB(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hr})),(a,o)=>{const u=200*Math.pow(2,a);return o&&rp(o)&&Date.now()+u-i<Ho})}catch(i){if(this._debug(t,"error",i),ke(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),Dn()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await sa(this.storage,this.storageKey);if(a&&this.userStorage){let u=await sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Po(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:ip()}else if(a&&!a.user&&!a.user){const u=await sa(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await jn(this.storage,this.storageKey+"-user"),await Po(this.storage,this.storageKey,a)):a.user=ip()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const o=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<tp;if(this._debug(i,`session has${o?"":" not"} expired with margin of ${tp}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),rp(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Bh;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new yr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const f={data:o.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(o){if(this._debug(a,"error",o),ke(o)){const u={data:null,error:o};return rp(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,t)}catch(h){o.push(h)}});if(await Promise.all(u),o.length>0){for(let f=0;f<o.length;f+=1)console.error(o[f]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await jn(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await Po(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const o=L_(a);await Po(this.storage,this.storageKey,o)}else{const a=L_(t);await Po(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ho);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Ho);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ho}ms, refresh threshold is ${Jp} ticks`),a<=Jp&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof i2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const a=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[o,u]=await Bo(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(i?.queryParams){const o=new URLSearchParams(i.queryParams);a.push(o.toString())}return i?.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:a,error:o}=t;return o?this._returnResult({data:null,error:o}):await We(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,a;const{data:o,error:u}=t;if(u)return this._returnResult({data:null,error:u});const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:g}=await We(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h?.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var i;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?mO(e.webauthn.credential_response):yO(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:h}=await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var i;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const u=await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:gO(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:pO(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,i,a,o;if(e)try{const{payload:E}=bf(e);let C=null;E.aal&&(C=E.aal);let B=C;const{data:{user:k},error:U}=await this.getUser(e);if(U)return this._returnResult({data:null,error:U});((i=(t=k?.factors)===null||t===void 0?void 0:t.filter(G=>G.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(B="aal2");const L=E.amr||[];return{data:{currentLevel:C,nextLevel:B,currentAuthenticationMethods:L},error:null}}catch(E){if(ke(E))return this._returnResult({data:null,error:E});throw E}const{data:{session:u},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=bf(u.access_token);let g=null;h.aal&&(g=h.aal);let w=g;((o=(a=u.user.factors)===null||a===void 0?void 0:a.filter(E=>E.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(w="aal2");const x=h.amr||[];return{data:{currentLevel:g,nextLevel:w,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?this._returnResult({data:null,error:a}):i?await We(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new yr})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new yr});const u=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Dn()&&!t?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new yr});const u=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return u.data&&u.data.redirect_url&&Dn()&&!t?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await We(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new yr})})}catch(e){if(ke(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?this._returnResult({data:null,error:a}):i?(await We(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new yr})})}catch(t){if(ke(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(f=>f.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(f=>f.kid===e),i&&this.jwks_cached_at+xB>a)return i;const{data:o,error:u}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,i=o.keys.find(f=>f.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:E,error:C}=await this.getSession();if(C||!E.session)return this._returnResult({data:null,error:C});i=E.session.access_token}const{header:a,payload:o,signature:u,raw:{header:f,payload:h}}=bf(i);t?.allowExpired||GB(o.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!g){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:o,header:a,signature:u},error:null}}const w=VB(a.alg),_=await crypto.subtle.importKey("jwk",g,w,!0,["verify"]);if(!await crypto.subtle.verify(w,_,u,IB(`${f}.${h}`)))throw new tm("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(i){if(ke(i))return this._returnResult({data:null,error:i});throw i}}}Ou.nextInstanceID={};const MO=Ou,TO="2.93.1";let mu="";typeof Deno<"u"?mu="deno":typeof document<"u"?mu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mu="react-native":mu="node";function RO(){const r=globalThis.process;if(r&&r.platform){const e=r.platform;if(e==="darwin")return"macOS";if(e==="win32")return"Windows";if(e==="linux")return"Linux";if(e==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const e=navigator.userAgentData.platform;if(e==="macOS")return"macOS";if(e==="Windows")return"Windows";if(e==="Linux")return"Linux";if(e==="Android")return"Android";if(e==="iOS")return"iOS"}return null}function CO(){const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node&&typeof window>"u")try{const t=globalThis.require;if(t)return t("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function BO(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node)return"node"}return null}function OO(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const r=globalThis.process;if(r){const e=r.versions;if(e&&e.node)return e.node}return null}function NO(){const r={"X-Client-Info":`supabase-js-${mu}/${TO}`},e=RO();e&&(r["X-Supabase-Client-Platform"]=e);const t=CO();t&&(r["X-Supabase-Client-Platform-Version"]=t);const i=BO();i&&(r["X-Supabase-Client-Runtime"]=i);const a=OO();return a&&(r["X-Supabase-Client-Runtime-Version"]=a),r}const kO=NO(),IO={headers:kO},LO={schema:"public"},jO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UO={};function Nu(r){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(r)}function DO(r,e){if(Nu(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e);if(Nu(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function zO(r){var e=DO(r,"string");return Nu(e)=="symbol"?e:e+""}function qO(r,e,t){return(e=zO(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function P_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,i)}return t}function cn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P_(Object(t),!0).forEach(function(i){qO(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):P_(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}const HO=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),PO=()=>Headers,WO=(r,e,t)=>{const i=HO(t),a=PO();return async(o,u)=>{var f;const h=(f=await e())!==null&&f!==void 0?f:r;let g=new a(u?.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${h}`),i(o,cn(cn({},u),{},{headers:g}))}};function $O(r){return r.endsWith("/")?r:r+"/"}function KO(r,e){var t,i;const{db:a,auth:o,realtime:u,global:f}=r,{db:h,auth:g,realtime:w,global:_}=e,x={db:cn(cn({},h),a),auth:cn(cn({},g),o),realtime:cn(cn({},w),u),storage:{},global:cn(cn(cn({},_),f),{},{headers:cn(cn({},(t=_?.headers)!==null&&t!==void 0?t:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?x.accessToken=r.accessToken:delete x.accessToken,x}function FO(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($O(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var GO=class extends MO{constructor(r){super(r)}},VO=class{constructor(r,e,t){var i,a;this.supabaseUrl=r,this.supabaseKey=e;const o=FO(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,f={db:LO,realtime:UO,auth:cn(cn({},jO),{},{storageKey:u}),global:IO},h=KO(t??{},f);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=h.auth)!==null&&g!==void 0?g:{},this.headers,h.global.fetch)}this.fetch=WO(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(cn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new M5(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new bB(this.storageUrl.href,this.headers,this.fetch,t?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new _5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,t)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,t;if(r.accessToken)return await r.accessToken();const{data:i}=await r.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:a,storageKey:o,flowType:u,lock:f,debug:h,throwOnError:g},w,_){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GO({url:this.authUrl.href,headers:cn(cn({},x),w),storageKey:o,autoRefreshToken:r,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:a,flowType:u,lock:f,debug:h,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new W5(this.realtimeUrl.href,cn(cn({},r),{},{params:cn(cn({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e?.access_token)})}_handleTokenChanged(r,e,t){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const YO=(r,e,t)=>new VO(r,e,t);function ZO(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const e=r.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ZO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QO="https://rnsfalgdlinjbhrvwyxr.supabase.co",JO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJuc2ZhbGdkbGluamJocnZ3eXhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkyNTU1MjQsImV4cCI6MjA4NDgzMTUyNH0.m-Ay5dbLsq6-60jI5leQA3Y3AamzZQHPRJKEIuykNzM",XO=YO(QO,JO);async function o2({wallet:r,game:e,score:t}){const{data:i,error:a}=await XO.functions.invoke("submit-score",{body:{wallet:r,game:e,score:t}});if(a)throw a;return i}function eN(){const{publicKey:r,connected:e}=Pu(),t="slalom",i="/winter-arcade/games/ice-slalom/index.html",a=X.useMemo(()=>r?r.toBase58():"",[r]),[o,u]=X.useState(0),[f,h]=X.useState({loading:!1,msg:""}),g=async()=>{try{if(h({loading:!0,msg:""}),!e||!a){h({loading:!1,msg:"Connect your wallet first."});return}const w=Number.parseInt(String(o),10);if(!Number.isFinite(w)||w<0){h({loading:!1,msg:"Invalid score."});return}const _=await o2({wallet:a,game:t,score:w});_?.ok?_.accepted?h({loading:!1,msg:`Score accepted  (new best: ${_.current_best})`}):h({loading:!1,msg:`Not improved (current best: ${_.current_best})`}):h({loading:!1,msg:"Submit failed."})}catch(w){console.error("submitScore error:",w),h({loading:!1,msg:"Submit failed (see console)."})}};return ne.jsxs("div",{className:"card",children:[ne.jsx(Wu,{to:"/arcade",label:" Back to Arcade"}),ne.jsx("h2",{className:"h2",children:" Ice Slalom"}),e?ne.jsxs(ne.Fragment,{children:[ne.jsxs("p",{className:"p",style:{marginTop:10,opacity:.85},children:["Wallet: ",ne.jsx("b",{children:a||""})]}),ne.jsx("div",{style:{marginTop:12,borderRadius:14,overflow:"hidden",border:"1px solid rgba(255,255,255,0.12)"},children:ne.jsx("iframe",{title:"Ice Slalom Game",src:i,style:{width:"100%",height:520,border:"0",display:"block"},sandbox:"allow-scripts allow-pointer-lock",referrerPolicy:"no-referrer"})}),ne.jsxs("div",{style:{marginTop:14,display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[ne.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[ne.jsx("span",{className:"p",style:{margin:0},children:"Test score:"}),ne.jsx("input",{type:"number",value:o,onChange:w=>u(w.target.value),style:{width:140,padding:"6px 8px",borderRadius:10,border:"1px solid rgba(255,255,255,0.15)",background:"rgba(0,0,0,0.25)",color:"white"}})]}),ne.jsx("button",{onClick:g,disabled:f.loading,style:{padding:"8px 12px",borderRadius:10,cursor:"pointer"},children:f.loading?"Submitting...":"Submit score"}),f.msg?ne.jsx("span",{className:"p",style:{margin:0,opacity:.9},children:f.msg}):null]}),ne.jsx("p",{className:"p",style:{marginTop:10,opacity:.7},children:"Next step: the game will postMessage the score to the parent, and we auto-submit at game over."})]}):ne.jsxs("div",{style:{marginTop:12},children:[ne.jsx("p",{className:"p",children:"This game is holders-only. Use the button in the top-right corner to connect your wallet."}),ne.jsx("p",{className:"p",style:{opacity:.75},children:"(If you are connected but still blocked later, that will be the token threshold check.)"})]})]})}function tN(){const{publicKey:r,connected:e}=Pu(),t="snowball",i="/winter-arcade/games/snowball/index.html",a=X.useMemo(()=>r?r.toBase58():"",[r]),[o,u]=X.useState(0),[f,h]=X.useState({loading:!1,msg:""});X.useEffect(()=>{function w(_){if(_?.data&&_.data.type==="WINTER_ARCADE_SCORE"&&_.data.game===t){const x=Number(_.data.score||0);if(!Number.isFinite(x)||x<0)return;u(x),h({loading:!1,msg:`Received score: ${x}`})}}return window.addEventListener("message",w),()=>window.removeEventListener("message",w)},[]);const g=async()=>{try{if(h({loading:!0,msg:""}),!e||!a){h({loading:!1,msg:"Connect your wallet first."});return}const w=Number.parseInt(String(o),10);if(!Number.isFinite(w)||w<0){h({loading:!1,msg:"Invalid score."});return}const _=await o2({wallet:a,game:t,score:w});_?.ok?_.accepted?h({loading:!1,msg:`Score accepted  (new best: ${_.current_best})`}):h({loading:!1,msg:`Not improved (current best: ${_.current_best})`}):h({loading:!1,msg:"Submit failed."})}catch(w){console.error("submitScore error:",w),h({loading:!1,msg:"Submit failed (see console)."})}};return ne.jsxs("div",{className:"card",children:[ne.jsx(Wu,{to:"/arcade",label:" Back to Arcade"}),ne.jsx("h2",{className:"h2",children:" Snowball Frenzy"}),e?ne.jsxs(ne.Fragment,{children:[ne.jsxs("p",{className:"p",style:{marginTop:10,opacity:.85},children:["Wallet: ",ne.jsx("b",{children:a||""})]}),ne.jsx("div",{style:{marginTop:12,borderRadius:14,overflow:"hidden",border:"1px solid rgba(255,255,255,0.12)"},children:ne.jsx("iframe",{title:"Snowball Frenzy Game",src:i,style:{width:"100%",height:520,border:"0",display:"block"},sandbox:"allow-scripts allow-pointer-lock",referrerPolicy:"no-referrer"})}),ne.jsxs("div",{style:{marginTop:14,display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[ne.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[ne.jsx("span",{className:"p",style:{margin:0},children:"Test score:"}),ne.jsx("input",{type:"number",value:o,onChange:w=>u(w.target.value),style:{width:140,padding:"6px 8px",borderRadius:10,border:"1px solid rgba(255,255,255,0.15)",background:"rgba(0,0,0,0.25)",color:"white"}})]}),ne.jsx("button",{onClick:g,disabled:f.loading,style:{padding:"8px 12px",borderRadius:10,cursor:"pointer"},children:f.loading?"Submitting...":"Submit score"}),f.msg?ne.jsx("span",{className:"p",style:{margin:0,opacity:.9},children:f.msg}):null]}),ne.jsx("p",{className:"p",style:{marginTop:10,opacity:.7},children:"Next step: the game will postMessage the score to the parent, and we auto-submit at game over."})]}):ne.jsxs("div",{style:{marginTop:12},children:[ne.jsx("p",{className:"p",children:"This game is holders-only. Use the button in the top-right corner to connect your wallet."}),ne.jsx("p",{className:"p",style:{opacity:.75},children:"(If you are connected but still blocked later, that will be the token threshold check.)"})]})]})}function nN(){return ne.jsx(AM,{children:ne.jsxs(Ni,{element:ne.jsx(d5,{}),children:[ne.jsx(Ni,{path:"/",element:ne.jsx(g5,{})}),ne.jsxs(Ni,{path:"/arcade",element:ne.jsx(p5,{}),children:[ne.jsx(Ni,{path:"ice-slalom",element:ne.jsx(eN,{})}),ne.jsx(Ni,{path:"snowball",element:ne.jsx(tN,{})})]}),ne.jsx(Ni,{path:"/snowball",element:ne.jsx(SM,{to:"/arcade/snowball",replace:!0})}),ne.jsx(Ni,{path:"/wall-of-fame",element:ne.jsx(m5,{})}),ne.jsx(Ni,{path:"/winner",element:ne.jsx(y5,{})})]})})}const rN=yp.Mainnet,iN="https://api.mainnet-beta.solana.com",sN=[new r5,new c5({network:rN})];Ax.createRoot(document.getElementById("root")).render(ne.jsx(xe.StrictMode,{children:ne.jsx(T3,{endpoint:iN,children:ne.jsx(G8,{wallets:sN,autoConnect:!1,children:ne.jsx(X8,{children:ne.jsx(VM,{children:ne.jsx(nN,{})})})})})}));export{_m as E,De as P,Xn as S,$r as T,Au as V,Kt as a,vp as b,zi as c};
